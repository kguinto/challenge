webpackJsonp([3],{"+88m":function(e,t,n){"use strict";(function(e){var t;(t=e).fn.toggleState=function(e,n){return n?t(this).attr(e,""):t(this).removeAttr(e)}}).call(t,n("7t+N"))},"+B0W":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("32HH")),o=s(n("rdLu")),a=n("SXII");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.patch=o.patch.bind(o),o.fetchAttrs=o.fetchAttrs.bind(o),o.cleanUp=o.cleanUp.bind(o),o.formattedTime=o.formattedTime.bind(o),o.sync=o.sync.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Model),i(t,[{key:"include",value:function(e){return o.default.extend(this,e(this))}},{key:"templateAttrs",value:function(e){var t=("function"==typeof e.split?e.split(" "):void 0)||e,n={},i=!0,r=!1,o=void 0;try{for(var a,s=Array.from(t)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,u=l.replace(/(-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""});this.has(l)?n[u]=this.get(l):this[u]?n[u]=this[u]():n[u]=void 0}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}},{key:"patch",value:function(e){var t=this;if(o.default.any(o.default.keys(e),function(t){return this.get(t)!==e[t]},this))return this.set(e),r.default.ajax({url:o.default.result(this,"url"),type:"patch",data:e,success:function(n,i,r){return t.set(t.parse(n)),t.trigger("sync",t,n,{changes:e})},error:function(n,i,r){return t.trigger("error",t,n,{changes:e})}})}},{key:"fetchAttrs",value:function(e,t){var n=this;if(null==t&&(t={}),o.default.isArray(e)||(e=[e]),0!==(e=o.default.compact(e)).length)return r.default.ajax({url:o.default.result(this,"url"),type:"get",success:function(i,r,a){return n.set(o.default.pick(n.parse(i),e)),"function"==typeof t.success?t.success(i,r,a):void 0},error:t.error})}},{key:"cleanUp",value:function(){return this.off()}},{key:"formattedTime",value:function(){var e;if(e=this.get("created_at"))return(0,a.formatTime)(e)}},{key:"sync",value:function(e,n,i){return null==i&&(i={}),i.model=n,function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sync",this).call(this,e,n,i)}}]),t}();t.default=l},"+W7k":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-selector__competition__header'>\n  <div class='component-activity-selector__grabber'></div>\n  <input type='checkbox' title='Select this competition'>\n  <div class='component-activity-selector__competition__icon'></div>\n  <span class='component-activity-selector__competition__title'>\n    <a class='component-activity-selector__competition__title__link' href=''></a>\n    <span class='component-activity-selector__competition__title__polls-count'></span>\n  </span>\n  <button class='component-activity-selector__competition__add-question'>Add question</button>\n  <button class='component-activity-selector__competition__share'>Share</button>\n  <button class='component-activity-selector__competition__edit'>Edit</button>\n  <button class='component-activity-selector__competition__duplicate'>Duplicate</button>\n  <button class='component-activity-selector__competition__activate' title='Activate this competition' aria-label='Activate'></button>\n  <div class='component-activity-selector__competition__responses component-activity-selector__row-count'>\n    <span class='component-activity-selector__row-count__count'></span>\n    <span class='component-activity-selector__row-count__label'></span>\n  </div>\n  <div class='component-activity-selector__competition__status-icon'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"+fxu":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n("x4Pe")),a=s(n("GL96"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.options.title||e.model.cleanTitle();e.$_element("title").text(t)}function u(e){var t=PollEv.env.get("api_url").path(e.model.showUrl());e.options.image.hide.length&&t.addQuery({hide:e.options.image.hide.join(",")}),e.model.has("display_state")&&t.addQuery({display_state:e.model.get("display_state")}),e.model.has("state")&&t.addQuery({activity_state:e.model.get("state")});var n=PollEv.env.get("slide_server_url").path("placeholder");n.addQuery({hide:"overlay",width:e.options.image.width,height:e.options.image.height,url:t.toString()}),e.$("img").attr({src:n.toString()})}var c=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.extend(this,(0,o.default)(this)),this.options=i.defaults(e,{summary:"",title:null,image:{}}),i.defaults(this.options.image,{hide:["instructions","empty_ftp_notice","correctness","clickable_image_regions","keywords"],width:800,height:600}),null===e.title&&this.listenTo(this.model,"change:title",i.partial(l,this)),this.listenTo(this.model,"change:display_state",i.partial(u,this)),this.listenTo(this.model,"change:permalink",i.partial(u,this))}},{key:"render",value:function(){return this.$el.html(a.default),!1===this.options.title&&this.$_element("title").remove(),l(this),u(this),i.isString(this.options.summary)?this.$_element("summary").text(this.options.summary):this.$_element("summary").append(this.options.summary),this}},{key:"attributes",get:function(){return{role:"button"}}},{key:"className",get:function(){return"component-activity-card"}},{key:"events",get:function(){return{click:function(){this.trigger("select",this.model)}}}}]),n}();t.default=c}).call(t,n("32HH"),n("rdLu"))},"+xUn":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=d(n("82hR")),a=d(n("Y8hB")),s=d(n("40hA")),l=n("Lxn6"),u=d(n("vrNa")),c=d(n("twVR")),p=d(n("1deM"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){e.app.navigate(t.showUrl()+"/preview",{params:{poll:t}})},h=function(e,t){return"poll"===t?e.find(".component-activity-selector__survey__header input[type='checkbox']").prop("disabled",!0):"survey"===t?e.find(".component-activity-selector__survey__polls input[type='checkbox']").prop("disabled",!0):void 0},v=function(e,t){e.app.navigate("multiple_choice/new",{params:{assignmentModel:t}})},g=function(e,t){e.app.navigate(t.editUrl(),{params:{poll:t}})},y=function(t,n){var r=[];return n.forEach(function(e){if(e instanceof o.default&&e.get("activities_count")>0&&e.activities.isEmpty())return r.push(e.activities.fetch())}),i.when.apply(i,r).then(function(){return w(t,n).then(function(n){"screenshot"===t.actionLabel&&(n=e.reject(n,function(e){return"survey"===e.type()})),t.updateActionStyle(n)})})},m=function(e,t){var n=i(t.target).val().trim();n.length>2?(e.selectorView.$el.toggleVisibility(!1),e.searchView.$el.toggleVisibility(!0),e.searchView.search(n),e.app.trigger("spinner:show"),e.updateActionStyle()):0===n.length&&b(e)},b=function(e){return e.header.$("[js-search-polls]").val(""),e.selectorView.$el.toggleVisibility(!0),e.searchView.$el.toggleVisibility(!1),e.searchView.clear(),w(e,e.selectorView.getSelected()).then(function(t){return e.updateActionStyle(t.length)})},_=function(e,t){var n=t.data&&!e.settings.disables("insert")&&e.selectorView.getSelected().length;e.footer.toggleAction(n)},w=function(t,n){var r=[];return n.forEach(function(e){if(e instanceof o.default&&e.get("activities_count")>0&&e.activities.isEmpty())return r.push(e.activities.fetch())}),i.when.apply(i,r).then(function(){switch(n=e.inject(n,function(e,t){return t instanceof o.default?e=e.concat(t.activities.models):e.push(t),e},[]),t.type){case"poll":n=e.inject(n,function(e,t){return t instanceof a.default?e=e.concat(t.polls.models):e.push(t),e},[]);break;case"survey":n=e.filter(n,function(e){return e instanceof a.default})}return e.unique(n)})},k=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.getSelected=o.getSelected.bind(o),o.render=o.render.bind(o),o.finishedInitialLoad=o.finishedInitialLoad.bind(o),o.updateActionStyle=o.updateActionStyle.bind(o),o.navTo=o.navTo.bind(o),o.paramNotification=o.paramNotification.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),r(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.defaults(t,{insertStatesEnabled:!1}),this.settings=t.settings,this.header=t.header,this.footer=t.footer,this.type=t.type,this.insertStatesEnabled=t.insertStatesEnabled,this.actionLabel=this.settings.get("actionLabel"),this.secondaryActionLabel=this.insertStatesEnabled?"Choose slides":null,this.header.renderNav((0,p.default)()),this.header.showFilterPolls(!0),this.footer.toggleAction(!1,!1),this.footer.renderActionLabel("Insert",this.secondaryActionLabel),this.footer.beforeAction=this.paramNotification,this.footer.$cancel.toggleVisibility(!1),this.header.$("[js-filter-polls] input:text").on("keyup",e.partial(m,this)),this.header.$("[js-clear-search]").on("click",e.partial(b,this)),this.listenTo(this.app.bindingLayer,"slidesInsertable",e.partial(_,this))}},{key:"getSelected",value:function(){var e=this.selectorView.$el.is(":visible")?this.selectorView.getSelected():this.searchView.getSelected();return w(this,e)}},{key:"render",value:function(){var t,n;return this.renderTemplate(),this.footer.hideActions(!this.app.settings.showInsert()),this.selectorView=(t=this,n=new u.default.User({model:t.model,collapsible:!1,group:{addable:!1,convertible:!1,deletable:!1,duplicatable:!1,editable:!1,filter:{type:"poll"!==t.type?t.type:null},selectable:t.app.settings.isSelectable()},survey:{addable:!0,activatable:!1,convertible:!1,deletable:!1,duplicatable:!1,editable:!0,selectable:t.app.settings.isSelectable(),shareable:!1,poll:{activatable:!1,duplicatable:!1,selectable:t.app.settings.isSelectable(),shareable:!1}},poll:{activatable:!1,duplicatable:!1,selectable:t.app.settings.isSelectable(),shareable:!1}}),t.listenTo(n,"loading:done",function(){h(n.$el,t.type),n.groups.each(function(e){return t.listenTo(e.activities,"update",function(e){var n=t.$(".component-activity-selector__group[data-id="+e.group_id+"]");return h(n,t.type)})}),t.finishedInitialLoad(),t.app.trigger("spinner:hide")}),t.listenTo(n,"check",e.partial(y,t)),t.listenTo(n,"navigate",e.partial(f,t)),t.listenTo(n,"edit",e.partial(g,t)),t.listenTo(n,"add",e.partial(v,t)),n.render()),this.searchView=function(t){var n=new u.default.Search({users:[t.model],user:{selectable:t.app.settings.isSelectable(),group:{addable:!1,duplicatable:!1,filter:{type:"poll"!==t.type?t.type:null},selectable:t.app.settings.isSelectable()},survey:{activatable:!1,addable:!0,duplicatable:!1,selectable:t.app.settings.isSelectable(),shareable:!1,poll:{activatable:!1,duplicatable:!1,selectable:t.app.settings.isSelectable(),shareable:!1}},poll:{activatable:!1,duplicatable:!1,selectable:t.app.settings.isSelectable(),shareable:!1}}});return t.listenTo(n,"done",function(){h(n.$el,t.type),t.finishedInitialLoad(),t.app.trigger("spinner:hide")}),t.listenTo(n,"check",e.partial(y,t)),t.listenTo(n,"navigate",e.partial(f,t)),t.listenTo(n,"edit",e.partial(g,t)),t.listenTo(n,"add",e.partial(v,t)),n.render()}(this),this.searchView.$el.toggleVisibility(!1),this.$("[js-embed-poll-selector]").append(this.selectorView.$el).append(this.searchView.$el),this.updateActionStyle(),this}},{key:"finishedInitialLoad",value:function(){return(0,l.fireNotification)(this)}},{key:"updateActionStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.settings.createActionButtonText(e.length,this.actionLabel);if(this.footer.renderActionLabel(t,this.secondaryActionLabel),this.footer.hideActions(!this.app.settings.showInsert()),this.settings.disables("insert")||!this.app.bindingLayer.slidesInsertable()||0===e.length)this.footer.toggleAction(!1);else{var n=1===e.length&&"multiple_choice_poll"===e[0].get("type");this.footer.toggleAction(!0,n)}}},{key:"navTo",value:function(){this.app.trigger("view:action","my_polls:action",{description:"presenter app nav to create",referrer:this.app.history.previousURL()}),this.remove(),this.app.navigate("multiple_choice/new")}},{key:"paramNotification",value:function(){var e=this.settings.get("message");if(e){var t=this.settings.get("message_type");this.app.trigger(t,e)}}},{key:"template",get:function(){return c.default}},{key:"className",get:function(){return"my-polls"}}]),n}();t.default=k}).call(t,n("rdLu"),n("7t+N"))},"/BHC":function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n("x4Pe")),s=u(n("fxyI")),l=u(n("GtxQ"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n("frds");var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.selectedModel!==t&&(e.selectedModel=t,g(e),n.silent||(e.trigger("view:action","select",{model:t}),e.trigger("select",t)))},h=function(e){null!==e.selectedModel&&(e.selectedModel=null,e.trigger("view:action","clear"),e.trigger("clear"))},v=function(t,n){if(32===n.which||13===n.which||"click"===n.type){var i=e(n.currentTarget).data("cid"),r=t.collection.get(i);f(t,r)}else 27===n.which&&g(t)},g=function(e){e.$_toggleModifier(null,e.className,"filtering",!1),e.selectedModel?e.$input.val(e.label(e.selectedModel)):e.$input.val("")},y=function(e){function t(){return c(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,i.View),o(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.label=e.label,this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model.collection,"reset",this.remove)}},{key:"render",value:function(){return this.$el.attr({"data-cid":this.model.cid,tabindex:0}),this.$el.text(this.label(this.model)),this}},{key:"className",get:function(){return"component-combobox__result"}}]),t}(),m=function(t){function n(){return c(this,n),p(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return d(n,i.View),o(n,[{key:"initialize",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.extend(this,(0,a.default)(this)),r.defaults(n,{collection:new PollEv.Model.FilterableCollection,placeholderText:"Search...",label:function(e){return e.id},defaultModelId:-1}),this.collection=n.collection,this.label=n.label,this.placeholderText=n.placeholderText,this.usingLocalData=this.collection instanceof PollEv.Model.FilterableCollection,this.defaultModelId=n.defaultModelId,this.list=new s.default({collection:this.collection,viewClass:function(){return y},viewOptions:function(){return{label:t.label}},className:"component-combobox__results"}),this.filter=r.debounce(function(i){t.$_toggleModifier(null,t.className,"loading",!0),e.when(n.filter(i,t.collection)).always(function(){t.$_toggleModifier(null,t.className,"loading",!1),t.$_toggleModifier(null,t.className,"filtering",!t.collection.isEmpty())})},300),this.selectedModel=null,this.$_toggleModifier(null,this.className,"local-data",this.usingLocalData)}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.collection.get(e);n&&(f(this,n,t),t.silent||(this.trigger("view:action","select",{model:n}),this.trigger("select",n)))}},{key:"clearSelected",value:function(){return h(this)}},{key:"getSelected",value:function(){return this.selectedModel}},{key:"render",value:function(){var e=this;return this.$el.html(this.elementTpl()),this.$input=this.$("input:text").attr({placeholder:this.placeholderText}),this.$el.append(this.list.render().$el),this.select(this.defaultModelId,{silent:!0}),this.listenTo(this.collection,"add",function(t){e.defaultModelId===t.id&&f(e,t,{silent:!0})}),this}},{key:"className",get:function(){return"component-combobox"}},{key:"elementTpl",get:function(){return l.default}},{key:"events",get:function(){return{"click .component-combobox__result":function(e){v(this,e)},"keyup .component-combobox__result":function(e){v(this,e)},"focusout .component-combobox__result":function(t){!function(t,n){var i=e(n.target).parent().children();(!n.relatedTarget||i.index(n.relatedTarget)<0)&&g(t)}(this,t)},"keyup input[type='text']":function(t){!function(t,n){if(13===n.which)f(t,t.collection.first());else if(40===n.which)t.$(".component-combobox__result").first().focus();else if(27===n.which)g(t);else if(9!==n.which&&16!==n.which){var i=e(n.currentTarget).val().trim();0===i.length&&h(t),t.filter(i)}}(this,t)},"click button":function(e){var t,n;n=(t=this).$_hasModifier(null,t.className,"filtering"),t.collection.isEmpty()?t.$_toggleModifier(null,t.className,"filtering",!1):t.$_toggleModifier(null,t.className,"filtering",!n)},focusout:function(t){!function(t,n){n.relatedTarget&&e.contains(t.$el.get(0),n.relatedTarget)||g(t)}(this,t)}}}}]),n}();t.default=m}).call(t,n("7t+N"),n("32HH"),n("rdLu"))},"/EXT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n("qblT")),o=u(n("ui+V")),a=u(n("qo6o")),s=n("SXII"),l=u(n("rdLu"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.params=o.params.bind(o),o.query=o.query.bind(o),o.parse=o.parse.bind(o),o.mostRecentForOptions=o.mostRecentForOptions.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"url",value:function(){return"/my/results"}},{key:"params",value:function(e){return this._filter||(this._filter=new a.default),null!=e?this._filter.set(e):this._filter.attributes}},{key:"query",value:function(e){return null==e&&(e={}),e.data=this.params(),this.fetch(e)}},{key:"parse",value:function(e,n){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments),(0,s.popRootKeys)(e)}},{key:"mostRecentForOptions",value:function(e){var t=this,n=null;return e.forEach(function(e){var i=void 0,r=t.where({accumulator_id:e});(i=l.default.sortBy(r,"created_at").reverse()[0])&&(null==n&&(n=i),new Date(i.get("created_at"))>new Date(n.get("created_at"))&&(n=i))}),n}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),t}();c.initClass(),t.default=c},"/YpY":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("Lxn6"),s=n("rLwZ"),l=(r=s)&&r.__esModule?r:{default:r};var u=function(){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.extend(this,i.Events),this.bindEvents=this.bindEvents.bind(this),this.updateUsersPlaceholders=this.updateUsersPlaceholders.bind(this),this.app=n,this.bindEvents(),this.downloader=new l.default(this.app)}return o(t,[{key:"bindEvents",value:function(){this.listenTo(this.app,"update:placeholder",this.updateUsersPlaceholders)}},{key:"updateUsersPlaceholders",value:function(){var e=this;if(this.app.user.isLoggedIn()){var t={data:{user_id:this.app.user.get("id"),per_page:1e3}};this.app.user.polls.fetch(t).done(function(){var t,n,i;t=e,n=e.app.user.polls,i=n.map(function(e){var n=(0,a.capableOfSmallPlaceholders)()?"tiny":"original",i=t.app.bindingLayer.masterSlideWidth?t.app.bindingLayer.masterSlideWidth()/t.app.bindingLayer.masterSlideHeight():null;return(0,a.getPlaceholderCdnUrl)(t.app.env,e,{placeholderFormat:n,aspectRatio:i})}),t.downloader.downloadImages(i)})}}}]),t}();t.default=u}).call(t,n("rdLu"),n("32HH"))},"/dYK":function(e,t,n){"use strict";(function(e,t){(function(){var n,i,r,o,a,s,l,u,c=[].slice,p={}.hasOwnProperty;l=function(){},i=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,r;if(n=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[n])for(i=0,r=t.length;i<r;i++)t[i].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,r,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(i=r=0,o=n.length;r<o;i=++r)if(n[i]===t){n.splice(i,1);break}return this},e}(),(n=function(e){var t,n;function r(e,n){var i,o,a;if(this.element=e,this.version=r.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(r.instances.push(this),this.element.dropzone=this,i=null!=(a=r.optionsForElement(this.element))?a:{},this.options=t({},this.defaultOptions,i,null!=n?n:{}),this.options.forceFallback||!r.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=r.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=r.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(r,i),r.prototype.Emitter=i,r.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],r.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,t,n,i,o,a;for(this.element.className=this.element.className+" dz-browser-not-supported",i=0,o=(a=this.element.getElementsByTagName("div")).length;i<o;i++)e=a[i],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=r.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(n=t.getElementsByTagName("span")[0])&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,i,o,a,s,l,u,c,p,d,f,h;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=r.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),i=0,s=(c=e.previewElement.querySelectorAll("[data-dz-name]")).length;i<s;i++)c[i].textContent=this._renameFilename(e.name);for(o=0,l=(p=e.previewElement.querySelectorAll("[data-dz-size]")).length;o<l;o++)p[o].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=r.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),h=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===r.UPLOADING?r.confirm(h.options.dictCancelUploadConfirmation,function(){return h.removeFile(e)}):h.options.dictRemoveFileConfirmation?r.confirm(h.options.dictRemoveFileConfirmation,function(){return h.removeFile(e)}):h.removeFile(e)},f=[],a=0,u=(d=e.previewElement.querySelectorAll("[data-dz-remove]")).length;a<u;a++)n=d[a],f.push(n.addEventListener("click",t));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,r,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=0,r=(o=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;i<r;i++)(n=o[i]).alt=e.name,n.src=t;return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){var n,i,r,o,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),a=[],i=0,r=(o=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;i<r;i++)n=o[i],a.push(n.textContent=t);return a}},errormultiple:l,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:l,uploadprogress:function(e,t,n){var i,r,o,a,s;if(e.previewElement){for(s=[],r=0,o=(a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;r<o;r++)"PROGRESS"===(i=a[r]).nodeName?s.push(i.value=t):s.push(i.style.width=t+"%");return s}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},t=function(){var e,t,n,i,r,o,a;for(i=arguments[0],o=0,a=(n=2<=arguments.length?c.call(arguments,1):[]).length;o<a;o++)for(e in t=n[o])r=t[e],i[e]=r;return i},r.prototype.getAcceptedFiles=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).accepted&&r.push(e);return r},r.prototype.getRejectedFiles=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).accepted||r.push(e);return r},r.prototype.getFilesWithStatus=function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=this.files).length;n<i;n++)(t=r[n]).status===e&&o.push(t);return o},r.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(r.QUEUED)},r.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(r.UPLOADING)},r.prototype.getAddedFiles=function(){return this.getFilesWithStatus(r.ADDED)},r.prototype.getActiveFiles=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.files).length;t<n;t++)(e=i[t]).status!==r.UPLOADING&&e.status!==r.QUEUED||o.push(e);return o},r.prototype.init=function(){var e,t,n,i,o,a,s,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(r.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,(n=function(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e,t,i,r;if((t=l.hiddenFileInput.files).length)for(i=0,r=t.length;i<r;i++)e=t[i],l.addFile(e);return l.emit("addedfiles",t),n()})})()),this.URL=null!=(a=window.URL)?a:window.webkitURL,i=0,o=(s=this.events).length;i<o;i++)e=s[i],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(e){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||r.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},r.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,r.instances.splice(r.instances.indexOf(this),1)},r.prototype.updateTotalUploadProgress=function(){var e,t,n,i,r,o,a;if(n=0,t=0,this.getActiveFiles().length){for(r=0,o=(a=this.getActiveFiles()).length;r<o;r++)n+=(e=a[r]).upload.bytesSent,t+=e.upload.total;i=100*n/t}else i=100;return this.emit("totaluploadprogress",i,t,n)},r.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},r.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},r.prototype.getFallbackForm=function(){var e,t,n,i;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=r.createElement(n),"FORM"!==this.element.tagName?(i=r.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:t)},r.prototype.getExistingFallback=function(){var e,t,n,i,r,o;for(t=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},i=0,r=(o=["div","form"]).length;i<r;i++)if(n=o[i],e=t(this.element.getElementsByTagName(n)))return e},r.prototype.setupEventListeners=function(){var e,t,n,i,r,o,a;for(a=[],i=0,r=(o=this.listeners).length;i<r;i++)e=o[i],a.push(function(){var i,r;for(t in r=[],i=e.events)n=i[t],r.push(e.element.addEventListener(t,n,!1));return r}());return a},r.prototype.removeEventListeners=function(){var e,t,n,i,r,o,a;for(a=[],i=0,r=(o=this.listeners).length;i<r;i++)e=o[i],a.push(function(){var i,r;for(t in r=[],i=e.events)n=i[t],r.push(e.element.removeEventListener(t,n,!1));return r}());return a},r.prototype.disable=function(){var e,t,n,i,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),r=[],t=0,n=(i=this.files).length;t<n;t++)e=i[t],r.push(this.cancelUpload(e));return r},r.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},r.prototype.filesize=function(e){var t,n,i,r,o,a,s;if(n=0,i="b",e>0){for(t=a=0,s=(o=["TB","GB","MB","KB","b"]).length;a<s;t=++a)if(r=o[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){n=e/Math.pow(this.options.filesizeBase,4-t),i=r;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+i},r.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},r.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((n=e.dataTransfer.items)&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},r.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},r.prototype.handleFiles=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(this.addFile(t));return r},r.prototype._addFilesFromItems=function(e){var t,n,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)null!=(n=e[i]).webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?o.push(this.addFile(n.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},r.prototype._addFilesFromDirectory=function(e,t){var n,i,r,o;return n=e.createReader(),i=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},o=this,(r=function(){return n.readEntries(function(e){var n,i,a;if(e.length>0){for(i=0,a=e.length;i<a;i++)(n=e[i]).isFile?n.file(function(e){if(!o.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,o.addFile(e)}):n.isDirectory&&o._addFilesFromDirectory(n,t+"/"+n.name);r()}return null},i)})()},r.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):r.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},r.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=r.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(t=this,function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}));var t},r.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],this.enqueueFile(t);return null},r.prototype.enqueueFile=function(e){if(e.status!==r.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=r.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},r.prototype._thumbnailQueue=[],r.prototype._processingThumbnail=!1,r.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},r.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},r.prototype.removeFile=function(e){if(e.status===r.UPLOADING&&this.cancelUpload(e),this.files=u(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},r.prototype.removeAllFiles=function(e){var t,n,i,o;for(null==e&&(e=!1),n=0,i=(o=this.files.slice()).length;n<i;n++)((t=o[n]).status!==r.UPLOADING||e)&&this.removeFile(t);return null},r.prototype.createThumbnail=function(e,t){var n,i;return(n=new FileReader).onload=(i=this,function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}),n.readAsDataURL(e)},r.prototype.createThumbnailFromUrl=function(e,t,n,i){var r,o;return r=document.createElement("img"),i&&(r.crossOrigin=i),r.onload=(o=this,function(){var t,i,a,l,u,c,p,d;if(e.width=r.width,e.height=r.height,null==(a=o.options.resize.call(o,e)).trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),i=(t=document.createElement("canvas")).getContext("2d"),t.width=a.trgWidth,t.height=a.trgHeight,s(i,r,null!=(u=a.srcX)?u:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(p=a.trgX)?p:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),l=t.toDataURL("image/png"),o.emit("thumbnail",e,l),null!=n)return n()}),null!=n&&(r.onerror=n),r.src=t},r.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,e=n=this.getUploadingFiles().length,!(n>=t)&&(i=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;e<t;){if(!i.length)return;this.processFile(i.shift()),e++}}},r.prototype.processFile=function(e){return this.processFiles([e])},r.prototype.processFiles=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)(t=e[n]).processing=!0,t.status=r.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},r.prototype._getFilesWithXhr=function(e){var t;return function(){var n,i,r,o;for(o=[],n=0,i=(r=this.files).length;n<i;n++)(t=r[n]).xhr===e&&o.push(t);return o}.call(this)},r.prototype.cancelUpload=function(e){var t,n,i,o,a,s,l;if(e.status===r.UPLOADING){for(i=0,a=(n=this._getFilesWithXhr(e.xhr)).length;i<a;i++)(t=n[i]).status=r.CANCELED;for(e.xhr.abort(),o=0,s=n.length;o<s;o++)t=n[o],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=e.status)!==r.ADDED&&l!==r.QUEUED||(e.status=r.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},n=function(){var e,t;return t=arguments[0],e=2<=arguments.length?c.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},r.prototype.uploadFile=function(e){return this.uploadFiles([e])},r.prototype.uploadFiles=function(e){var i,o,a,s,l,u,c,p,d,f,h,v,g,y,m,b,_,w,k,O,P,E,T,x,S,j,C,M,A,R,L,I,N,$;for(w=new XMLHttpRequest,k=0,T=e.length;k<T;k++)(i=e[k]).xhr=w;for(s in v=n(this.options.method,e),b=n(this.options.url,e),w.open(v,b,!0),w.withCredentials=!!this.options.withCredentials,y=null,$=this,a=function(){var t,n,r;for(r=[],t=0,n=e.length;t<n;t++)i=e[t],r.push($._errorProcessing(e,y||$.options.dictResponseError.replace("{{statusCode}}",w.status),w));return r},m=function(t){return function(n){var r,o,a,s,l,u,c,p,d;if(null!=n)for(o=100*n.loaded/n.total,a=0,u=e.length;a<u;a++)(i=e[a]).upload={progress:o,total:n.total,bytesSent:n.loaded};else{for(r=!0,o=100,s=0,c=e.length;s<c;s++)100===(i=e[s]).upload.progress&&i.upload.bytesSent===i.upload.total||(r=!1),i.upload.progress=o,i.upload.bytesSent=i.upload.total;if(r)return}for(d=[],l=0,p=e.length;l<p;l++)i=e[l],d.push(t.emit("uploadprogress",i,o,i.upload.bytesSent));return d}}(this),w.onload=function(t){return function(n){var i;if(e[0].status!==r.CANCELED&&4===w.readyState){if(y=w.responseText,w.getResponseHeader("content-type")&&~w.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(e){n=e,y="Invalid JSON response from server."}return m(),200<=(i=w.status)&&i<300?t._finished(e,y,n):a()}}}(this),w.onerror=function(){if(e[0].status!==r.CANCELED)return a()},(null!=(M=w.upload)?M:w).onprogress=m,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&t(u,this.options.headers),u)(l=u[s])&&w.setRequestHeader(s,l);if(o=new FormData,this.options.params)for(h in A=this.options.params)_=A[h],o.append(h,_);for(O=0,x=e.length;O<x;O++)i=e[O],this.emit("sending",i,w,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,w,o),"FORM"===this.element.tagName)for(P=0,S=(R=this.element.querySelectorAll("input, textarea, select, button")).length;P<S;P++)if(d=(p=R[P]).getAttribute("name"),f=p.getAttribute("type"),"SELECT"===p.tagName&&p.hasAttribute("multiple"))for(E=0,j=(L=p.options).length;E<j;E++)(g=L[E]).selected&&o.append(d,g.value);else(!f||"checkbox"!==(I=f.toLowerCase())&&"radio"!==I||p.checked)&&o.append(d,p.value);for(c=C=0,N=e.length-1;0<=N?C<=N:C>=N;c=0<=N?++C:--C)o.append(this._getParamName(c),e[c],this._renameFilename(e[c].name));return this.submitRequest(w,o,e)},r.prototype.submitRequest=function(e,t,n){return e.send(t)},r.prototype._finished=function(e,t,n){var i,o,a;for(o=0,a=e.length;o<a;o++)(i=e[o]).status=r.SUCCESS,this.emit("success",i,t,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},r.prototype._errorProcessing=function(e,t,n){var i,o,a;for(o=0,a=e.length;o<a;o++)(i=e[o]).status=r.ERROR,this.emit("error",i,t,n),this.emit("complete",i);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},r}()).version="4.3.0",n.options={},n.optionsForElement=function(e){return e.getAttribute("id")?n.options[r(e.getAttribute("id"))]:void 0},n.instances=[],n.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},n.autoDiscover=!0,n.discover=function(){var e,t,i,r,o,a;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],(e=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;n<r;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?o.push(i.push(t)):o.push(void 0);return o})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),a=[],r=0,o=i.length;r<o;r++)t=i[r],!1!==n.optionsForElement(t)?a.push(new n(t)):a.push(void 0);return a},n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],n.isBrowserSupported=function(){var e,t,i,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,i=(r=n.blacklistedBrowsers).length;t<i;t++)r[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},u=function(e,t){var n,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)(n=e[i])!==t&&o.push(n);return o},r=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},n.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},n.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},n.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},n.getElements=function(e,t){var n,i,r,o,a,s,l;if(e instanceof Array){i=[];try{for(r=0,a=e.length;r<a;r++)n=e[r],i.push(this.getElement(n,t))}catch(e){e,i=null}}else if("string"==typeof e)for(i=[],o=0,s=(l=document.querySelectorAll(e)).length;o<s;o++)n=l[o],i.push(n);else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},n.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},n.isValidFile=function(e,t){var n,i,r,o,a;if(!t)return!0;for(t=t.split(","),n=(i=e.type).replace(/\/.*$/,""),o=0,a=t.length;o<a;o++)if("."===(r=(r=t[o]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},void 0!==e&&null!==e&&(e.fn.dropzone=function(e){return this.each(function(){return new n(this,e)})}),void 0!==t&&null!==t?t.exports=n:window.Dropzone=n,n.ADDED="added",n.QUEUED="queued",n.ACCEPTED=n.QUEUED,n.UPLOADING="uploading",n.PROCESSING=n.UPLOADING,n.CANCELED="canceled",n.ERROR="error",n.SUCCESS="success",a=function(e){var t,n,i,r,o,a,s,l;for(e.naturalWidth,o=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=o,(n=t.getContext("2d")).drawImage(e,0,0),i=n.getImageData(0,0,1,o).data,l=0,r=o,a=o;a>l;)0===i[4*(a-1)+3]?r=a:l=a,a=r+l>>1;return 0===(s=a/o)?1:s},s=function(e,t,n,i,r,o,s,l,u,c){var p;return p=a(t),e.drawImage(t,n,i,r,o,s,l,u,c/p)},o=function(e,t){var n,i,r,o,a,s,l,u,c;if(r=!1,c=!0,i=e.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",s=i.addEventListener?"":"on",o=function(n){if("readystatechange"!==n.type||"complete"===i.readyState)return("load"===n.type?e:i)[l](s+n.type,o,!1),!r&&(r=!0)?t.call(e,n.type||n):void 0},a=function(){try{u.doScroll("left")}catch(e){return e,void setTimeout(a,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{c=!e.frameElement}catch(e){}c&&a()}return i[n](s+"DOMContentLoaded",o,!1),i[n](s+"readystatechange",o,!1),e[n](s+"load",o,!1)}},n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()},o(window,n._autoDiscoverFunction)}).call(void 0)}).call(t,n("7t+N"),n("3IRH")(e))},0:function(e,t,n){n("j1ja"),e.exports=n("3NgH")},"0CPz":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<select class='component-dropdown__select' tabindex='-1'></select>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"0e/L":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e,t){return e||(e=0),t||(t=0),0===t?0:e/t},l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.percentOfSegmentingOption=o.percentOfSegmentingOption.bind(o),o.percentOfMaxResponseCount=o.percentOfMaxResponseCount.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"percentOfSegmentingOption",value:function(e){null==e&&(e={});var t=this.get("results_count"),n=this.collection.responseCount(e);return s(t,n)}},{key:"percentOfMaxResponseCount",value:function(e){null==e&&(e={});var t=this.get("results_count"),n=this.collection.maxResponseCount(e);return s(t,n)}}]),t}();t.default=l},"0wUT":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg width='150' height='104' viewBox='0 0 150 104' xmlns='http://www.w3.org/2000/svg'>\n  <title>vote-updown</title>\n  <g fill='none' fill-rule='evenodd'>\n    <path fill='#000' d='M26 39.5L18.5 32l-2.7-2.7L13 32l-7.4 7.5 2.7 2.7 7.5-7.5 7.4 7.5'></path>\n    <path fill='#848484' opacity='.35' d='M5.6 60.7l7.4 7.5 2.8 2.7 2.7-2.7 7.5-7.5-2.8-2.7-7.4 7.5L8.3 58'></path>\n    <path d='M129.4 47H57.6c-.9 0-1.7-.8-1.7-1.7 0-.9.8-1.7 1.7-1.7h71.8c.9 0 1.7.8 1.7 1.7 0 .9-.8 1.7-1.7 1.7zM122.6 54.7h-65c-.9 0-1.7-.8-1.7-1.7 0-.9.8-1.7 1.7-1.7h65c.9 0 1.7.8 1.7 1.7 0 .9-.8 1.7-1.7 1.7z' fill='#4F4F4F' opacity='.7'></path>\n    <path d='M137.7 34.7H49.3c-3.2 0-5.8 2.6-5.8 5.8v17.6c0 3.2 2.6 5.8 5.8 5.8h.5v8.6c0 .5.1 1.1.5 1.5.4.4.9.6 1.4.6.5 0 1-.2 1.4-.6l10.1-10.1h74.5c3.2 0 5.8-2.6 5.8-5.8V40.5c0-3.2-2.6-5.8-5.8-5.8zm1.9 23.4c0 1.1-.9 1.9-1.9 1.9H62.5c-.5 0-1 .1-1.4.5l-7.4 7.4v-6c0-1.1-.9-1.9-1.9-1.9h-2.4c-1.1 0-1.9-.9-1.9-1.9V40.5c0-1.1.9-1.9 1.9-1.9h88.4c1.1 0 1.9.9 1.9 1.9v17.6h-.1z' fill='#60E2DC'></path>\n  </g>\n</svg>"),e.join("\n")}.call(e)}}.call(this)},"162o":function(e,t,n){(function(e){var i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("mypn"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n("DuR2"))},"1YsL":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("1mPk")),o=s(n("jtaX")),a=s(n("XDnp"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),i(n,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Object.assign({showKeywords:!1,showCustomGlobalKeywords:!1,showGrading:!1,showWeightedGrading:!1,showInstructionsImage:!1,showAltText:!1},t),this.resetModelChangeState(this.model);var n=this.model.flashOptions();n.has("displayMode")||n.fetch().then(function(t){e.resetModelChangeState(n),e.listenTo(n,"change",function(t,n){e.model.trigger("change",t,n)})}),this.editorView=c.call(this,this.model.type())}},{key:"render",value:function(){return this.$el.html(this.editorView.render().$el),this}},{key:"remove",value:function(){this.editorView.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"resetModelChangeState",value:function(e){var t=Object.keys(e.attributes)[0];e.set(t,e.get(t))}},{key:"className",get:function(){return u.className},set:function(e){throw new Error('Default "className" property cannot be changed.')}}]),n}();t.default=l;var u={className:"component-editor-poll"},c=function(e){var t=null;switch(e){case"free_text_poll":t=new o.default({model:this.model,showKeywords:this.options.showKeywords,showCustomGlobalKeywords:this.options.showCustomGlobalKeywords});break;case"discourse":t=new o.default({model:this.model});break;case"multiple_choice_poll":t=new a.default({model:this.model,showGrading:this.options.showGrading,showWeightedGrading:this.options.showWeightedGrading,showKeywords:this.options.showKeywords,showCustomGlobalKeywords:this.options.showCustomGlobalKeywords,instructionsImage:this.options.showInstructionsImage,showAltText:this.options.showAltText});break;case"ranking_poll":t=new a.default({model:this.model,instructionsImage:this.options.showInstructionsImage,showAltText:this.options.showAltText});break;case"clickable_image":t=new r.default({model:this.model,showGrading:this.options.showGrading,showAltText:this.options.showAltText,showWeightedGrading:this.options.showWeightedGrading});break;default:throw new Error("Attempting to edit an invalid model type: "+e)}return t}}).call(t,n("32HH"))},"1deM":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<span class='nav-symbol'>+</span>\n<a class='nav-label' href='#'>New</a>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"1eVD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vote=t.Users=t.User=t.Survey=t.Subusers=t.SmartCollection=t.SharedGroups=t.Session=t.Segments=t.SegmentingOptions=t.SegmentingOption=t.Segment=t.ResultsHistory=t.Results=t.Result=t.Responses=t.Response=t.Reports=t.Report=t.RemoteControl=t.RegistrationInfo=t.Registration=t.RegisteredParticipant=t.ReferralCodes=t.ReferralCode=t.RankingPoll=t.PublicPoll=t.Presenter=t.Polls=t.Poll=t.PaymentMethod=t.Participants=t.ParticipantGroups=t.ParticipantGroup=t.Participant=t.PaginatedCollection=t.WillPaginateCollection=t.MultipleChoicePollResult=t.MCPOptions=t.MCPOption=t.MultipleChoicePoll=t.LabFeatures=t.Job=t.JsonAPI=t.Groups=t.Group=t.Gradebook=t.FilterableCollection=t.FreeTextPollResult=t.FreeTextPoll=t.FlashOptions=t.Filter=t.ExampleActivities=t.ExampleActivity=t.Environment=t.DiscourseVotes=t.DiscourseVote=t.DiscourseResults=t.DiscourseResult=t.Discourse=t.Competition=t.Collection=t.ClickableImageRegions=t.ClickableImageRegion=t.ClickableImage=t.BulkEdit=t.Base=t.AuthToken=t.ActivityCollection=t.ArchiveCollection=t.Archive=t.ActivityUpdater=void 0;var i=we(n("QQ7N")),r=we(n("S6E8")),o=we(n("I+9x")),a=we(n("ypuQ")),s=we(n("j4Z6")),l=we(n("+B0W")),u=we(n("Yz/m")),c=we(n("QQdz")),p=we(n("sNMB")),d=we(n("av1e")),f=we(n("Hf0w")),h=we(n("Qkx0")),v=we(n("KBc6")),g=we(n("ieM/")),y=we(n("IYuf")),m=we(n("Tw0i")),b=we(n("c6nV")),_=we(n("lMcM")),w=we(n("OpOZ")),k=we(n("D2JR")),O=we(n("qo6o")),P=we(n("ecTP")),E=we(n("6OL5")),T=we(n("JaIq")),x=we(n("ACZ+")),S=we(n("B1Hv")),j=we(n("82hR")),C=we(n("uYzY")),M=we(n("988n")),A=we(n("ET/Z")),R=we(n("mDEm")),L=we(n("UA47")),I=we(n("fcnF")),N=we(n("73n1")),$=we(n("cGVx")),F=we(n("PPLf")),U=we(n("WSXn")),z=we(n("3snf")),D=we(n("Wkh0")),H=we(n("KP7+")),B=we(n("AFeg")),V=we(n("a2Pg")),G=we(n("hKAP")),W=we(n("a2bv")),q=we(n("x+VU")),K=we(n("35Nh")),Y=we(n("yQzB")),X=we(n("6+dm")),J=we(n("mBL5")),Q=we(n("dn70")),Z=we(n("DpU6")),ee=we(n("9xp/")),te=we(n("sRg9")),ne=we(n("zYjR")),ie=we(n("QjUl")),re=we(n("DN4/")),oe=we(n("dlNt")),ae=we(n("ui+V")),se=we(n("djP2")),le=we(n("/EXT")),ue=we(n("0e/L")),ce=we(n("sdTK")),pe=we(n("tm8m")),de=we(n("oA9N")),fe=we(n("sVCF")),he=we(n("SUAT")),ve=we(n("qblT")),ge=we(n("qQrg")),ye=we(n("Y8hB")),me=we(n("eBus")),be=we(n("EXRP")),_e=we(n("igOP"));function we(e){return e&&e.__esModule?e:{default:e}}t.ActivityUpdater=i.default,t.Archive=r.default,t.ArchiveCollection=o.default,t.ActivityCollection=a.default,t.AuthToken=s.default,t.Base=l.default,t.BulkEdit=u.default,t.ClickableImage=c.default,t.ClickableImageRegion=p.default,t.ClickableImageRegions=d.default,t.Collection=f.default,t.Competition=h.default,t.Discourse=v.default,t.DiscourseResult=g.default,t.DiscourseResults=y.default,t.DiscourseVote=m.default,t.DiscourseVotes=b.default,t.Environment=_.default,t.ExampleActivity=w.default,t.ExampleActivities=k.default,t.Filter=O.default,t.FlashOptions=P.default,t.FreeTextPoll=E.default,t.FreeTextPollResult=T.default,t.FilterableCollection=x.default,t.Gradebook=S.default,t.Group=j.default,t.Groups=C.default,t.JsonAPI=M.default,t.Job=A.default,t.LabFeatures=R.default,t.MultipleChoicePoll=L.default,t.MCPOption=I.default,t.MCPOptions=N.default,t.MultipleChoicePollResult=$.default,t.WillPaginateCollection=F.default,t.PaginatedCollection=U.default,t.Participant=z.default,t.ParticipantGroup=D.default,t.ParticipantGroups=H.default,t.Participants=B.default,t.PaymentMethod=V.default,t.Poll=G.default,t.Polls=W.default,t.Presenter=q.default,t.PublicPoll=K.default,t.RankingPoll=Y.default,t.ReferralCode=X.default,t.ReferralCodes=J.default,t.RegisteredParticipant=Q.default,t.Registration=Z.default,t.RegistrationInfo=ee.default,t.RemoteControl=te.default,t.Report=ne.default,t.Reports=ie.default,t.Response=re.default,t.Responses=oe.default,t.Result=ae.default,t.Results=se.default,t.ResultsHistory=le.default,t.Segment=ue.default,t.SegmentingOption=ce.default,t.SegmentingOptions=pe.default,t.Segments=de.default,t.Session=fe.default,t.SharedGroups=he.default,t.SmartCollection=ve.default,t.Subusers=ge.default,t.Survey=ye.default,t.User=me.default,t.Users=be.default,t.Vote=_e.default},"1mPk":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=p(n("x4Pe")),a=p(n("9gpq")),s=p(n("qM++")),l=p(n("znFP")),u=p(n("OCME")),c=p(n("bzXM"));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){null!=e.currentSubview&&e.currentSubview.remove(),e.model.getTypeOption("imageUrl")?e.currentSubview=new u.default({model:e.model,showGrading:e.showGrading,showAltText:e.showAltText}):e.currentSubview=new l.default({model:e.model,showUpload:e.showUpload}),e.currentSubview.on("view:action",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trigger("view:action",t,n)}),e.$body.html(e.currentSubview.render().$el)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t?(e.$message.find("small").text(n.message),e.$_toggleModifier(null,e.className,"error",!0)):e.$_toggleModifier(null,e.className,"error",!1)},h=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.extend(this,(0,o.default)(this)),i.defaults(t,{showGrading:!1,showUpload:!0,showAltText:!1,showWeightedGrading:!1}),this.showGrading=t.showGrading,this.showUpload=t.showUpload,this.showAltText=t.showAltText,this.showWeightedGrading=t.showWeightedGrading,this.title=new a.default({model:this.model}),this.listenTo(this.model,"change:type_options:imageUrl",function(){f(e,!1),d(e)}),this.listenTo(this.model,"invalid",function(t,n){"imageUrl"!==n.prop&&"correct_response"!==n.invalid||f(e,!0,n)}),this.listenTo(this.model.regions,"change",function(t,n){e.model.trigger("change",t,n)})}},{key:"render",value:function(){return this.$el.html(this.template()),this.$title=this.$_element("title"),this.$body=this.$_element("body"),this.$message=this.$_element("message"),this.$title.html(this.title.render().$el),function(e){if(e.showWeightedGrading){e.$(".component-editor-clickable-image__grading").removeClass("component-editor-clickable-image__grading--hidden");var t=e.model.get("weighted_grading_enabled");e.$(".component-editor-clickable-image__grading input").attr("checked",t)}}(this),d(this),this}},{key:"remove",value:function(){this.title.remove(),this.currentSubview&&this.currentSubview.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"validate",value:function(){return new s.default(this.model).validate()}},{key:"className",get:function(){return"component-editor-clickable-image"}},{key:"template",get:function(){return c.default}},{key:"events",get:function(){return{"click .component-editor-clickable-image__grading input":function(e){!function(e,t){var n=t.target.checked;e.model.set({weighted_grading_enabled:n}),e.model.regions.each(function(e){n&&(!e.has("points")&&e.isCorrect()?e.set("points",1):e.unset("points"))})}(this,e)}}}}]),n}();t.default=h}).call(t,n("32HH"),n("rdLu"))},"1v9S":function(e,t,n){var i,r,o,a;a=function(e,t,n){var i=t,r=n.Base64||n,o="1.1.1",a={host:null,useHTTPS:!0,includeLibraryParam:!0};return function(){function e(e){var t,n;for(t in this.settings={},a)n=a[t],this.settings[t]=n;for(t in e)n=e[t],this.settings[t]=n;if(!this.settings.host)throw new Error("ImgixClient must be passed a valid host");this.settings.includeLibraryParam&&(this.settings.libraryParam="js-"+o),this.settings.urlPrefix=this.settings.useHTTPS?"https://":"http://"}return e.prototype.buildURL=function(e,t){e=this._sanitizePath(e),null==t&&(t={});var n=this._buildParams(t);return this.settings.secureURLToken&&(n=this._signParams(e,n)),this.settings.urlPrefix+this.settings.host+e+n},e.prototype._sanitizePath=function(e){return e=e.replace(/^\//,""),"/"+(e=/^https?:\/\//.test(e)?encodeURIComponent(e):encodeURI(e))},e.prototype._buildParams=function(e){this.settings.libraryParam&&(e.ixlib=this.settings.libraryParam);var t,n,i,o,a=[];for(t in e)n=e[t],i=encodeURIComponent(t),o="64"===t.substr(-2)?r.encodeURI(n):encodeURIComponent(n),a.push(i+"="+o);return a[0]&&(a[0]="?"+a[0]),a.join("&")},e.prototype._signParams=function(e,t){var n=this.settings.secureURLToken+e+t,r=i(n);return t.length>0?t+"&s="+r:"?s="+r},e.VERSION=o,e}()},r=[t,n("L6bb"),n("xrTZ")],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o)},"20yK":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n("x4Pe")),a=u(n("fxyI")),s=u(n("1YsL")),l=u(n("pH9f"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(e){var t=this;i.extend(this,(0,o.default)(this)),this.options=Object.assign({defaultSubtitle:"",defaultConfirmationMessage:"",showKeywords:!1,showCustomGlobalKeywords:!1,showGrading:!1,showWeightedGrading:!1,showInstructionsImage:!1,showAltText:!1},e),this.$el.html(this.template),this.model.get("subtitle")||this.model.set("subtitle",this.options.defaultSubtitle),this.model.get("custom_confirmation_message")||this.model.set("custom_confirmation_message",this.options.defaultConfirmationMessage);var n=this.$_element("polls");this.listView=new a.default({className:n.className,collection:this.model.polls,viewClass:function(){return s.default},viewOptions:this.options}),n.replaceWith(this.listView.render().$el),this.listenTo(this.model,"change:title",h),this.listenTo(this.model,"change:subtitle",v),this.listenTo(this.model,"change:custom_confirmation_message",g),this.listenTo(this.model.polls,"change",function(e,n){t.model.trigger("change",e,n)})}},{key:"render",value:function(){return h.call(this),v.call(this),g.call(this),y.call(this),this}},{key:"remove",value:function(){this.listView.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return d.className},set:function(e){throw new Error('Default "className" property cannot be changed.')}},{key:"events",get:function(){var e;return c(e={},"input ."+this.className+"__title",f("title")),c(e,"input ."+this.className+"__subtitle",f("subtitle")),c(e,"input ."+this.className+"__message",f("message")),e}},{key:"template",get:function(){return l.default}}]),n}();t.default=p;var d={className:"component-editor-simple-survey"},f=function(e){return function(t){switch(e){case"title":case"subtitle":this.model.set(e,t.target.value);break;case"message":this.model.set("custom_confirmation_message",t.target.innerText)}}},h=function(){this.$_element("title").val(this.model.get("title"))},v=function(){this.$_element("subtitle").val(this.model.get("subtitle"))},g=function(){var e=this.$_element("message"),t=this.model.get("custom_confirmation_message");e.get(0).innerText!==t&&e.text(t)},y=function(){var e=this.model.polls.length+" questions";this.$_element("description").text(e)}}).call(t,n("32HH"),n("rdLu"))},"2XIL":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n("x4Pe")),a=s(n("oiOx"));function s(e){return e&&e.__esModule?e:{default:e}}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZ",u=function(e){if(null!=e.model.collection){var t=function e(t,n){return null==n&&(n=[]),t>=l.length?(n.push(l[0]),e(t-26,n)):(n.push(l[t]),n.join(""))}(e.model.collection.indexOf(e.model)-1);return e.model.set("label",t)}},c=function(e){return e.$id.text(e.model.get("label"))},p=function(e){if(e.$input.val()!==e.model.getName())return e.$input.val(e.model.getName())},d=function(e){return e.model.isNew()?e.model.collection.remove(e.model):e.model.set({_destroy:!0})},f=function(e,t){if("click"===t.type||"keydown"===t.type&&(32===t.keyCode||13===t.keyCode))return t.preventDefault(),e.model.set("correct_response",!e.model.get("correct_response"))},h=function(e){var t=!!e.model.isCorrect();return e.$correctness.find("input").prop("checked",t),e.$correctness.find("span").attr("aria-checked",t)},v=function(e){if(!e.$el.is("."+e.className+"--selected"))return e.model.collection.trigger("select",e.model)},g=function(e,t){if(e.$_toggleModifier(null,e.className,"selected",e.model===t),e.model===t){var n=e.$el.parent().height(),i=e.$el.parent().scrollTop(),r=e.$el.outerHeight(!0),o=e.$el.position().top;if(!(o>0&&o+r<n)){var a=void 0;a=o<0?i+o:i+(o+r)-n,e.$el.parent().animate({scrollTop:a})}return e.$input.focus().select()}},y=function(e,t){return"name"===t?e.$_toggleModifier(null,e.className,"error",!0):!1===t?e.$_toggleModifier(null,e.className,"error",t):void 0},m=function(e){if(e.model.collection.poll.get("weighted_grading_enabled")||e.weightedGradingEnabled)return e.$_element("points").removeClass("component-editor-clickable-image__builder__region-name__points--hidden"),e.$_element("points input").val(e.model.get("points"))},b=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),r(n,[{key:"initialize",value:function(t){var n=this;null==t&&(t={}),e.extend(this,(0,o.default)(this)),e.defaults(t,{showGrading:!1}),this.showGrading=t.showGrading,this.listenTo(this.model.collection,"add",e.partial(u,this)),this.listenTo(this.model.collection,"remove",e.partial(u,this)),this.listenTo(this.model,"change:label",e.partial(c,this)),this.listenTo(this.model,"change:correct_response",e.partial(h,this)),this.listenTo(this.model,"change:correct",e.partial(h,this)),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model.collection,"select",e.partial(g,this)),this.listenTo(this.model,"invalid",e.partial(y,this,"name")),this.listenTo(this.model,"rename",e.partial(p,this)),this.listenTo(this.model,"change:points",e.partial(m,this)),this.listenTo(this.model.collection.poll,"change:weighted_grading_enabled",function(e,t){var i,r,o;r=t,o=(i=n).$_element("points","hidden").className,i.$_element("points").toggleClass(o,!r),i.weightedGradingEnabled=!r})}},{key:"render",value:function(){return this.$el.html(this.template()),this.$id=this.$_element("id"),this.$input=this.$_element("input"),this.$trash=this.$_element("trash"),this.$correctness=this.$_element("correctness"),this.$input.attr({maxlength:200}),this.showGrading||this.$correctness.hide(),u(this),c(this),h(this),m(this),p(this),this}},{key:"className",get:function(){return"component-editor-clickable-image__builder__region-name"}},{key:"template",get:function(){return a.default}},{key:"events",get:function(){return{click:function(){v(this)},"focus input":function(){v(this)},"input input":function(e){!function(e){if(e.$input.val()!==e.model.getName())e.model.setName(e.$input.val())}(this)},"click .component-editor-clickable-image__builder__region-name__trash":function(){var t,n;t=this,null!=n&&n.stopPropagation(),t.$correctness.remove(),t.$el.attr("js-transition-remove",!0),t.$el.on("transitionend",e.partial(d,t))},"click .component-editor-clickable-image__builder__region-name__correctness":function(e){f(this,e)},"keydown .component-editor-clickable-image__builder__region-name__correctness":function(e){f(this,e)},"change .component-editor-clickable-image__builder__region-name__points":function(e){!function(e,t){var n=t.target.value;e.model.set("points",parseFloat(n))}(this,e)}}}}]),n}();t.default=b}).call(t,n("rdLu"),n("32HH"))},"35Nh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=f(n("+B0W")),o=f(n("ecTP")),a=n("SXII"),s=f(n("rdLu")),l=f(n("73n1")),u=f(n("IYuf")),c=f(n("djP2")),p=f(n("7t+N")),d=f(n("hBlz"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.flashOptions=o.flashOptions.bind(o),o.type=o.type.bind(o),o.url=o.url.bind(o),o.cleanTitle=o.cleanTitle.bind(o),o.parse=o.parse.bind(o),o.updateTotalsAndPercentages=o.updateTotalsAndPercentages.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(e){return null==e&&(e={}),this.options=e,s.default.defaults(this.options,{randomizeResults:!0})}},{key:"isGraded",value:function(){return!1}},{key:"hasAlphaNumericKeyword",value:function(){return!1}},{key:"hasCustomGlobalKeyword",value:function(){return!1}},{key:"shouldHideKeywords",value:function(){return!0}},{key:"highestResponse",value:function(){return(null!=this.mcpOptions?this.mcpOptions.length:void 0)?this.mcpOptions.models[0].get("results_count")?this.mcpOptions.highestResult():0:null}},{key:"supportsModeration",value:function(){return!1}},{key:"updateResults",value:function(){return this.results.reset(this.attributes.results)}},{key:"flashOptions",value:function(){return this._flashOptions||(this._flashOptions=new o.default),this._flashOptions.poll=this,this._flashOptions.fetch=function(){return(new p.default.Deferred).resolve()},this._flashOptions}},{key:"type",value:function(){return this.get("type")}},{key:"url",value:function(){return(0,d.default)("/api/example/polls").segment(this.id.toString()).toString()}},{key:"cleanTitle",value:function(e){null==e&&(e={}),e=s.default.defaults(e,{emoji:"image"});var t=this.get("title");return(0,a.cleanString)(t,e)}},{key:"parse",value:function(e){switch(null==e&&(e={}),this.flashOptions().set(e.flash_options),e.type){case"multiple_choice_poll":case"ranking_poll":this.options.randomizeResults&&this.randomizeResults(e),this.mcpOptions=new l.default(e.options),this.mcpOptions.poll=this;break;case"discourse":this.results=new u.default,this.results.poll=this;break;case"free_text_poll":this.results=new c.default,this.results.poll=this}return delete e.flash_options,e}},{key:"randomizeResults",value:function(e){e.options.forEach(function(e){e.results_count=s.default.random(1,10)}),e.results_count=s.default.inject(e.options,function(e,t){return e+t.results_count},0),e.options.forEach(function(t){t.results_percentage=Math.round(t.results_count/e.results_count*100)})}},{key:"updateTotalsAndPercentages",value:function(){var e=this,t=s.default.inject(this.mcpOptions.pluck("results_count"),function(e,t){return e+t},0);return this.set({results_count:t}),this.mcpOptions.each(function(t){return t.set({results_percentage:Math.round(t.get("results_count")/e.get("results_count")*100)})})}}]),t}();t.default=h},"3KIq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("JJCg"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("6L1a"));var o={namespace:i.namespace,env:r.env,Util:r.Util,Model:r.Model,Ajax:r.Ajax,BasicAuth:r.BasicAuth,Core:{version:r.version}};t.default=o},"3NgH":function(e,t,n){"use strict";(function(e,t){n("oSng"),n("T2md");var i=n("6L1a");n("qLzu"),n("kW5K");var r,o=n("Lxn6"),a=n("bWXc"),s=(r=a)&&r.__esModule?r:{default:r};e.emulateHTTP=!0,t(function(){PollEv.sync=t.Deferred();var e=(0,o.paramsFromUrl)(window.location.toString());e&&e.load&&"sync"===e.load||PollEv.sync.resolve(),t.when(PollEv.sync).then(function(){window.presentation&&window.webApp?i.env.set({nativeAPI:{presentation:window.presentation,webApp:window.webApp,presentationEvents:window.presentationEvents}}):window.macWebApp&&i.env.set({nativeAPI:{presentation:window.macWebApp,webApp:window.macWebApp,presentationEvents:window.presentationEvents}});var e=new s.default;console.log("App synced nativeAPI "+(!!i.env.has("nativeAPI")).toString()),e.start({el:t("body"),pushState:!1,showSpinner:!1})})})}).call(t,n("32HH"),n("7t+N"))},"3snf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("+B0W")),a=c(n("KP7+")),s=c(n("Wkh0")),l=c(n("aXj8")),u=c(n("sFe/"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.groupIds=o.groupIds.bind(o),o.assignedTo=o.assignedTo.bind(o),o.formattedRegisteredOn=o.formattedRegisteredOn.bind(o),o.byLastName=o.byLastName.bind(o),o.parse=o.parse.bind(o),o.assignToGroup=o.assignToGroup.bind(o),o.removeFromGroup=o.removeFromGroup.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.include(l.default)}},{key:"urlRoot",value:function(){return"/api/participants"}},{key:"groupIds",value:function(){var e=this.get("groups").pluck("id");return e.length||e.push(0),e}},{key:"assignedTo",value:function(e){return this.get("groups").get(e)}},{key:"formattedRegisteredOn",value:function(){return(0,u.default)(this.get("created_at")).toString("MM/dd/yyyy")}},{key:"byLastName",value:function(){return this.fullName({reverse:!0,delimeter:", "})}},{key:"parse",value:function(e){return e.groups=new a.default(e.groups),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments)}},{key:"assignToGroup",value:function(e){var t=new s.default({id:e});return this.get("groups").add(t),this.sync("create",this,{processData:!0,data:{participant_group_id:e,participant_id:this.id},url:"/api/participant_participant_groups"})}},{key:"removeFromGroup",value:function(e){this.sync("delete",this,{processData:!0,data:{participant_group_id:e,participant_id:this.id},url:"/api/participant_participant_groups/-1"});var t=new s.default({id:e});return this.get("groups").remove(t)}}],[{key:"initClass",value:function(){this.prototype.defaults={checked:!1,groups:new a.default([])}}}]),t}();p.initClass(),t.default=p},"40hA":function(e,t,n){"use strict";(function(e,n,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(t){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return null!=e.title&&(t.title=e.title),null!=e.template&&(t.template=e.template),t.title&&t.app.title(t.title),t.trigger("init:mixin"),t.mixinsInitialized=!0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e.View),o(a,[{key:"include",value:function(e){return n.extend(this,e(this)),this.mixinsInitialized&&this.trigger("init:mixin"),this}}]),o(a,[{key:"_ensureElement",value:function(){if(this.app||(this.app=PollEv.app),this.app.log("Constructing View",this),null==this.appEvents&&(this.appEvents={}),this.subViews=[],this.mixins){var e=!0,t=!1,i=void 0;try{for(var o,s=Array.from(n.result(this,"mixins"))[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var l=o.value;this.include(l)}}catch(e){t=!0,i=e}finally{try{!e&&s.return&&s.return()}finally{if(t)throw i}}}r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_ensureElement",this).call(this)}},{key:"listenToChanges",value:function(e,t,i){t=t.split(/\s+/),this.listenTo(e,"change",function(e){var r=n.keys(e.changed);n.intersection(r,t).length&&i.apply(this,[e])})}},{key:"pageTitle",value:function(){return n.result(this,"title")}},{key:"_configureAppEvents",value:function(){for(var e in this.appEvents){var t=this.appEvents[e];try{var i=this[t];n.isFunction(t)&&(i=t),this.app.on(e,i,this)}catch(e){var r="'"+((null!=this.constructor?this.constructor.name:void 0)||"")+"'";throw new Error("View "+r+" has no method named '"+t+"'. It cannot be registered as a handler for application events.")}}}},{key:"delegateEvents",value:function(e){r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"delegateEvents",this).apply(this,arguments),this._configureAppEvents()}},{key:"undelegateEvents",value:function(){for(var e in r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"undelegateEvents",this).apply(this,arguments),this.app.log("Undelegating Events..."),this.app.log("Events before undelegation: ",n.flatten(n.values(this.app._events)).length),this.appEvents){var t=this.appEvents[e],i=this[t];n.isFunction(t)&&(i=t),this.app.off(e,i,this)}this.app.log("Events after undelegation: ",n.flatten(n.values(this.app._events)).length)}},{key:"appendView",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"append",o=void 0;return this.subViews=this.subViews.concat(t),o=n.isArray(t)?n.map(t,function(e){return e.render().$el}):t.render().$el,e instanceof i?e[r](o):this.$(e)[r](o)}},{key:"removeSubViews",value:function(){Array.from(this.subViews).map(function(e){return e.remove()})}},{key:"remove",value:function(){this.undelegateEvents(),this.removeSubViews(),r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).apply(this,arguments)}},{key:"renderTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.template,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.app.log("Rendering Template",e),n.isFunction(e)?this.$el.html(e(t)):this.$el.html(JST[e](t))}},{key:"renderTitle",value:function(){this.$(".title").text(this.pageTitle()),this.app.title(this.pageTitle())}},{key:"_",value:function(e){var t=void 0;return t=/--/.test(this.className)?this.className.substr(0,this.className.lastIndexOf("--")):this.className,this.$("."+t+"--"+e)}}]),a}();t.default=a}).call(t,n("32HH"),n("rdLu"),n("7t+N"))},"42R5":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-image-uploader__name'></div>\n<div class='component-image-uploader__status'></div>\n<div class='component-image-uploader__progress-bar'></div>\n<div class='component-image-uploader__file-input'>File input</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"52al":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<h1 class='progress-bar__message'></h1>\n<div class='progress-bar__meter'>\n  <div class='progress-bar__bar'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"5JUa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("ILqe"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ajax=this.ajax.bind(this),this.nextAjax=n,t.csrf||(t.csrf={}),this.tokens=t.csrf.tokens||(t.csrf.tokens={})}return r(e,[{key:"ajax",value:function(e){var t=a.default.hostFromUrl(e.url);return a.default.requiresCsrfToken(this.tokens,e)&&this.tokens[t]&&(e.headers||(e.headers={}),e.headers["X-CSRF-Token"]=this.tokens[t]),this.nextAjax(e)}}]),e}();t.default=s},"5gTJ":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-selector__grabber'></div>\n<input type='checkbox' title='Select this poll'>\n<div class='component-activity-selector__poll__icon'></div>\n<span class='component-activity-selector__poll__title'>\n  <a class='component-activity-selector__poll__title__link' href=''></a>\n</span>\n<button class='component-activity-selector__poll__share'>Share</button>\n<button class='component-activity-selector__poll__edit'>Edit</button>\n<button class='component-activity-selector__poll__duplicate'>Duplicate</button>\n<button class='component-activity-selector__poll__activate'></button>\n<a class='component-activity-selector__poll__responses component-activity-selector__row-count' href=''>\n  <span class='component-activity-selector__row-count__count'></span>\n  <span class='component-activity-selector__row-count__label'></span>\n</a>\n<div class='component-activity-selector__poll__status-icon'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"6+dm":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),r(n,[{key:"urlRoot",value:function(){return"/api/referral_codes"}},{key:"reminderEmailUrl",value:function(){return e(this.url()).segment("remind").toString()}},{key:"sendReminder",value:function(){return this.save(null,{url:this.reminderEmailUrl()})}}],[{key:"initClass",value:function(){this.prototype.idAttribute="code"}}]),n}();s.initClass(),t.default=s}).call(t,n("hBlz"))},"685t":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n("ILqe")),o=l(n("rdLu")),a=l(n("32HH")),s=l(n("7t+N"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return 422===e.status&&"InvalidAuthenticityToken"===(void 0!==(t=null!=e.responseJSON?e.responseJSON.error:void 0)&&null!==t?function(e){return e.type}(t):void 0);var t},c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ajax=this.ajax.bind(this),this.nextAjax=n,t.csrf||(t.csrf={}),this.tokens=t.csrf.tokens||(t.csrf.tokens={})}return i(e,[{key:"ajax",value:function(e){if(!r.default.requiresCsrfToken(this.tokens,e)||e.csrfRetry)return this.nextAjax(e);var t=o.default.pick(e,"error","complete","success");e.error=e.complete=e.success=s.default.noop();var n=s.default.Deferred(),i=this.nextAjax(e);return i.done(function(){return"function"==typeof t.success&&t.success.apply(t,arguments),t.complete&&n.done(t.complete),n.resolve.apply(n,arguments)}),i.fail(function(){return u(i)?a.default.ajax({method:"GET",url:"/api/csrf_token",cache:!1}).done(function(i,r,s){return o.default.extend(e,t),e.csrfRetry=!0,a.default.ajax(e).done(n.resolve).fail(n.reject)}).fail(function(){var e,i,r;return e=console,i="warn",r=function(e){return e.warn("Failed to get new CSRF token")},void 0!==e&&null!==e&&"function"==typeof e[i]&&r(e,i),"function"==typeof t.error&&t.error.apply(t,arguments),t.complete&&n.fail(t.complete),n.reject.apply(n,arguments)}):("function"==typeof t.error&&t.error.apply(t,arguments),t.complete&&n.fail(t.complete),n.reject.apply(n,arguments))}),n.promise(i)}}]),e}();t.default=c},"6L1a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.env=t.Util=t.Model=t.BasicAuth=t.Ajax=void 0;var i=d(n("9nM1")),r=p(n("UQNY")),o=d(n("MT41")),a=p(n("1eVD")),s=p(n("SXII")),l=d(n("TicV")),u=d(n("JXib")),c=d(n("6MBy"));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var f=s;f.Latex=u.default,f.Color=l.default,f.activityFactory=c.default;var h=n("nwPj").version;t.Ajax=r,t.BasicAuth=o.default,t.Model=a,t.Util=f,t.env=i.default,t.version=h},"6MBy":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(!(0,r.default)(e).isEmpty()){var n=(0,o.modelType)(e),a=(0,o.popRootKey)(e);a=function(e){if("object"!==(void 0===e?"undefined":i(e)))return e;if(Array.isArray(e))return e;if(e.group_id)return e;if(e.competition_id)return e;if(e.survey_id)return e;var t=JSON.parse(JSON.stringify(e));return t.group_id=-1,t}(a);var s=(0,o.classify)(n)||n,l=h[s];return l?new l(a,t):void 0}};var r=f(n("rdLu")),o=n("SXII"),a=f(n("UA47")),s=f(n("6OL5")),l=f(n("KBc6")),u=f(n("QQdz")),c=f(n("yQzB")),p=f(n("Y8hB")),d=f(n("Qkx0"));function f(e){return e&&e.__esModule?e:{default:e}}var h={MultipleChoicePoll:a.default,FreeTextPoll:s.default,Discourse:l.default,ClickableImage:u.default,RankingPoll:c.default,Survey:p.default,Competition:d.default}},"6OL5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("hKAP")),a=c(n("7r57")),s=c(n("MBh1")),l=c(n("djP2")),u=c(n("hBlz"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.toggleAutocensor=o.toggleAutocensor.bind(o),o.toggleModeration=o.toggleModeration.bind(o),o.isModerationEnabled=o.isModerationEnabled.bind(o),o.updateResults=o.updateResults.bind(o),o.parse=o.parse.bind(o),o.processLiveResponse=o.processLiveResponse.bind(o),o.hasCustomGlobalKeyword=o.hasCustomGlobalKeyword.bind(o),o.responseUrl=o.responseUrl.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.include(a.default),this.include(s.default),this.initKeyword(),this.results=new l.default(this.attributes.results),this.results.poll=this,this.on("sync",this.initKeyword),this.on("change:results",this.updateResults)}},{key:"toggleAutocensor",value:function(e,t){return null==t&&(t={}),this.toggle("autocensor",t,e)}},{key:"supportsModeration",value:function(){return!0}},{key:"toggleModeration",value:function(e,t){return this.toggle("moderation_enabled")}},{key:"isModerationEnabled",value:function(){return!0===this.get("moderation_enabled")}},{key:"updateResults",value:function(){return this.results.reset(this.attributes.results)}},{key:"parse",value:function(e,n){return null==n&&(n={}),e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments),n.resetKeyword&&this.resetKeyword(e.keyword),this.get("results_count")>0&&0===e.results_count&&this.results.reset(),e}},{key:"processLiveResponse",value:function(e){var n,i;return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"processLiveResponse",this).apply(this,arguments),this.flashOptions().processLiveResponse(e),i=e.result,n=e[this.type()],i?this.results.add(i,{merge:!0}):n?this.set(this.parse(n)):void 0}},{key:"hasCustomGlobalKeyword",value:function(){return!this.get("simple_keywords")&&!this.isAutoKeyword()}},{key:"responseUrl",value:function(){var e=this.get("permalink");return(0,u.default)("/").segment(this.type()+"s").segment(e).segment("results.json").toString()}}],[{key:"initClass",value:function(){this.prototype.defaultType="free_text_poll",this.prototype.modelProperties=["anonymous","autocensor","confirmation_type","custom_confirmation_message","display_state","flash_options","group_id","max_votes","moderation_enabled","owner_id","permalink","position","simple_keywords","sms_enabled","start_at","state","stop_at","survey_id","title","type_options","web_enabled","keyword","emoji_filter","survey_id"]}}]),t}();p.initClass(),t.default=p},"6fuq":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg width='13px' height='13px' viewBox='-2 -2 17 17' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>\n  <title>competition</title>\n  <g stroke='none' stroke-width='1' fill-rule='evenodd'>\n    <path d='M2,0 C2.734375,0 3.371094,0.40625 3.71875,1 L9.28125,1 C9.628906,0.40625 10.265625,0 11,0 C12.097656,0 13,0.902344 13,2 C13,2.542969 12.753906,3.019531 12.449219,3.484375 C12.144531,3.949219 11.761719,4.410156 11.390625,4.875 C10.648438,5.804688 10,6.75 10,7.5 C10,7.78125 10.21875,8 10.5,8 L11,8 L11,9 L10.5,9 C9.980469,9 9.515625,8.726563 9.25,8.320313 C9.238281,8.347656 9.234375,8.382813 9.222656,8.40625 C8.957031,9.207031 8.621094,9.835938 8.164063,10.292969 C7.835938,10.621094 7.433594,10.84375 7,10.941406 L7,12 L9,12 L9,13 L4,13 L4,12 L6,12 L6,10.941406 C5.566406,10.84375 5.164063,10.621094 4.835938,10.292969 C4.378906,9.835938 4.042969,9.207031 3.773438,8.40625 C3.765625,8.382813 3.761719,8.347656 3.75,8.320313 C3.484375,8.726563 3.019531,9 2.5,9 L2,9 L2,8 L2.5,8 C2.78125,8 3,7.78125 3,7.5 C3,6.75 2.351563,5.804688 1.609375,4.875 C1.238281,4.410156 0.855469,3.949219 0.550781,3.484375 C0.246094,3.019531 0,2.542969 0,2 C0,0.902344 0.902344,0 2,0 Z M2,1 C1.441406,1 1,1.441406 1,2 C1,2.207031 1.128906,2.542969 1.386719,2.9375 C1.644531,3.332031 2.011719,3.777344 2.390625,4.25 C2.65625,4.582031 2.925781,4.9375 3.171875,5.300781 C3.074219,4.328125 3.023438,3.222656 3.011719,2 L3,2 C3,1.441406 2.558594,1 2,1 Z M11,1 C10.441406,1 10,1.441406 10,2 L9.988281,2 C9.976563,3.222656 9.925781,4.328125 9.828125,5.300781 C10.074219,4.9375 10.34375,4.582031 10.609375,4.25 C10.988281,3.777344 11.355469,3.332031 11.613281,2.9375 C11.871094,2.542969 12,2.207031 12,2 C12,1.441406 11.558594,1 11,1 Z M4.054688,2 C4.089844,4.640625 4.292969,6.792969 4.726563,8.09375 C4.957031,8.792969 5.246094,9.289063 5.539063,9.582031 C5.835938,9.878906 6.125,10 6.5,10 C6.875,10 7.164063,9.878906 7.460938,9.582031 C7.753906,9.289063 8.042969,8.792969 8.273438,8.09375 C8.707031,6.792969 8.910156,4.640625 8.945313,2 L4.054688,2 Z' fill='#60E2DC'></path>\n    <polygon fill='#848484' points='6 3 6 7 7 7 7 3'></polygon>\n  </g>\n</svg>"),e.join("\n")}.call(e)}}.call(this)},"73n1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("qblT")),o=s(n("fcnF")),a=s(n("rdLu"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.highestResult=o.highestResult.bind(o),o.lowestResult=o.lowestResult.bind(o),o.hasImage=o.hasImage.bind(o),o.hasAlphaNumericKeyword=o.hasAlphaNumericKeyword.bind(o),o.hasLatex=o.hasLatex.bind(o),o.hasCorrect=o.hasCorrect.bind(o),o.resetKeywords=o.resetKeywords.bind(o),o.ordinalRank=o.ordinalRank.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"highestResult",value:function(){return a.default.max((0,a.default)(this.pluck("results_count")).map(function(e){return parseFloat(e)}))}},{key:"lowestResult",value:function(){return a.default.min((0,a.default)(this.pluck("results_count")).map(function(e){return parseFloat(e)}))}},{key:"hasImage",value:function(){return this.any(function(e){return e.isImage()})}},{key:"hasAlphaNumericKeyword",value:function(){return this.any(function(e){return e.isKeywordAlphaNumeric()})}},{key:"hasLatex",value:function(){return this.any(function(e){return e.isLatex()})}},{key:"hasCorrect",value:function(){return this.any(function(e){return e.isCorrect()})}},{key:"resetKeywords",value:function(e){var t=this;return a.default.each(e,function(e){var n=t.get(e.id);return null!=n?n.resetKeyword(a.default.pick(e,"keyword","auto_keyword")):void 0})}},{key:"ordinalRank",value:function(e){if("ranking_poll"===(null!=this.poll?this.poll.type():void 0)){var t=this.map(function(e){return e.get("results_count")}),n=(0,a.default)(t).sortBy(function(e){return parseFloat(e)});return(0,a.default)(n).indexOf(e.get("results_count"))+1}}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),t}();l.initClass(),t.default=l},"7r57":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("rdLu")),r=o(n("7t+N"));function o(e){return e&&e.__esModule?e:{default:e}}var a=["help","aide","info","ping","start","stop","arret","quit","cancel","unsubscribe","unsub","done","end","certify","certified","session","leave","results","22333","37607"],s=["true","false","yes","no","other","keyword","code","what","the","cast","vote"];function l(e,t){return void 0!==e&&null!==e?t(e):void 0}t.default=function(t){return{initKeyword:function(){t.initialKeyword=l(t.get("keyword"),function(e){return e.toLowerCase()})},resetKeyword:function(e){return t.set(e),t.initKeyword()},isAutoKeyword:function(){return t.isBlankKeyword()||"Auto Keyword"===t.get("keyword")||!!t.get("auto_keyword")},isBlankKeyword:function(){return void 0===t.get("keyword")||""===t.get("keyword")},isSystemKeyword:function(){var e=void 0;return!!(e=t.get("keyword"))&&i.default.contains(a,e.toLowerCase())},isCommonSessionKeyword:function(){var e=void 0;return!!(e=t.get("keyword"))&&i.default.contains(s,e.toLowerCase())},checkKeywordAvailability:function(){var n=r.default.Deferred(),i=l(t.get("keyword"),function(e){return e.toLowerCase()});return t.initialKeyword===i?n.resolve(!0):e.ajax({url:"/keywords/"+i+"/status"}).done(function(e){var t="available"===(null!=e.keyword?e.keyword.state:void 0);return n.resolve(t,null!=e.keyword?e.keyword.message:void 0,null!=e.keyword?e.keyword.poll_permalink:void 0)}).fail(function(e){return n.reject(e.message)}),n.promise()},validateKeyword:function(e){return null==e&&(e={}),i.default.defaults(e,{allowBlank:!0,sessionKeyword:!1}),!e.allowBlank&&t.isBlankKeyword()?"Keyword cannot be blank":!e.sessionKeyword&&t.isCommonSessionKeyword()?"This is a system keyword":t.isSystemKeyword()?"This is a system keyword":void 0},isKeywordAlphaNumeric:function(){return/[a-zA-Z]/.test(t.get("keyword"))}}}}).call(t,n("32HH"))},"82hR":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("SXII")),a=c(n("+B0W")),s=c(n("ypuQ")),l=c(n("7t+N")),u=c(n("hBlz"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.markAsLoaded=o.markAsLoaded.bind(o),o.toggleCollapse=o.toggleCollapse.bind(o),o.url=o.url.bind(o),o.isRealGroup=o.isRealGroup.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"initialize",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.activities=new s.default(null,{group_id:this.id,user_id:this.get("owner_id")})}},{key:"markAsLoaded",value:function(){return this.set({loaded:!0})}},{key:"toggleCollapse",value:function(){var e=!this.get("collapsed");if(this.isRealGroup()){return this.save({collapsed:e},{patch:!0,wait:!0})}return this.set({collapsed:e}),l.default.Deferred().resolve()}},{key:"url",value:function(e){return null==e&&(e={}),(0,u.default)(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"url",this).apply(this,arguments)).setQuery(e).toString()}},{key:"validate",value:function(e){if(null!=e.name&&0===e.name.length)return"Group name cannot be empty."}},{key:"isRealGroup",value:function(){return this.id!==t.defaultId}},{key:"parse",value:function(e){return e.group&&(e=o.popRootKey(e)),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments)}}],[{key:"initClass",value:function(){this.prototype.urlRoot="/api/groups",this.prototype.defaults={id:null,name:"New Group",collapsed:!1,loaded:!1,current:!1}}}]),t}();p.initClass(),p.defaultId=-1,t.default=p},"8SBv":function(e,t,n){"use strict";(function(e,i,r,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=u(n("/dYK")),l=u(n("42R5"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){t=parseInt(t)||0,this.$status.text("(uploading "+t+"%)"),this.$progress.css("width",t+"%"),this.trigger("progress",t)},p=function(e){e.uploader=new s.default(e.$(".component-image-uploader__file-input").get(0),{paramName:"data",url:e.endpoint,maxFilesize:5,clickable:!0,acceptedFiles:e.allowedExtensions.join(",")}),e.$uploader=r(e.uploader.element),e.$uploader.on("click",function(e){return e.stopPropagation()}),e.uploader.on("success",function(e,t){this.imageUrl=i(t).addQuery({pe_description:i(e.name).filename().toString()}).toString();var n={name:e.name,url:this.imageUrl,status:e.status,type:e.type};this.trigger("success",n)}.bind(e)),e.uploader.on("error",function(e,t){this.$el.addClass("component-image-uploader--error"),this.$name.text(e.name),this.$status.text("("+t+")");var n={name:e.name,message:t,status:e.status,type:e.type};this.trigger("error",n)}.bind(e)),e.uploader.on("sending",function(e){return this.reset(),this.$name.text(e.name),this.$progress.css("width",0),c.call(this,e,0)}.bind(e)),e.uploader.on("uploadprogress",c.bind(e))},d=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.View),a(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.endpoint)throw new Error("`options.endpoint` cannot be empty.");if(!Array.isArray(t.allowedExtensions)||0===t.allowedExtensions.length)throw new Error("`options.allowedExtensions` cannot be empty array.");this.endpoint=t.endpoint,this.allowedExtensions=t.allowedExtensions,this.name=t.name,this.name?this.$el.addClass(function(t){return this.className+"--"+e.slugify(t)}.call(this,this.name)):this.name=this.className}},{key:"render",value:function(){return this.$el.html(this.template()),this.$name=this.$(".component-image-uploader__name"),this.$status=this.$(".component-image-uploader__status"),this.$progress=this.$(".component-image-uploader__progress-bar"),p(this),this}},{key:"getImageUrl",value:function(){return this.imageUrl}},{key:"reset",value:function(){this.$el.removeClass("component-image-uploader--error"),this.$name.text(""),this.$status.text(""),this.$progress.css("width",0)}},{key:"selectFile",value:function(){this.$uploader.click()}},{key:"uploadFile",value:function(e){return this.uploader.uploadFile(e)}},{key:"remove",value:function(){this.uploader.destroy(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-image-uploader"}},{key:"template",get:function(){return l.default}}]),n}();t.default=d}).call(t,n("xok8"),n("hBlz"),n("7t+N"),n("32HH"))},"95Qu":function(e,t){var n,i;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],i=0;i<e.length;i+=3)for(var r=e[i]<<16|e[i+1]<<8|e[i+2],o=0;o<4;o++)8*i+6*o<=8*e.length?t.push(n.charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],i=0,r=0;i<e.length;r=++i%4)0!=r&&t.push((n.indexOf(e.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|n.indexOf(e.charAt(i))>>>6-2*r);return t}},e.exports=i},"988n":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("32HH"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.meta=o.meta.bind(o),o.links=o.links.bind(o),o.data=o.data.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Model),r(t,[{key:"meta",value:function(e){return this.get("meta")[e]}},{key:"links",value:function(e){return this.get("links")[e]}},{key:"data",value:function(){return this.get("data")}}]),t}();t.default=s},"9Wve":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='presenter--header' js-header></div>\n<div class='presenter--content' js-content></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"9gpq":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n("x4Pe")),a=c(n("8SBv")),s=c(n("GGcf")),l=c(n("ds15")),u=c(n("vdSn"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){e.model.flashOptions().set({instructionImageUrl:t.url,chartShowInstructionsImage:!0})},d=function(e,t){h(e,"err")},f=function(e){h(e,"progress")},h=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=["progress","show","err"],i=0;i<n.length;i++){var r=n[i];e.$el.removeClass("component-editor-title--"+r)}t?e.$el.addClass("component-editor-title--"+t):e.$_element("image__preview").html("")},v=function(e){e.model.flashOptions().has("instructionImageUrl")?(h(e,"show"),function(e,t,n){var i=e.$_element("image__preview");i.html((0,u.default)()),i.find("img").attr("src",t),i.find("button").text("");var r=i.find(".component-editor-title__image-alt");e.options.showAltText?r.val(n):r.hide()}(e,e.model.flashOptions().get("instructionImageUrl"),e.model.flashOptions().get("instructionImageAlt"))):h(e)},g=function(e){return PollEv.Util.Latex.isLatex(e.model.get("title"))?(e.$_toggleModifier(null,e.className,"preview",!0),PollEv.Util.Latex.renderInto(e.$preview,e.model.get("title"))):e.$_toggleModifier(null,e.className,"preview",!1)},y=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),r(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,(0,o.default)(this)),this.options=e.defaults(t,{placeholder:"Question",instructionsImage:!1,showAltText:!1}),this.$el.html(this.template()),this.titleField=new s.default({el:this.$("input"),model:this.model,placeholder:this.options.placeholder}),this.titleField.validateOn("input"),this.$preview=this.$_element("preview"),this.listenTo(this.titleField,"valid",e.partial(g,this))}},{key:"render",value:function(){var t,n=this.$_element("image");return this.titleField.$inputRow.append(n),this.options.instructionsImage&&(this.listenTo(this.model.flashOptions(),"change:instructionImageUrl",e.partial(v,this)),this.listenTo(this.model.flashOptions(),"change:instructionImageAlt",e.partial(v,this)),v(this),this.titleField.$inputRow.append((t=this,t.$_element("image__button").removeClass("component-editor-title__image__button--hidden"),t.$_element("image__preview").removeClass("component-editor-title__image__preview--hidden"),t.imageUploader=new a.default({name:"title",endpoint:PollEv.env.get("image_bucket_url"),allowedExtensions:["image/*"]}).render(),t.listenTo(t.imageUploader,"success",e.partial(p,t)),t.listenTo(t.imageUploader,"error",e.partial(d,t)),t.listenTo(t.imageUploader,"progress",e.partial(f,t)),t.imageUploader).$el)),this}},{key:"remove",value:function(){this.titleField.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-editor-title"}},{key:"template",get:function(){return this._template||l.default},set:function(e){this._template=e}},{key:"events",get:function(){return{"click .component-editor-title__image__button":function(){this.imageUploader.selectFile()},"click .component-editor-title__image__preview button":function(){var e;(e=this).model.flashOptions().unset("instructionImageUrl"),e.model.flashOptions().unset("instructionImageAlt"),e.model.flashOptions().set({chartShowInstructionsImage:!1})},"change .component-editor-title__image-alt":function(e){!function(e,t){var n=t.target.value;e.model.flashOptions().set({instructionImageAlt:n})}(this,e)}}}}]),n}();t.default=y}).call(t,n("rdLu"),n("32HH"))},"9nM1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("32HH")),r=o(n("Nwwm"));function o(e){return e&&e.__esModule?e:{default:e}}var a=new(o(n("lMcM")).default);i.default.ajax=(new r.default).ajax,t.default=a},"9szz":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=l(n("x4Pe")),a=l(n("fxyI")),s=l(n("aipb"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),r(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,(0,o.default)(this)),this.options=e.defaults(t,this.defaults),this.groups=this.collection}},{key:"render",value:function(){var t;return(t=this).list=new a.default({collection:t.groups,viewClass:function(){return s.default},viewOptions:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.pick(t.options,"group").group,o=e.pick(t.options,"survey").survey,a=e.pick(t.options,"competition").competition,s=e.pick(t.options,"poll").poll;return e.defaults(i,r,{survey:o,competition:a,poll:s})}}),t.listenTo(t.list,"reset",function(e){return e.forEach(function(e){return t.listenTo(e,"all",t.trigger)})}),t.listenTo(t.list,"add",function(e){t.trigger("addGroup",e),t.listenTo(e,"all",t.trigger)}),t.listenTo(t.list,"sort",t.trigger),t.$el.append(t.list.render().$el.addClass(t.className+"__list")),this}},{key:"remove",value:function(){this.list.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-activity-selector__groups"}},{key:"defaults",get:function(){return{group:{},survey:{},competition:{},poll:{}}}}]),n}();t.default=u}).call(t,n("rdLu"),n("32HH"))},"9xp/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("+B0W")),o=a(n("hBlz"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.participationCost=o.participationCost.bind(o),o.needsToPay=o.needsToPay.bind(o),o.isExistingParticipant=o.isExistingParticipant.bind(o),o.participantSelfRegistration=o.participantSelfRegistration.bind(o),o.register=o.register.bind(o),o.registerUrl=o.registerUrl.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"url",value:function(){return(0,o.default)("/api/users").segment(this.get("login")).segment("registration_info").toString()}},{key:"participationCost",value:function(){return parseFloat(this.get("participation_cost"))}},{key:"needsToPay",value:function(){return this.participationCost()>0}},{key:"isExistingParticipant",value:function(){return!!this.get("existing_participant")}},{key:"participantSelfRegistration",value:function(){return!!this.get("participant_self_registration")}},{key:"register",value:function(e){return null==e&&(e={}),this.save(e,{url:this.registerUrl()})}},{key:"registerUrl",value:function(){return(0,o.default)("register").setQuery("email",this.get("login")).toString()}}]),t}();t.default=s},"ACZ+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("Hf0w")),o=s(n("32HH")),a=s(n("rdLu"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.filter=o.filter.bind(o),o.clearFilter=o.clearFilter.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(e,t){return null==t&&(t={}),e instanceof o.default.Model?e=e.clone():e instanceof Array&&(e=e.map(function(e){return e instanceof o.default.Model?e.clone():e})),this.original=new o.default.Collection(e),this.listenTo(this,"add",function(e){return this.original.add(e.clone())}),this.listenTo(this,"remove",function(e){return this.original.remove(e.id)})}},{key:"filter",value:function(e,t){var n=this;e instanceof RegExp?this.filterRegex=e:this.filterRegex=function(e){return new RegExp(e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),"i")}(e);var i=this.original.filter(function(e){return a.default.any(t,function(t){return n.filterRegex.test(e.get(t))})}).map(function(e){return e.clone()});return this.reset(i)}},{key:"clearFilter",value:function(){delete this.filterRegex;var e=this.original.map(function(e){return e.clone()});return this.reset(e)}}]),t}();t.default=l},AFeg:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n("WSXn")),o=l(n("3snf")),a=l(n("rdLu")),s=l(n("hBlz"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.initialize=o.initialize.bind(o),o.stopListening=o.stopListening.bind(o),o.toQueryString=o.toQueryString.bind(o),o.bulkRemove=o.bulkRemove.bind(o),o.checkAll=o.checkAll.bind(o),o.uncheckAll=o.uncheckAll.bind(o),o.inParticipantGroups=o.inParticipantGroups.bind(o),o.fetchByParticipantGroupID=o.fetchByParticipantGroupID.bind(o),o.query=o.query.bind(o),o.checked=o.checked.bind(o),o.allAssignedTo=o.allAssignedTo.bind(o),o.someAssignedTo=o.someAssignedTo.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.default),i(n,[{key:"initialize",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments),this.queryParams=new e.Model,this.params({page:1,search:"",order:"registered_on",direction:"DESC",participant_group_ids:[],all_participants_selected:!1})}},{key:"params",value:function(e){return null!=e?this.queryParams.set(e):this.queryParams.attributes}},{key:"url",value:function(){return"/api/participants"}},{key:"toQueryString",value:function(e){return"?"+e+"="+this.pluck(e).join(",")}},{key:"bulkRemove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e){if("all"===e)return this.sync("delete",this).done(function(){return"function"==typeof t.success?t.success():void 0});if(!e.length)return;return this.remove(e),new n(a.default.invoke(e,"toJSON")).bulkRemove(void 0,t)}var i=(0,s.default)("/api/participants").search({id:this.pluck("id").join(",")});return this.sync("delete",this,{url:i.toString()}).done(function(){return"function"==typeof t.success?t.success():void 0})}},{key:"checkAll",value:function(){return this.invoke("set",{checked:!0})}},{key:"uncheckAll",value:function(){return this.invoke("set",{checked:!1})}},{key:"inParticipantGroups",value:function(e){return this.queryParams.set({participant_group_ids:e}),this.query()}},{key:"fetchByParticipantGroupID",value:function(e){return this.queryParams.set({participant_group_ids:[e]}),this.query()}},{key:"query",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data||(e.data={}),a.default.defaults(e.data,this.queryParams.attributes),e.reset=!0,this.fetch(e)}},{key:"checked",value:function(){return this.where({checked:!0})}},{key:"allAssignedTo",value:function(e){var t=!0;return this.each(function(n){n.groupIds().includes(e.id)||(t=!1)}),t}},{key:"someAssignedTo",value:function(e){var t=!1;return this.each(function(n){n.groupIds().includes(e.id)&&(t=!0)}),t}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),n}();u.initClass(),t.default=u}).call(t,n("32HH"))},AeHN:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-selector__group__header'>\n  <div class='component-activity-selector__grabber'></div>\n  <input type='checkbox' title='Select this group'>\n  <button class='component-activity-selector__group__arrow-icon' aria-label='Toggle collapse'></button>\n  <div class='component-activity-selector__group__title'></div>\n  <div class='component-activity-selector__group__actions'>\n    <button class='component-activity-selector__group__share'>Share</button>\n    <button class='component-activity-selector__group__convert'>Convert to survey</button>\n    <button class='component-activity-selector__group__add'>Add activity</button>\n    <button class='component-activity-selector__group__edit'>Rename</button>\n    <button class='component-activity-selector__group__delete'>Delete</button>\n    <button class='component-activity-selector__group__duplicate'>Duplicate</button>\n    <button class='component-activity-selector__group__sharing-details'>\n      <span></span>\n      <div class='component-activity-selector__group__sharing-details__info'></div>\n    </button>\n  </div>\n  <span class='component-activity-selector__group__activity-count component-activity-selector__row-count'>\n    <span class='component-activity-selector__row-count__count'></span>\n    <span class='component-activity-selector__row-count__label'></span>\n  </span>\n</div>\n<div class='component-activity-selector__group__activities'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},B1Hv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("Hf0w")),o=a(n("rdLu"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.multiSort=o.multiSort.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"multiSort",value:function(e){var t=this.toArray();return e.reverse().forEach(function(e){var n=1;"DESC"===e[1]&&(n=-1),t=o.default.sortBy(t,function(t){var i=t.get(e[0]);if(i)return o.default.isNumber(i)?n*i:i.toLowerCase()})}),this.reset(t,{silent:!0}),this}}]),t}();t.default=s},BWO0:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg class='polleverywhere-logo' baseprofile='tiny\", height =>\"140.7px' space='preserve' style='enable-background:new 0 0 860.8 140.7;' version='1.1' viewbox='0 0 860.8 140.7' width='860.8px' x='0px' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' y='0px' role='img' title='Poll Everywhere Logo'>\n  <g>\n    <g>\n      <path d='M70.4,0C31.5,0,0,31.5,0,70.4s31.5,70.4,70.4,70.4c38.9,0,70.4-31.5,70.4-70.4S109.2,0,70.4,0z M49.5,106.7\n\t\t\t\t\tH26.3V89.2l23.3-6.1V106.7z M82,106.7H58.7V28.1L82,21.1V106.7z M114.5,106.7H91.2V54.2l23.3-7V106.7z'></path>\n    </g>\n  </g>\n  <g>\n    <path d='M190.1,84.7h-4.5v23.5H168V37.4h22.8c17.2,0,27.8,7.7,27.8,23.1C218.6,76.5,207.2,84.7,190.1,84.7z\n\t\t\t\t M189.8,50.6h-4.4v20.8h4.1c7.8,0,12.1-3.4,12.1-10.7C201.5,54,197.5,50.6,189.8,50.6z'></path>\n    <path d='M245.7,109.2c-13.8,0-24-9.9-24-26s10.2-26.2,24.1-26.2c13.9,0,24.2,10,24.2,26.1S259.6,109.2,245.7,109.2z\n\t\t\t\t M245.8,69.6c-5.9,0-9.1,5.2-9.1,13.4c0,8.1,3.3,13.6,9.1,13.6c5.9,0,9.2-5.4,9.2-13.5C255,75,251.8,69.6,245.8,69.6z'></path>\n    <path d='M352.8,108.1V37.4h44.1v14H370v12.9h20.5v14.5H370v15.3h27.8v14H352.8z'></path>\n    <path d='M432.9,108.3h-15.5l-17.1-49.2l15-1.9l11,31.8l9.9-31.1h14.2L432.9,108.3z'></path>\n    <path d='M498.1,86.9H468c0.8,7.9,5.5,11,12.3,11c5.5,0,6.9-1.2,12.4-4.4l4.8,10c-5.4,3.5-11.3,5.6-19.2,5.6\n\t\t\t\tc-15.1,0-25.8-8-25.8-25.9c0-16.4,10-26.3,23.7-26.3c15.4,0,22.2,11.5,22.2,26C498.4,84.5,498.3,86.1,498.1,86.9z M475.8,66.9\n\t\t\t\tc-4.3,0-7.4,3.8-7.9,11.5h15.8C483.2,70.8,480.5,66.9,475.8,66.9z'></path>\n    <path d='M521.9,80.3v27.9h-15.2V57.9h15.2v9.9c3.1-5.7,7.3-9.6,14.7-10.1l0.1,13.3C529.2,71.6,525.7,76.2,521.9,80.3\n\t\t\t\tz'></path>\n    <path d='M574.5,109.2c-4.5,13.1-10.7,17.6-21.6,17.6c-3.1,0-4.4-0.3-5.8-0.6v-11.6c1.6,0.5,1.2,0,4.2,0\n\t\t\t\tc3.5,0,6.6-1.3,8.2-4.8l0.6-1.5l-18.2-49.1l15-1.9l11.4,31.7l10-30.9h14.1L574.5,109.2z'></path>\n    <path d='M654.8,108.1h-13.9l-8.2-28.7l-8.1,28.7h-14l-13.7-49l14.3-1.9l8.5,30l7.9-29.3H639l8.8,29.2l7.5-29.2h13.5\n\t\t\t\tL654.8,108.1z'></path>\n    <path d='M773.4,86.9h-30.1c0.8,7.9,5.5,11,12.3,11c5.5,0,6.9-1.2,12.4-4.4l4.8,10c-5.4,3.5-11.3,5.6-19.2,5.6\n\t\t\t\tc-15.1,0-25.8-8-25.8-25.9c0-16.4,10-26.3,23.7-26.3c15.4,0,22.2,11.5,22.2,26C773.7,84.5,773.6,86.1,773.4,86.9z M751,66.9\n\t\t\t\tc-4.3,0-7.4,3.8-7.9,11.5h15.8C758.4,70.8,755.7,66.9,751,66.9z'></path>\n    <path d='M796.3,80.3v27.9h-15.2V57.9h15.2V67c3.1-5.7,7.3-8.8,14.7-9.3l0.1,13.3C803.6,71.6,800.1,76.2,796.3,80.3z'></path>\n    <path d='M860.5,86.9h-30.1c0.8,7.9,5.5,11,12.3,11c5.5,0,6.9-1.2,12.4-4.4l4.8,10c-5.4,3.5-11.3,5.6-19.2,5.6\n\t\t\t\tc-15.1,0-25.8-8-25.8-25.9c0-16.4,10-26.3,23.7-26.3c15.4,0,22.2,11.5,22.2,26C860.8,84.5,860.7,86.1,860.5,86.9z M838.1,66.9\n\t\t\t\tc-4.3,0-7.4,3.8-7.9,11.5H846C845.5,70.8,842.9,66.9,838.1,66.9z'></path>\n    <rect height='71.9' width='15.6' x='303.7' y='36.2'></rect>\n    <rect height='71.9' width='15.6' x='278.5' y='36.2'></rect>\n    <path d='M676,36.2v71.9h15.5v-33c2.8-2.8,5.5-4.5,8.5-4.5c3.7,0,5.1,2.5,5.1,6v31.5h15.6V72.5\n\t\t\t\tc0-9.7-4.9-15.6-14.2-15.6c-6.1,0-10.8,3.2-15,7.3V36.2H676z'></path>\n  </g>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},BlD9:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n("x4Pe")),s=c(n("fxyI")),l=c(n("kXW4")),u=c(n("hErT"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=!!e.model.polls.length&&e.model.polls.every(function(e){return"closed"===e.get("state")});e.$_toggleModifier(null,e.className,"closed",t)},d=function(t){var n=void 0,i=e.reduce(t.model.polls.pluck("results_count"),function(e,t){return(t||0)+e},0);switch(!0){case 0===i:i="No",n="responses";break;case 1===i:n="response";break;case i>=1e6:i="1M+",n="responses";break;default:n="responses"}"number"==typeof i&&(i=PollEv.Util.commaFormat(i)),t.$_element("header").find(".component-activity-selector__row-count__count").text(i+" "),t.$_element("header").find(".component-activity-selector__row-count__label").text(n)},f=function(e){if(e.$polls.find(".component-activity-selector__poll__activate").attr("tabindex",-1),e.options.activatable){var t=e.model.get("current");e.$_toggleModifier(null,e.className,"activated",!!t),t?e.model.live({multiplex:!0}):e.model.die()}},h=function(e){e.$_element("title__polls-count").text(e.model.polls.length),e.$_element("title__link").attr({title:e.model.cleanTitle()+" - "+e.model.polls.length+" questions"})},v=function(e){var t=e.model.get("title"),n=PollEv.Util.Latex.isLatex(t),i=e.$_element("title__link");i.attr({href:e.model.showUrl(),title:e.model.cleanTitle()+" - "+e.model.polls.length+" questions"}),n?PollEv.Util.Latex.renderInto(i,t):i.text(e.model.cleanTitle())},g=function(e){e.$el.attr("data-id",e.model.id),e.$el.attr("data-type","survey"),e.$el.attr("data-user-id",e.model.get("owner_id")),e.$el.attr("data-position",e.model.get("position"))},y=function(e,t){e.$el.toggleClass(e.className+"--hover","focusin"===t.type),e.$el.hasClass(e.className+"--expanded")?e.$polls.find("input:checkbox, a, button:not(.component-activity-selector__poll__activate)").attr("tabindex",0):e.$polls.find("input:checkbox, a, button:not(.component-activity-selector__poll__activate)").attr("tabindex",-1)},m=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this.model instanceof PollEv.Model.Survey))throw new Error("`opts.model` argument must exist, and it must be a survey model.");e.extend(this,(0,a.default)(this)),this.options=e.defaults(t,{collapsed:!this.model.has("collapsed")||this.model.get("collapsed")},this.defaults),this.list=new s.default({viewClass:function(){return l.default},viewOptions:function(){return e.pick(t,"poll").poll},collection:this.model.polls}),this.list.$el.addClass("component-activity-selector__survey__polls"),this.$_toggleModifier(null,this.className,"expanded",!this.options.collapsed),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"change:current",e.partial(f,this)),this.listenTo(this.model,"change:title",e.partial(v,this)),this.listenTo(this.model,"change",e.partial(g,this)),this.listenTo(this.model.polls,"change:state",e.partial(p,this)),this.listenTo(this.model.polls,"change:results_count",e.partial(d,this)),this.listenTo(this.model.polls,"add",e.partial(h,this)),this.listenTo(this.model.polls,"remove",e.partial(h,this))}},{key:"render",value:function(){var e;return this.$el.html(this.template()),this.$checkbox=this.$_element("header").find("input:checkbox"),(e=this).options.addable||e.$_element("add-question").remove(),e.options.activatable||e.$_element("activate").remove(),e.options.duplicatable||e.$_element("duplicate").remove(),e.options.editable||e.$_element("edit").remove(),e.options.shareable||e.$_element("share").remove(),e.options.selectable||e.$checkbox.remove(),e.options.convertible||e.$_element("convert").remove(),this.$el.append(this.list.render().$el),this.$el.data("model",this.model),this.$polls=this.$_element("polls"),v(this),h(this),g(this),f(this),d(this),p(this),function(e){e.$_toggleModifier(null,e.className,"empty",!e.model.polls.length)}(this),this}},{key:"remove",value:function(){this.model.die(),this.list.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-activity-selector__survey"}},{key:"template",get:function(){return u.default}},{key:"events",get:function(){return{"click .component-activity-selector__survey__header":function(e){!function(e,t){if(e.model.polls.length){if(i(t.target).is("."+e.className+"__title__link")&&e.options.blockLink)t.preventDefault();else{if(i(t.target).is(":button, :checkbox")&&!i(t.target).hasClass(e.className+"__arrow-icon"))return;var n=e.$el.is("."+e.className+"--expanded");e.$_toggleModifier(null,e.className,"expanded",!n)}e.trigger("expand",e.model)}}(this,e)},"click .component-activity-selector__survey__header input:checkbox":function(e){var t,n;n=(t=this).$checkbox.is(":checked"),t.$polls.find("input[type='checkbox']:enabled").prop("checked",n)},"click .component-list input:checkbox":function(e){var t,n;n=(t=this).list.$("input:checkbox:checked").length,t.$(".component-activity-selector__survey__header input:checkbox").prop("checked",t.model.polls.length===n)},"focus .component-activity-selector__survey__header input:checkbox":function(e){y(this,e)},"blur .component-activity-selector__survey__header input:checkbox":function(e){y(this,e)},"focus .component-activity-selector__survey__header a":function(e){y(this,e)},"blur .component-activity-selector__survey__header a":function(e){y(this,e)},"focus .component-activity-selector__survey__header button":function(e){y(this,e)},"blur .component-activity-selector__survey__header button":function(e){y(this,e)}}}},{key:"defaults",get:function(){return{activatable:!0,addable:!0,blockLink:!0,convertible:!0,deletable:!0,duplicatable:!0,editable:!0,selectable:!0,shareable:!0,poll:{}}}}]),n}();t.default=m}).call(t,n("rdLu"),n("7t+N"),n("32HH"))},Chvp:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<section class='liveslides--url-form padded-section'>\n  <div class='liveslides--header'>\n    <div class='liveslides--brand'></div>\n  </div>\n</section>\n<section class='liveslides--form-section padded-section'>\n  <form class='liveslides--url-form' js-check-url novalidate>\n    <input class='liveslides--url' type='url' placeholder='' autofocus js-get-url novalidate name='url'>\n    <input class='insert-webpage' type='submit' m-right js-submit s-disabled value='Insert'>\n  </form>\n</section>\n<div class='liveslides--message-section padded-section'>\n  <p class='liveslides--notification' js-notify s-hidden>Oops, that URL looks funny. Open the website in your browser, copy the address and paste it here.</p>\n  <p class='liveslides--example' js-show-example>i.e. webpage, youtube, vimeo, etc...</p>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},D2JR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("PPLf")),o=a(n("OpOZ"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,null,[{key:"initClass",value:function(){this.prototype.model=o.default,this.prototype.url="/api/examples"}}]),t}();s.initClass(),t.default=s},D7ky:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=t.postMessageEvents||{},i=function(e){var i=null!=e.originalEvent?e.originalEvent.data:void 0,r=i;i=!1;try{var o=JSON.parse(r);null!=o.message&&(r=o.message,null!=o.data&&(i=o.data)),null!=o.method&&"trigger"===o.method&&(null!=o.args?o.args.length:void 0)&&(r=o.args.shift(),i=o.args)}catch(e){}var a=n[r];return"function"==typeof a?a(i):"function"==typeof t[a]?t[a](i):a?t.trigger(a,i):void 0};return e(window).on("message",i),t.constructor.prototype.postToFrame=function(e){return t.$frame.get(0).contentWindow.postMessage(e,"*")},t.constructor.prototype.stopListeningToFrames=function(){return e(window).off("message",i)},t}}).call(t,n("7t+N"))},"DN4/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("+B0W")),a=c(n("sFe/")),s=n("SXII"),l=c(n("6MBy")),u=c(n("hBlz"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.submissionDate=o.submissionDate.bind(o),o.submissionTime=o.submissionTime.bind(o),o.poll=o.poll.bind(o),o.pollTitle=o.pollTitle.bind(o),o.pollLink=o.pollLink.bind(o),o.pollOwnerName=o.pollOwnerName.bind(o),o.pollOwnerEmail=o.pollOwnerEmail.bind(o),o.response=o.response.bind(o),o.parse=o.parse.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments)}},{key:"urlRoot",value:function(){return(0,u.default)("/api/participants").segment(this.id.toString()).segment("responses").toString()}},{key:"submissionDate",value:function(){return(0,a.default)(this.get("created_at")).toString("MM/dd/yyyy")}},{key:"submissionTime",value:function(){return(0,a.default)(this.get("created_at")).toString("h:mm:sstt")}},{key:"poll",value:function(){return this.get("poll")}},{key:"pollTitle",value:function(){return this.poll().get("title")}},{key:"pollLink",value:function(){return this.poll()._urlBase()}},{key:"pollOwnerName",value:function(){return this.poll().get("owner_name").split(" ").map(function(e){return(0,s.capitalize)(e)}).join(" ")}},{key:"pollOwnerEmail",value:function(){return this.poll().get("owner_email")}},{key:"response",value:function(){return this.get("humanized_value")}},{key:"parse",value:function(e){return e.poll=(0,l.default)(e.poll),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments)}}]),t}();t.default=p},DpU6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,null,[{key:"initClass",value:function(){this.prototype.urlRoot="/api/registrations"}}]),t}();s.initClass(),t.default=s},EKta:function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-u(e)},t.toByteArray=function(e){var t,n,i,a,s,l=e.length;a=u(e),s=new o(3*l/4-a),n=a>0?l-4:l;var c=0;for(t=0;t<n;t+=4)i=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;2===a?(i=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===a&&(i=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i);return s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o="",a=[],s=0,l=n-r;s<l;s+=16383)a.push(c(e,s,s+16383>l?l:s+16383));1===r?(t=e[n-1],o+=i[t>>2],o+=i[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=i[t>>10],o+=i[t>>4&63],o+=i[t<<2&63],o+="=");return a.push(o),a.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"ET/Z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("32HH")),o=a(n("rdLu"));function a(e){return e&&e.__esModule?e:{default:e}}var s={created:"create",queued:"queue",working:"inprogress",completed:"complete",failed:"fail"},l=function(e){var t=e.get("status"),n=s[t];switch(t){case"completed":case"failed":e.stopChecking(),e.trigger(n,e.get("data"));break;default:e.trigger(n,e)}},u=function(e){return clearTimeout(e.timeoutId),delete e.timeoutId},c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.status=o.status.bind(o),o.startChecking=o.startChecking.bind(o),o.stopChecking=o.stopChecking.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Model),i(t,[{key:"initialize",value:function(e){if(null==e&&(e={}),e.pollingInterval){var t=parseInt(e.pollingInterval);if(isNaN(t))throw new Error("`options.pollingInterval` must be a number.");this.pollingInterval=t}o.default.defaults(e,{pollingInterval:5}),this.stopChecking(),this.on("change:status",o.default.partial(l,this))}},{key:"status",value:function(){return this.get("status")}},{key:"startChecking",value:function(){return this.isPolling=!0,this.timeoutId||function e(t,n){null==n&&(n=1e3*t.pollingInterval);var i=function(){return t.isPolling?t.fetch().done(function(){return e(t)}).fail(function(e){return u(t),t.trigger("error",t,e)}):u(t)};if(!(n>0))return i();t.timeoutId=setTimeout(i,n)}(this,0),this}},{key:"stopChecking",value:function(){return this.isPolling=!1,this}}],[{key:"initClass",value:function(){this.prototype.urlRoot="/api/jobs",this.prototype.defaults={status:"pending"},this.prototype.idAttribute="uuid"}}]),t}();c.initClass(),t.default=c},EXRP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("SXII"),o=s(n("32HH")),a=s(n("eBus"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.search=o.search.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Collection),i(t,[{key:"url",value:function(){return"/account/users"}},{key:"search",value:function(e){var t=(0,r.regexSearch)(e);return this.filter(function(e){return t.test(e.get("first_name"))||t.test(e.get("last_name"))||t.test(e.get("login"))||t.test(e.get("email"))})}}],[{key:"initClass",value:function(){this.prototype.model=a.default}}]),t}();l.initClass(),t.default=l},EmhH:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 22 22"><defs><path id="ok-a" d="M11,0 C4.93810138,0 0,4.93810138 0,11 C0,17.0618986 4.93810138,22 11,22 C17.0618986,22 22,17.0618986 22,11 C22,4.93810138 17.0618986,0 11,0 Z"></path><polygon id="ok-c" points="15.475 7.02 9.308 13.188 6.518 10.405 5.328 11.595 9.308 15.581 16.678 8.21"></polygon></defs><g fill="none" fill-rule="evenodd"><mask id="ok-b" fill="#fff"><use xlink:href="#ok-a"></use></mask><use fill="#006DB6" fill-rule="nonzero" xlink:href="#ok-a"></use><g fill="#2D8651" mask="url(#ok-b)"><rect width="51" height="51"></rect></g><path fill="#FFF" d="M11,1.69230769 C16.1496398,1.69230769 20.3076923,5.85036015 20.3076923,11 C20.3076923,16.1496398 16.1496398,20.3076923 11,20.3076923 C5.85036015,20.3076923 1.69230769,16.1496398 1.69230769,11 C1.69230769,5.85036015 5.85036015,1.69230769 11,1.69230769 Z" mask="url(#ok-b)"></path><mask id="ok-d" fill="#fff"><use xlink:href="#ok-c"></use></mask><use fill="#349D5E" xlink:href="#ok-c"></use><g fill="#2D8651" mask="url(#ok-d)"><rect width="51" height="51" transform="translate(-14 -15)"></rect></g></g></svg>'},EuP9:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n("EKta"),r=n("ujcs"),o=n("sOR5");function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var p=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){p=!1;break}if(p)return o}return-1}function m(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,i){return H(z(t,e.length-n),e,n,i)}function _(e,t,n,i){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return _(e,t,n,i)}function k(e,t,n,i){return H(D(t),e,n,i)}function O(e,t,n,i){return H(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function P(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,u=e[r],c=null,p=u>239?4:u>223?3:u>191?2:1;if(r+p<=n)switch(p){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,p=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=p}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=T));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return p(null,e)},l.allocUnsafeSlow=function(e){return p(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,a=n-t,s=Math.min(o,a),u=this.slice(i,r),c=e.slice(t,n),p=0;p<s;++p)if(u[p]!==c[p]){o=u[p],a=c[p];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function x(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function S(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function j(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=U(e[o]);return r}function C(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function R(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function I(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,i,o){return o||I(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function $(e,t,n,i,o){return o||I(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:z(new l(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function D(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(t,n("DuR2"))},EzR1:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push('<section class=\'secondary-nav-margin section\'>\n  <div class=\'grid-container\'>\n    <div class=\'grid-row\'>\n      <div class=\'grid-col-12\'>\n        <h1>Friendly summary</h1>\n        <h2 class=\'subtitle\'>Without all the Legalese</h2>\n        <ol class=\'numbered\'>\n          <li>You must provide accurate information about who you are, like your name and email. You can\'t share your account with others, except by using our multi-user features. You must be a living human, not a bot.</li>\n          <li>\n            You can downgrade at any time, but\n            <strong>there are no refunds for months when you didn\'t use the service.</strong>\n            You are solely responsible for downgrading to the free plan in order to cancel paid service, and for saving your confirmation number. You can always verify a successful downgrade on your\n            account page.\n          </li>\n          <li>You\'re responsible for maintaining the security of your account.</li>\n          <li>One person or legal entity may not maintain more than one free account.</li>\n          <li>If you\'re younger than 13, you need your parents permission to use our service.</li>\n          <li>The polls you create and answers you submit belong to you, but we can show them to people for you according to our various sharing and privacy features. Anything you input to our site must be legal, so no plagiarism, hate speech, profanity, etc.</li>\n          <li>Don\'t rip off our stuff. Some completely unethical overseas competitors did, and we were ruthless with them. Seriously.</li>\n          <li>You aren\'t allowed to reverse engineer the site, hack it, or programmatically use anything other than the API. Surprise, surprise.</li>\n          <li>If we get sued because of stuff you did on our service, you\'re responsible for defending us. This is called indemnification.</li>\n          <li>We can (and do) change features frequently. We can change prices (but it\'s rare).</li>\n          <li>Please be respectful, and we will do the same. Poll Everywhere reserves the right to refuse service to anyone. We can block you if your use is considered excessive, and will shut you off if your behavior is toxic. But don\'t worry, out of the millions of Poll Everywhere presenters, we\'ve only had to do this a few times.</li>\n          <li>\n            There\'s no warranty. We do not guarantee uptime, or that the service is bug-free. If you need a Service Level Agreement (SLA), you can\n            work with us\n            to purchase an Enterprise License Agreement.\n          </li>\n          <li>\n            We can change these Terms at any time. If you need terms locked in, you can\n            engage us\n            for an Enterprise License Agreement.\n          </li>\n        </ol>\n      </div>\n    </div>\n  </div>\n</section>\n<section class=\'section\'>\n  <div class=\'grid-container\'>\n    <div class=\'grid-row legalese\'>\n      <div class=\'grid-col-12\'>\n        <h1>POLL EVERYWHERE, INC. TERMS OF SERVICE</h1>\n        <p>\n          <strong>Please Read Carefully Before Using The Poll Everywhere Website and Service:</strong>\n          The following terms and conditions ("Terms of Service") govern your use of the Poll Everywhere, Inc, website (the "Site") and services accessed through the Site (collectively, the "Service") operated by Poll Everywhere, Inc. ("Poll Everywhere", "we" or "us"). By accessing and using the Service and/or any information, content or materials made available on the Service, including by downloading any Poll Everywhere add-in, you irrevocably agree that such use is subject to these Terms of Service. If you do not agree to these Terms of Service, you may not use the Service.\n        </p>\n        <p>\n          You should check these Terms of Service and this Site periodically for modifications. Poll Everywhere may modify the Site and/or the Terms of Service from time to time without notice to you. If Poll Everywhere makes material changes to the Terms of Service we will post the revised Terms of Service and the revised effective date on this Site. Any continued use by you of the Service after the posting of such modified Terms of Service shall be deemed to indicate your irrevocable agreement to such modified Terms of Service. Accordingly, if at any time you do not agree to be subject to any modified Terms of Service, you may no longer use the Service.\n        </p>\n        <span>Effective: February 23rd, 2018</span>\n        <h3>1. USE OF THE SERVICE</h3>\n        <p>\n          (a) Registered Users:\n          In order to gain access to some parts of the Service, you are required to register for an account that is accessed by a username and password ("Account"). In registering for your Account, you agree (i) that the information you provide to Poll Everywhere in connection with your registration will be current, complete and accurate, (ii) not to choose a user name that violates any law or the intellectual property rights of others, or is offensive; provided that Poll Everywhere reserves the right to reject the use of any user name for any reason or no reason, (iii) not to transfer, sell, convey or assign the right to use your Account to any third party without the prior written consent of Poll Everywhere and (iv) not to permit any third party to use your user name and password to access your Account or the Service. You further agree that you are responsible for the conduct of any party that uses your Account, whether or not authorized by you, and for any breach of the security of the Service related to the use of your user name and/or password.\n        </p>\n        <p>\n          (b) Grant of Rights:\n          Upon registration and subject to the payment of any applicable fees, Poll Everywhere grants you the limited, revocable, non-transferable, non-exclusive right to access and use the Service, under the condition that such activity is solely for your internal purposes, except as may expressly agreed to in writing by Poll Everywhere.\n        </p>\n        <p>\n          (c) Privacy Policy:\n          In the course of your use of the Site or the Service, you may be asked to provide certain information to us. Poll Everywhere\'s use of any information you provide shall be governed by these Terms of Service and our Privacy Policy available at\n          https://www.polleverywhere.com/privacy_policy.\n          We urge you to read our Privacy Policy, which is hereby incorporated into and made a part of these Terms of Service by this reference as though fully set forth herein.\n        </p>\n        <p>\n          (d) Use of the Site and Service by Persons Under 13 Years of Age:\n          Poll Everywhere is committed to protecting the privacy of young children, and therefore does not knowingly collect or maintain personally identifiable information on the Site or Service from persons under 13 years of age, except in compliance with the Children\'s Online Privacy Protection Act of 1998 ("COPPA"). Accordingly, children under the age of 13 may only use the Site or the Service with the permission and supervision of their parents. Additionally, teachers and schools seeking to use the Site or Service in the classroom with children under 13 years of age, are required to obtain the express consent of such children\'s parents in compliance with COPPA, prior to permitting such children to access or use the Site or Service.\n        </p>\n        <p>\n          (e) Submission of User Content:\n          In connection with your use of the Service, you agree not to submit any content which (i) is unlawful, (ii) violates any right of publicity or invades the privacy of others, (iii) constitutes obscene, pornographic, indecent, profane or otherwise objectionable material, (iv) is discriminatory, hateful or bigoted toward, or abusive of, any group or individual, (v) is libelous or defamatory or (vi) violates any applicable law or government regulation. You represent and warrant that you own or have the necessary rights in and to any and all content that you upload or post to the Site or Service. You hereby grant to Poll Everywhere a non-exclusive, royalty-free license to use, store, reproduce and display any content you post on the Site or Service, solely as reasonably necessary to operate the Site or the Service, and subject to the terms of this Agreement, including our Privacy Policy.\n        </p>\n        <p>\n          (f) Use of Subscriber Name\n          Subscriber agrees that Poll Everywhere may use Subscribers name and logo for the purpose of providing and operating the Branded Site, and on Poll Everywheres website to identify Subscriber as a customer of Poll Everywhere, and as a part of a general list of Poll Everywhere customers.\n        </p>\n        <p>\n          (g) Proprietary Rights.\n          The Site and Service, including all of the contents, such as text, images, audio, and the HTML used to generate the pages (collectively, "Content"), are the property of Poll Everywhere or that of our suppliers or licensors and are protected by patent, trademark and/or copyright under United States and/or foreign laws. Notwithstanding the foregoing, you retain ownership of any information or content that you upload to the Site and/or the Service, and may use in perpetuity any reports or other materials provided to you as part of the Service. Except as otherwise provided herein, you may not use, download, upload, copy, print, display, perform, reproduce, publish, modify, prepare derivative works from, delete, add to, license, post, transmit, or distribute any Content from this Site in whole or in part, for any public or commercial purpose without the specific written permission of Poll Everywhere. Except as otherwise provided herein, use of the Site or Service does not grant you a license to any Content, features or materials you may access on the Site or through the Service. As between you and Poll Everywhere, (or other company whose marks appear on the Site), Poll Everywhere (or the respective company) is the owner and/or authorized user of any trademark, registered trademark and/or service mark appearing on the Site, and is the copyright owner or licensee of the Content and/or information on the Site, unless otherwise indicated. In particular, the Poll Everywhere logos and service names are trademarks of Poll Everywhere (the "Poll Everywhere Marks"). Without Poll Everywhere\'s prior permission, you agree not to display or use the Poll Everywhere Marks in any manner. Nothing on the Site or in the Service should be construed to grant any license or right to use any Poll Everywhere Mark without the prior written consent of Poll Everywhere. Poll Everywhere Marks may be registered in the United States and internationally.\n        </p>\n        <p>\n          (h) Prohibited Conduct:\n          Poll Everywhere specifically prohibits any use of the Site or Service, for: (i) posting any (1) information which is incomplete, false, inaccurate or not your own, (2) trade secrets or material that is copyrighted or otherwise owned by a third party unless you have a valid license from the owner which permits you to post it or (3) material that infringes on any other intellectual property, privacy or publicity right of another; (ii) impersonating another person; (iii) engaging in or encouraging conduct that would constitute a criminal offense, give rise to civil liability or otherwise violate any city, state, national or international law or regulation, or which fails to comply with accepted Internet protocol; or (iv) transmitting or transferring (by any means) information or software derived from the Site to foreign countries or certain foreign nations in violation of US export control laws. In addition, you are prohibited from violating or attempting to violate the security of the Site, Service or Poll Everywhere\'s system or network security, including, without limitation, the following: (w) accessing data not intended for users of the Site or Services, or gaining unauthorized access to an account, server or any other computer system; (x) attempting to probe, scan or test the vulnerability of a system or network or to breach security or authentication measures; (y) attempting to interfere with the function of the Site, Service, host or network, including, without limitation, via means of submitting a virus to the Site, overloading, "flooding", "mailbombing", "crashing", or sending unsolicited e-mail, including promotions and/or advertising of products or services; or (z) forging any TCP/IP packet header or any part of the header information in any e-mail or newsgroup posting. You may not deploy to the Site or Service any robot, spider, site search/retrieval application, or other application designed to retrieve, index or "data mine," information from the Site or Service. You agree at all times to use the Site and the Service in compliance with applicable law and these Terms and Conditions.\n        </p>\n        <p>\n          (i) Prohibited Use:\n          Subscriber represents and warrants that neither Subscriber and nor any Authorized User shall use the Services (including without limitation by asking for such information in a poll created using the Services) to collect from Poll Participants any of the following information: (i) social security number; (ii) drivers license number, State identification card number or passport number; (iii) financial account number; (iv) credit, debit or other payment card number; (v)security code or password; (vi) medical information; or (vii) health insurance information. If Subscriber collects such information, Subscriber does so at its own risk, and in no event shall Poll Everywhere be liable for any loss, damages, claims or otherwise arising out of related to Subscribers collection of such information, whether arising in tort (including negligence), contract or any other legal theory, including without limitation, any such information in the care, custody or control of Poll Everywhere.\n        </p>\n        <p>\n          (j) Indemnification:\n          You hereby irrevocably agree to indemnify, defend and hold Poll Everywhere, its affiliates, directors, officers, employees and agents harmless from and against any and all losses, costs, damages, liabilities and expenses (including attorneys\' fees) arising out of or related to your use of the Service.\n        </p>\n        <p>\n          (k) SMS Text Messaging:\n          Poll Everywhere SMS text messaging features of the Service are offered in the United States on the following carriers: AT&T, Verizon Wireless, Sprint, T-Mobile, Cellular One, US Cellular, Boost, Virgin, MetroPCS, Cricket, Alltel. Poll Everywhere is not primarily an SMS marketing or campaign management tool, it is a data collection tool. Regardless, Poll Everywhere will conform to current Mobile Marketing Association Best Practices.\n        </p>\n        <p>\n          (l) Reselling the Service:\n          You may "resell" the Service, by offering a service to third parties that incorporates the Service, provided that (i) your service includes substantial additional value beyond the Service, such that your customers do not purchase your service primarily to gain access to the features and functions of the Service, (ii) you agree to be responsible for the acts and omissions of your customers\' use of the Service, to the extent it is part of your service and (iii) you: (1) must purchase separate Accounts for each client, project, or other use; or (2) must subscribe to a Custom Plan if you want to do multi-tenancy in which a single Account or login is to be used with multiple, separate third parties (see plans and pricing for more details). For the avoidance of doubt, you may not use a single Account or login for multiple, separate third party entities if you have not subscribed to a Custom Plan, and any attempt to do so may result in additional charges to your Account and/or termination of your Account, at the discretion of Poll Everywhere.\n        </p>\n        <p>\n          (m) Termination:\n          You may terminate your Account at any time. Poll Everywhere, in its sole discretion, has the right to suspend or terminate your Account and your access to the Service, for any reason at any time. Any termination of your Account will result in the deletion of your Account and the content in it, and the termination of your access to Service. Poll Everywhere reserves the right to refuse service to anyone for any reason at any time.\n        </p>\n        <p>\n          (n) Educational Institution Subscribers\n          Subscribers that are educational institutions or any subdivision thereof, such as an entire department (e.g, Department of Political Science or Science Department, etc.) or school (e.g., Business School, School of Engineering or School of Medicine, etc.), but excluding cases in which teachers or professors open an account for a single class, are charged a Subscription Fee based on the number of individual students that are eligible to be Poll Participants. Therefore, where Subscriber is an educational institution, each individual student that will be a Poll Participant must register under the applicable Subscribers account. Each registered student may access and use the Services as a Poll Participant from an unlimited number of devices. Notwithstanding the foregoing, Subscriber may, on a student-by-student basis, provide students with the option to not register under Subscribers account. The parties agree that for each student that elects not to register under Subscribers account, one individual student license will be converted to a license that permits the Services to be accessed and used by 1.5 devices. Teachers, professors and their assistants are not required to register in order to be Poll Participants, but may need to register as Authorized Users in order to configure and conduct polls using the Service.\n        </p>\n        <p>\n          In addition, on a case by case basis and with approval from Subscribers account manager at Poll Everywhere, Subscriber may conduct polls for one-off events such as conferences, which include an additional number of Poll Participants that are not registered students that is equal to the number of registered students for which Subscriber has purchased a license. Finally, Subscriber may add and/or remove registered students twice each calendar year, in order to account for turnover in the student population.\n        </p>\n        <h3>2. SERVICE FEES PAYMENT AND REFUND POLICY</h3>\n        <p>\n          (a) Payment Generally; Taxes:\n          In consideration of the right to access and use the Service, you agree to pay the applicable fees in U.S. dollars ("Service Fees") as indicated on the Site. Service Fees are billed in advance on a monthly basis and are non-refundable. A valid credit card is required for paying the Service Fees. If you sign up for a paid subscription plan, you will be billed immediately for the first month of access to the Service. You will be billed monthly for the applicable Service Fee starting on the 30th day after your Account was initially created. All Service Fees are exclusive of all sales, excise or use taxes, or any levies, or duties imposed by taxing authorities, and you shall be responsible for payment of all such taxes, levies, or duties, excluding taxes on the income of Poll Everywhere. Service Fees are subject to change upon 30 days notice from us. Such notice may be provided at any time by posting the changes to the Site, or by e-mail.\n        </p>\n        <p>\n          (b) Upgrades and Downgrades:\n          If you elect to upgrade your subscription, you will be billed a prorated amount immediately upon upgrading. For any upgrade, your credit card will be charged the difference between the price of the upgraded plan and the prorated credit left from the old plan, as allocated by the number of days remaining in the Account billing cycle. Your Account will be billed monthly thereafter for the amount of the upgraded plan. For any downgrade, your credit card that you provided will automatically be charged the amount of the downgraded plan immediately, and your billing cycle will be set to the current date. Downgrading your Service may cause the loss of content, features, or capacity of your Account. Poll Everywhere does not accept any liability for such loss. You are solely responsible for properly downgrading your Account in order to terminate recurring charges to your credit card. An email or phone request to cancel your Account is not considered termination. You can downgrade your Account to free at any time by clicking on the "Our Plans" link in the global navigation bar at the top of the screen.\n        </p>\n        <p>\n          (c) No Refunds:\n          There will be no refunds or credits of Service Fees (i) for partial months of Service access, (ii) as a result of any upgrade or downgrade of the Service, or (iii) for any period of time during which you do not use the Service, but have not cancelled your Account. In order to treat everyone equally, no exceptions will be made.\n        </p>\n        <h3>3. CHANGES TO THE SERVICE; ENSURING SERVICE QUALITY; SUSPENSION OR TERMINATION OF USE RIGHTS</h3>\n        <p>\n          (a) Changes to the Service:\n          Poll Everywhere reserves the right to make changes to the Service, at any time, with or without providing notice to you. In the event that you do not agree with any changes to the Service, your only remedy shall be to cease using the Service.\n        </p>\n        <p>\n          (b) Ensuring Service Quality:\n          Poll Everywhere reserves the right to throttle, traffic shape or otherwise restrict your use of the Service on a temporary or permanent basis if in our judgment such actions are necessary to ensure the quality of the Service for all of our customers (e.g., because of excessive bandwidth use). By using the Service, you acknowledge and agree that throttling thresholds may be applied by Poll Everywhere in our sole discretion. In addition and without limiting your obligations under the Agreement, you agree not to and not to attempt to: (i)use the Service toaccess any resources not assigned to you by us; and/or (ii) perform any form of network discovery,load testingor penetration testingwith respect to the Servicewithout explicit written permission from Poll Everywhere.\n        </p>\n        <p>\n          (c) Suspension or Termination of Use Rights:\n          Poll Everywhere may suspend or terminate your right to use the Service for any reason or no reason upon notice to you. Poll Everywhere shall not be liable to you or to any third party for any modification, suspension or discontinuance of the Service. Such termination of the Service will result in the deactivation or deletion of your Account, and the forfeiture and relinquishment of all information in your Account. Poll Everywhere reserves the right to refuse service to anyone for any reason at any time.\n        </p>\n        <h3>4. LINKS FROM AND TO THE SITE</h3>\n        <p>Poll Everywhere reserves the right, at its discretion at any time, to deny any request, or rescind any permission granted, to link to the Site, and to require termination of any such link to the Site. You may be able to link to third party websites ("Linked Sites") from the Site. Linked Sites are not, however, reviewed, controlled or examined by Poll Everywhere in any way and Poll Everywhere is not responsible for the content, availability, advertising, products, information or use of user information or other materials of any such Linked Sites, or any additional links contained therein. These links do not imply Poll Everywhere\'s endorsement of, or association with, the Linked Sites. In no event shall Poll Everywhere be liable, directly or indirectly, to anyone for any loss or damage arising from or occasioned by the creation or use of the Linked Sites or the information or material accessed through these Linked Sites.</p>\n        <h3>5. DISCLAIMER OF WARRANTIES AND LIMITATION OF LIABILITY</h3>\n        <p>\n          (a) Warranty Disclaimer:\n          THE SITE, SERVICE AND CONTENT ARE PROVIDED STRICTLY ON AN "AS IS" AND "AS AVAILABLE" BASIS, AND POLL EVERYWHERE MAKES NO WARRANTY THAT THE SITE, SERVICE OR CONENT ARE COMPLETE, SUITABLE FOR YOUR PURPOSE, OR ACCURATE. ON BEHALF OF ITSELF AND ITS LICENSORS, POLL EVERYWHERE HEREBY EXPRESSLY DISCLAIMS ANY AND ALL IMPLIED, STATUTORY OR OTHER WARRANTIES WITH RESPECT TO THE SITE, SERVICE AND CONTENT, OR THE AVAILABILITY OF THE SITE, SERVICE OR CONTENT, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFIRNGEMENT. THE ENTIRE RISK AS TO RESULTS OBTAINED THROUGH USE OF THE SITE AND SERVICE RESTS WITH YOU AND POLL EVERYWHERE MAKES NO REPRESENTATION OR WARRANTY THAT THE SERVICE AVAILABILITY WILL BE UNINTERRUPTED, OR THE SITE, SERVICE AND/OR THE CONTENT WILL BE ERROR FREE.\n        </p>\n        <p>\n          (b) Limitation of Liability:\n          TO THE FULLEST EXTENT PERMITTED BY APPLICABLE LAW, YOU AGREE THAT POLL EVERYWHERE SHALL NOT BE LIABILE TO YOU FOR ANY DAMAGES ARISING OUT OF OR CONNECTED TO YOUR USE OF, OR INABILITY TO USE, THE SITE OR THE SERVICE, INCLUDING, WITHOUT LIMITATION, ANY AND ALL DIRECT, INDIRECT, INCIDENTAL, CONSEQUENTIAL, PUNITIVE, SPECIAL, EXEMPLARY OR STATUTORY DAMAGES (INCLUDING, WITHOUT LIMITATION, LOSS OF BUSINESS, LOSS OR PROFITS, LOSS OF REVENUE, LOSS OF DATA., LOSS OF GOODWILL OR FOR ANY COST OF COVER OR COST OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES), EVEN IF POLL EVERYWHERE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, AND REGARDLESS OF THE LEGAL THEORY UNDER WHICH DAMAGES ARE SOUGHT, WHETHER IN BREACH OF CONTRACT OR IN TORT, INCLUDING NEGLIGENCE.\n        </p>\n        <h3>6. GENERAL</h3>\n        <p>\n          These Terms of Service constitute the entire agreement and understanding between the parties concerning the subject matter hereof, notwithstanding any different or additional terms that may be contained in the form of purchase order or other document used by you to place orders or otherwise effect transactions hereunder, which such terms are hereby rejected. These Terms of Service supersede all prior or contemporaneous discussions, proposals and agreements between you and Poll Everywhere relating to the subject matter hereof. No amendment, modification or waiver of any provision of these Terms of Service will be effective unless in writing and signed by an officer of Poll Everywhere. If any provision of these Terms of Service is held to be invalid or unenforceable, the remaining portions will remain in full force and effect and such provision will be enforced to the maximum extent possible so as to effect the intent of the parties and will be reformed to the extent necessary to make such provision valid and enforceable. No waiver of rights by Poll Everywhere may be implied from any actions or failures to enforce rights under these Terms of Service. These Terms of Service are intended to be and are solely for the benefit of Poll Everywhere and you and do not create any right in favor of any third party. These Terms of Service will be governed by and construed in accordance with the laws of the United States and the State of California, without reference to its conflict of laws principles. All disputes arising out of or relating to these Terms of Service will be submitted to the exclusive jurisdiction of a federal court of competent jurisdiction located in the Northern District of California, or a state court located in San Francisco, California, and each party irrevocably consents to such personal jurisdiction and waives all objections to this venue. All notices must be in writing and will be effective three (3) days after the date sent.\n        </p>\n      </div>\n    </div>\n  </div>\n</section>'),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},Fr92:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<option class='component-dropdown__option'></option>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},FsSI:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-survey__activities'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},FssR:function(e,t,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * PEP v0.4.3-pre | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
o=function(){var e=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],t=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var r=document.createEvent("Event");r.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var o,a=2;a<e.length;a++)r[o=e[a]]=i[o]||t[a];r.buttons=i.buttons||0;var s=0;return s=i.pressure&&r.buttons?i.pressure:r.buttons?.5:0,r.x=r.clientX,r.y=r.clientY,r.pointerId=i.pointerId||0,r.width=i.width||0,r.height=i.height||0,r.pressure=s,r.tiltX=i.tiltX||0,r.tiltY=i.tiltY||0,r.pointerType=i.pointerType||"",r.hwTimestamp=i.hwTimestamp||0,r.isPrimary=i.isPrimary||!1,r}var i=window.Map&&window.Map.prototype.forEach?Map:r;function r(){this.array=[],this.size=0}r.prototype={set:function(e,t){if(void 0===t)return this.delete(e);this.has(e)||this.size++,this.array[e]=t},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach(function(n,i){e.call(t,n,i,this)},this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!=typeof SVGElementInstance,u={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var n=t,i=n.events;i&&(i.forEach(function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))},this),this.eventSources[e]=n,this.eventSourceList.push(n))},register:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),e._handledByPE=!0}},listen:function(e,t){t.forEach(function(t){this.addEvent(e,t)},this)},unlisten:function(e,t){t.forEach(function(t){this.removeEvent(e,t)},this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var i=new n(e,t);return t.preventDefault&&(i.preventDefault=t.preventDefault),i._target=i._target||t.target,i},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){for(var t,n=Object.create(null),i=0;i<o.length;i++)n[t=o[i]]=e[t]||a[i],!l||"target"!==t&&"relatedTarget"!==t||n[t]instanceof SVGElementInstance&&(n[t]=n[t].correspondingUseElement);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in s?void 0:t:e._target},propagate:function(e,t,n){for(var i=e.target,r=[];i!==document&&i.contains&&!i.contains(e.relatedTarget);)if(r.push(i),!(i=i.parentNode))return;n&&r.reverse(),r.forEach(function(n){e.target=n,t.call(this,e)},this)},setCapture:function(e,t){this.captureInfo[e]&&this.releaseCapture(e),this.captureInfo[e]=t;var i=new n("gotpointercapture");i.pointerId=e,this.implicitRelease=this.releaseCapture.bind(this,e),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),i._target=t,this.asyncDispatchEvent(i)},releaseCapture:function(e){var t=this.captureInfo[e];if(t){var i=new n("lostpointercapture");i.pointerId=e,this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),i._target=t,this.asyncDispatchEvent(i)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};u.boundHandler=u.eventHandler.bind(u);var c={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var n=e.querySelector("shadow");n&&(t=n.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],n=this.shadow(e);n;)t.push(n),n=this.olderShadow(n);return t},searchRoot:function(e,t,n){if(e){var i,r,o=e.elementFromPoint(t,n);for(r=this.targetingShadow(o);r;){if(i=r.elementFromPoint(t,n)){var a=this.targetingShadow(i);return this.searchRoot(a,t,n)||i}r=this.olderShadow(r)}return o}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,n=e.clientY,i=this.owner(e.target);return i.elementFromPoint(t,n)||(i=document),this.searchRoot(i,t,n)}},p=Array.prototype.forEach.call.bind(Array.prototype.forEach),d=Array.prototype.map.call.bind(Array.prototype.map),f=Array.prototype.slice.call.bind(Array.prototype.slice),h=Array.prototype.filter.call.bind(Array.prototype.filter),v=window.MutationObserver||window.WebKitMutationObserver,g={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function y(e,t,n,i){this.addCallback=e.bind(i),this.removeCallback=t.bind(i),this.changedCallback=n.bind(i),v&&(this.observer=new v(this.mutationWatcher.bind(this)))}function m(e){return"body /shadow-deep/ "+b(e)}function b(e){return'[touch-action="'+e+'"]'}function _(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}y.prototype={watchSubtree:function(e){this.observer&&c.canTarget(e)&&this.observer.observe(e,g)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){p(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(f(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=d(e,this.findElements,this);return t.push(h(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){"childList"===e.type?(this.flattenMutationTree(e.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(e.removedNodes).forEach(this.removeElement,this)):"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var w=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],k="",O=window.PointerEvent||window.MSPointerEvent,P=!window.ShadowDOMPolyfill&&document.head.createShadowRoot;var E=u.pointermap,T=[1,4,2,8,16],x=!1;try{x=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var S,j={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,i=e.clientX,r=e.clientY,o=0,a=n.length;o<a&&(t=n[o]);o++){var s=Math.abs(i-t.x),l=Math.abs(r-t.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(e){var t=u.cloneEvent(e),n=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),n()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,t},prepareButtonsForMove:function(e,t){var n=E.get(this.POINTER_ID);0!==t.which&&n?e.buttons=n.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),n=this.prepareEvent(e);x||(n.buttons=T[n.button],t&&(n.buttons|=t.buttons),e.buttons=n.buttons),E.set(this.POINTER_ID,e),t&&0!==t.buttons?u.move(n):u.down(n)}},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);x||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),u.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),n=this.prepareEvent(e);if(!x){var i=T[n.button];n.buttons=t?t.buttons&~i:0,e.buttons=n.buttons}E.set(this.POINTER_ID,e),n.buttons&=~T[n.button],0===n.buttons?u.up(n):u.move(n)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);x||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),u.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);x||this.prepareButtonsForMove(t,e),t.button=-1,u.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.deactivateMouse()},deactivateMouse:function(){E.delete(this.POINTER_ID)}},C=u.captureInfo,M=c.findTarget.bind(c),A=c.allShadows.bind(c),R=u.pointermap,L={events:["touchstart","touchmove","touchend","touchcancel"],register:function(e){S.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute("touch-action"),n=this.touchActionToScrollType(t);n&&(e._scrollType=n,u.listen(e,this.events),A(e).forEach(function(e){e._scrollType=n,u.listen(e,this.events)},this))},elementRemoved:function(e){e._scrollType=void 0,u.unlisten(e,this.events),A(e).forEach(function(e){e._scrollType=void 0,u.unlisten(e,this.events)},this)},elementChanged:function(e,t){var n=e.getAttribute("touch-action"),i=this.touchActionToScrollType(n),r=this.touchActionToScrollType(t);i&&r?(e._scrollType=i,A(e).forEach(function(e){e._scrollType=i},this)):r?this.elementRemoved(e):i&&this.elementAdded(e)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(e){var t=e,n=this.scrollTypes;return"none"===t?"none":t===n.XSCROLLER?"X":t===n.YSCROLLER?"Y":n.SCROLLER.exec(t)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===R.size||1===R.size&&R.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var e=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(e,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,n=u.cloneEvent(e),i=n.pointerId=e.identifier+2;n.target=C[i]||M(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=e.radiusX||e.webkitRadiusX||0,n.height=e.radiusY||e.webkitRadiusY||0,n.pressure=e.force||e.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(e),n.pointerType=this.POINTER_TYPE,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey;var r=this;return n.preventDefault=function(){r.scrolling=!1,r.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.changedTouches;this.currentTouchEvent=e;for(var i,r=0;r<n.length;r++)i=n[r],t.call(this,this.touchToPointer(i))},shouldScroll:function(e){if(this.firstXY){var t,n=e.currentTarget._scrollType;if("none"===n)t=!1;else if("XY"===n)t=!0;else{var i=e.changedTouches[0],r=n,o="Y"===n?"X":"Y";t=Math.abs(i["client"+r]-this.firstXY[r])>=Math.abs(i["client"+o]-this.firstXY[o])}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,i=0,r=e.length;i<r&&(n=e[i]);i++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(R.size>=t.length){var n=[];R.forEach(function(e,i){if(1!==i&&!this.findTouch(t,i-2)){var r=e.out;n.push(r)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(e,this.overDown))},overDown:function(e){R.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),u.enterOver(e),u.down(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):(e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,n=R.get(t.pointerId);if(n){var i=n.out,r=n.outTarget;u.move(t),i&&r!==t.target&&(i.relatedTarget=t.target,t.relatedTarget=r,i.target=r,t.target?(u.leaveOut(i),u.enterOver(t)):(t.target=r,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(u.up(e),u.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){u.cancel(e),u.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){R.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=j.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};t.push(i);var r=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,i);setTimeout(r,2500)}}};S=new y(L.elementAdded,L.elementRemoved,L.elementChanged,L);var I,N,$=u.pointermap,F=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,U={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return F&&((t=u.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){$.delete(e)},MSPointerDown:function(e){$.set(e.pointerId,e);var t=this.prepareEvent(e);u.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);u.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);u.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);u.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);u.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=u.makeEvent("lostpointercapture",e);u.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=u.makeEvent("gotpointercapture",e);u.dispatchEvent(t)}};function z(e){if(!u.pointermap.has(e)){var t=new Error("InvalidPointerId");throw t.name="InvalidPointerId",t}}function D(e){if(!e.ownerDocument.contains(e)){var t=new Error("InvalidStateError");throw t.name="InvalidStateError",t}}function H(e){return 0!==u.pointermap.get(e).buttons}return window.navigator.msPointerEnabled?(I=function(e){z(e),D(this),H(e)&&this.msSetPointerCapture(e)},N=function(e){z(e),this.msReleasePointerCapture(e)}):(I=function(e){z(e),D(this),H(e)&&u.setCapture(e,this)},N=function(e){z(e),u.releaseCapture(e,this)}),function(){if(O){w.forEach(function(e){String(e)===e?(k+=b(e)+_(e)+"\n",P&&(k+=m(e)+_(e)+"\n")):(k+=e.selectors.map(b)+_(e.rule)+"\n",P&&(k+=e.selectors.map(m)+_(e.rule)+"\n"))});var e=document.createElement("style");e.textContent=k,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),u.registerSource("ms",U)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",j),void 0!==window.ontouchstart&&u.registerSource("touch",L);u.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:I},releasePointerCapture:{value:N}}),{dispatcher:u,Installer:y,PointerEvent:n,PointerMap:i,targetFinding:c}},"object"===a(t)&&void 0!==e?e.exports=o():void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)},Ftjq:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=m(n("9nM1")),s=m(n("Y8hB")),l=m(n("40hA")),u=m(n("qE8w")),c=n("Lxn6"),p=m(n("+xUn")),d=m(n("UfFN")),f=m(n("V6F1")),h=m(n("b61m")),v=m(n("eshN")),g=m(n("riwD")),y=m(n("xzKA"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _=function(e,t){e.$el.toggleClass("present-mode","present"===t)},w=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.render=o.render.bind(o),o.renderUpgradeBanner=o.renderUpgradeBanner.bind(o),o.renderActivities=o.renderActivities.bind(o),o.activate=o.activate.bind(o),o.renderEdit=o.renderEdit.bind(o),o.renderPreview=o.renderPreview.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,l.default),o(n,[{key:"formatForMultipleNativeInsert",value:function(t){var n=this,i=[],r=[],o=[];return e.each(t.reverse(),function(e){if("competition"===e.type()){var t=function(e){var t=[],n=[],i=[],r=["title","instructions","chart","leaderboard"];return t.push(e.cleanTitle()),n.push((0,c.getActivityUrl)(a.default,e,{query:{display_state:"welcome"},persist:!0})),i.push((0,c.getPlaceholderCdnUrl)(a.default,e,{activityQuery:{display_state:"welcome"}})),e.polls.forEach(function(o,s){r.forEach(function(r){var l="leaderboard"===r,u=l&&s===e.polls.length-1,p=l?e:o,d=p.cleanTitle(),f=(0,c.getActivityUrl)(a.default,p,{query:{display_state:u?"finale":r},persist:!0}),h=(0,c.getPlaceholderCdnUrl)(a.default,p,{activityQuery:{display_state:u?"finale":r}});t.push(d),n.push(f),i.push(h)})}),[t,n,i]}(e);i.push.apply(i,b(t[0])),r.push.apply(r,b(t[1])),o.push.apply(o,b(t[2]))}else i.push(("function"==typeof e.name?e.name():void 0)||("function"==typeof e.cleanTitle?e.cleanTitle():void 0)),r.push((0,c.getActivityUrl)(n.app.env,e)),o.push((0,c.getPlaceholderCdnUrl)(n.app.env,e,{placeholderFormat:(0,c.capableOfSmallPlaceholders)()?"tiny":"original",aspectRatio:n.app.bindingLayer.masterSlideWidth()/n.app.bindingLayer.masterSlideHeight()}))}),[i,r,o]}},{key:"initialize",value:function(e){var t=this;this.header=new f.default,this.footer=new h.default,this.settings=e,this.listenTo(this.footer,"cancel",function(){"function"==typeof t.current.cancel&&t.current.cancel()})}},{key:"render",value:function(){return this.renderTemplate(),this.$header=this.$("[js-header]"),this.$content=this.$("[js-content]"),this.$footer=this.$("[js-footer]"),this.$header.html(this.header.render().$el),this.$footer.html(this.footer.render().$el),this.renderUpgradeBanner(),this}},{key:"remove",value:function(){this.current&&(this.current.remove(),this.stopListening(this.current)),this.header.remove(),this.footer.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"renderUpgradeBanner",value:function(){if(!function(){if(!a.default.get("nativeAPI")||!window.macWebApp)return!1;var e=(0,c.getNativeVersion)();return!(e&&(e.major>2||2===e.major&&e.minor>=12))}())return!1;var e=new u.default({autoHideAfter:-1,closeOnClick:!1,mode:"banner"});this.listenTo(e,"dismiss",function(){return e.remove()});var t=new Date("2017-12-01").getTime()-(new Date).getTime(),n=Math.round(t/864e5),i=navigator.userAgent.includes("LiveSlides")?"LiveSlides":"PollEv Presenter",r="We recommend updating by going to the "+i+' application menu and selecting "Check for Updates...".',o=n>1?"will expire in "+n+" days":1===n?"will expire in "+n+" day":"is no longer supported";this.$header.after(e.render().$el),e.warning("You're running a version of "+i+" for Mac that "+o+". "+r,{icon:n>0?"expiring":"error"})}},{key:"renderActivities",value:function(t){var n=this,o=e.extend({},{type:null,actionEvent:"activities",actionLabel:"activity"},t);this.settings.set({actionEvent:o.actionEvent,actionLabel:o.actionLabel});var a=this.app.user.get("features").insert_activity_states&&(0,c.inGoogPresenter)()&&"survey"!==o.type&&"screenshot"!==o.actionLabel,l=new p.default({model:this.app.user,settings:this.settings,header:this.header,footer:this.footer,type:o.type,insertStatesEnabled:a});this.activate(l),this.listenTo(this.footer,"action",function(){l.getSelected().then(function(t){if(0!==t.length){var a=[],l=[],u=null,p=function(t){return e.chain(t).map(function(e){return e.get("is_survey")&&e.polls.length?e.polls.map(function(e){return{id:e.id,type:"Survey poll - "+e.type()}}):e.get("survey_id")?{id:e.id,type:"Survey poll - "+e.type()}:{id:e.id,type:e.type()}}).flatten().value()}(t);if("screenshot"===o.actionLabel){var d=[];t.forEach(function(e){var t=void 0;e instanceof s.default&&(t=e.polls.models).length?Array.prototype.push.apply(d,t):d.push(e)}),(d=e.uniq(e.flatten(d))).forEach(function(e){a.push((0,c.escapeBackslashes)(e.cleanTitle().toString())),l.push((0,c.getScreenshotUrl)(n.app.env,e))})}else{var f=n.formatForMultipleNativeInsert(t.reverse()),h=r(f,3);a=h[0],l=h[1],u=h[2]}n.app.log("Insert "+i.capitalize(o.actionEvent)+":",a,l),n.app.trigger("view:action",o.actionEvent+":insert",{description:"presenter app insert "+o.actionEvent,referrer:n.app.history.previousURL(),filteredView:o.type||!1,activities:p});var v=n.settings.createInsertProgressMsg(a.length,o.actionLabel);n.app.trigger("showFakeProgress",a.length,v),n.app.trigger("insert",o.actionEvent,a,l,u)}})}),this.listenTo(this.footer,"secondary-action",function(){l.getSelected().then(function(e){var t=e[0];n.app.navigate(t.showUrl()+"/states",{trigger:!1}),n.renderStatePicker(t)})})}},{key:"activate",value:function(e){this.current===e&&this.current.model===e.model||(this.current&&(this.current.remove(),this.stopListening(this.current)),this.current=e,this.$content.html(this.current.render().$el))}},{key:"renderStatePicker",value:function(e){var t=this;this.stopListening(this.footer,"action");var n=new y.default({model:e,header:this.header,footer:this.footer});this.listenTo(n,"cancel",function(){t.app.navigate("",!0)}),this.listenTo(n,"select",function(e,n){t.app.trigger("showFakeProgress",n.length,"Inserting activities ...");var i=[],r=[],o=[];n.forEach(function(n){i.push(e.cleanTitle()),r.push((0,c.getActivityUrl)(t.app.env,e,{query:n.queryForPresenting,persist:!0})),o.push((0,c.getPlaceholderCdnUrl)(t.app.env,e,{activityQuery:n.queryForPlaceholder,placeholderFormat:(0,c.capableOfSmallPlaceholders)()?"tiny":"original",aspectRatio:t.app.bindingLayer.masterSlideWidth()/t.app.bindingLayer.masterSlideHeight()}))}),t.app.trigger("view:action","state:insert",{description:"presenter app insert state:insert",referrer:t.app.history.previousURL(),activityUrls:r}),t.app.trigger("insert","activities",i,r,o)}),this.activate(n)}},{key:"renderEdit",value:function(e){this.stopListening(this.footer,"action");var t=new g.default({model:e,header:this.header,footer:this.footer,appRouter:this.app});this.activate(t)}},{key:"renderPreview",value:function(t){this.stopListening(this.footer,"action");var n=new v.default({settings:this.settings,header:this.header,footer:this.footer,model:t,app:this.app});this.listenTo(n,"change:mode",e.partial(_,this)),this.activate(n)}},{key:"template",get:function(){return d.default}},{key:"className",get:function(){return"presenter"}}]),n}();t.default=w}).call(t,n("rdLu"),n("xok8"))},G5cd:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("9nM1"),s=(r=a)&&r.__esModule?r:{default:r},l=n("SXII"),u=n("Lxn6");var c=["insert","create","navTo","progress_bar"],p=["insert","create","auto_login_view"],d=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.getParams=o.getParams.bind(o),o.hides=o.hides.bind(o),o.disables=o.disables.bind(o),o.pollTitle=o.pollTitle.bind(o),o.answers=o.answers.bind(o),o.message=o.message.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Model),o(n,[{key:"initialize",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments),this.param_whitelist=i.keys(this.defaults()),this.getParams()}},{key:"defaults",value:function(){return{message:null,message_type:"error",hide:[],disable:[],poll_title:null,answers:[],pe_auth_token:null}}},{key:"getParams",value:function(){var e=(0,u.paramsFromUrl)(window.location.toString())||{},t=i.pick(e,this.param_whitelist);t.hide=i.intersection(p,null!=t.hide?t.hide.split(","):void 0),t.disable=i.intersection(c,null!=t.disable?t.disable.split(","):void 0),"string"==typeof t.answers&&(t.answers=i.compact(null!=t.answers?t.answers.split(","):void 0)),t=i.defaults(t,this.defaults()),this.set(t)}},{key:"hides",value:function(e){return i.contains(this.get("hide"),e)}},{key:"disables",value:function(e){return i.contains(this.get("disable"),e)}},{key:"pollTitle",value:function(){return this.get("poll_title")}},{key:"answers",value:function(){return this.get("answers")}},{key:"message",value:function(){return this.get("message")}},{key:"showUpload",value:function(){if(s.default.has("office")){var e=(0,u.hostInfo)();return"POWERPOINT"===e.host.toUpperCase()&&"IOS"!==e.platform.toUpperCase()}return!0}},{key:"showInsert",value:function(){return s.default.has("nativeAPI")}},{key:"isSelectable",value:function(){return s.default.has("nativeAPI")}},{key:"createInsertProgressMsg",value:function(e,t){return"Inserting "+(t=(0,l.pluralize)(e,t,{includeNumber:e>1}))+"..."}},{key:"createActionButtonText",value:function(e,t){return"Insert "+(t=(0,l.pluralize)(e,t,{includeNumber:e>1}))}},{key:"createErrorMsg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length?"An error has occurred. "+e:"An error has occurred."}}]),n}();t.default=d}).call(t,n("32HH"),n("rdLu"))},G9FE:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-activity-transformer__selector'>\n  <div class='component-editor-activity-transformer__label'></div>\n</div>\n<div class='component-editor-activity-transformer__editor-container'>\n  <div class='component-editor-activity-transformer__editor'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},GGcf:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n("x4Pe")),s=u(n("tRaw")),l=u(n("vdAi"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),o(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.extend(this,(0,a.default)(this)),this.options=i.defaults(e,{id:null,maxLength:null,minLength:null,name:null,pattern:null,placeholder:null,required:null,type:"text",value:null}),"input"===this.$el.prop("tagName").toLowerCase()){var t=this.$el;t.addClass(this.className+"__input");var n=r('<div class="'+this.className+'"></div>');this.$el.replaceWith(n),this.setElement(n),this.$el.html(l.default),this.$_element("input").replaceWith(t)}else this.$el.hasClass(this.className)?this.$el.attr("id",null):this.$el.addClass(this.className),this.$el.html(l.default);for(var o in this.validateOnName=null,this.validateOnCallback=null,this.$inputRow=this.$_element("input-row"),this.$input=this.$_element("input"),this.rules={test:{},message:{}},this.options){var s=this.options[o];null!==s&&(this.$input.attr(o)||this.$input.prop(o,s))}this.model&&h.call(this)}},{key:"validate",value:function(){var e={};for(var t in e.test=Object.assign({},d.test,this.rules.test),e.message=Object.assign({},d.message,this.rules.message),e.test){if(!!this.$input.attr(t)||this.$input.attr("type")===t||this.rules.test.hasOwnProperty(t))if(!(e.test[t]?e.test[t].bind(this):d.test[t].bind(this))(this.$input)){var n=e.message[t]?e.message[t].bind(this):d.message[t].bind(this);return this.toggleError(n(this.$input)),!1}}return this.toggleError(),!0}},{key:"validateOn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.defaults(t,{debounce:0});var n="input."+this.className+"__input";if(this.toggleError(),this.undelegate(this.validateOnName,n,this.validateOnCallback),e){var r=t.debounce>0;this.validateOnName=e,this.validateOnCallback=r?i.debounce(this.validate.bind(this),t.debounce):this.validate.bind(this),this.delegate(e,n,this.validateOnCallback)}}},{key:"toggleError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!!e;this.$_element("error").text(e),this.$_toggleModifier(null,this.className,"error",t),this.$input.attr("aria-invalid",t),this.$input[0].setCustomValidity(e);var n=t?"invalid":"valid";this.trigger(n)}},{key:"addRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t&&!n)throw new Error('addRule requires at least one "test" or "message" function');this.rules.test[e]=t,this.rules.message[e]=n}},{key:"removeRule",value:function(e){this.rules.test[e]&&delete this.rules.test[e],this.rules.message[e]&&delete this.rules.message[e]}},{key:"className",get:function(){return p.className}}]),n}();t.default=c;var p={className:"component-element-text-field"},d={test:{required:function(e){return!e[0].validity.valueMissing},email:function(e){return!e[0].validity.typeMismatch},minLength:function(e){var t=parseInt(e.attr("minlength"),10);return Number.isInteger(t)||(t=0),e.val().length>=t},maxLength:function(e){var t=parseInt(e.attr("maxLength"),10);return Number.isInteger(t)||(t=0),e.val().length<=t},pattern:function(e){return new RegExp(e.prop("pattern")).test(e.val())},url:function(e){return!e[0].validity.typeMismatch}},message:{required:function(e){var t=f(e.prop("name"));return PollEv.Util.capitalize(t)+" must have a value."},email:function(e){var t=f(e.prop("name"));return PollEv.Util.capitalize(t)+" must be a valid email."},minLength:function(e){var t=f(e.prop("name")),n=e.prop("minLength")||e.attr("minLength");return PollEv.Util.capitalize(t)+" must be at least "+n+" characters."},maxLength:function(e){var t=f(e.prop("name")),n=e.prop("maxLength")||e.attr("maxLength");return PollEv.Util.capitalize(t)+" must be less than "+n+" characters."},pattern:function(e){var t=f(e.prop("name"));return PollEv.Util.capitalize(t)+" must match the given pattern."},url:function(e){var t=f(e.prop("name"));return PollEv.Util.capitalize(t)+" must be a valid URL."}}},f=function(e){return e.replace(/[_-]/," ")},h=function(){var t=this,n=this.$input.prop("name"),i=this.model.get(n)||"";this.$input.val(i),this.listenTo(this,"valid",function(){t.model.set(n,t.$input.val())}),this.listenTo(this.model,"change:"+n,function(e,n){n!==t.$input.val()&&t.$input.val(n)}),this.listenTo(this.model,"invalid",function(e,i){var r=t.model instanceof s.default?t.model.getPoll():t.model;i.model===r&&i.prop===n&&t.toggleError(e)}),this.listenTo(this.model,"invalid",function(i,r){i===(t.model instanceof s.default?t.model.getPoll():t.model)&&r instanceof e.Model&&r.has(n)&&t.toggleError(r.get(n))})}}).call(t,n("32HH"),n("rdLu"),n("7t+N"))},GL96:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-card__title'></div>\n<div class='component-activity-card__image'>\n  <img>\n</div>\n<div class='component-activity-card__summary'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},GNNG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("+B0W")),o=s(n("rdLu")),a=s(n("hBlz"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.processLiveResponse=o.processLiveResponse.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"isNew",value:function(){return!1}},{key:"url",value:function(){return(0,a.default)("/polls").segment(this.poll.permalink()).segment("visual_settings.json").toString()}},{key:"processLiveResponse",value:function(e){var t,n=this;null==this.throttledUpdate&&(this.throttledUpdate=o.default.throttle(function(e){n.set(e)},1e3)),(t=e.visual_settings)&&this.throttledUpdate(t)}}]),t}();t.default=l},GtxQ:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-combobox__input'>\n  <input type='text' placeholder='Select...'>\n  <button></button>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},H62l:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 22 22"><defs><path id="info-a" d="M11,0 C4.93810138,0 0,4.93810138 0,11 C0,17.0618986 4.93810138,22 11,22 C17.0618986,22 22,17.0618986 22,11 C22,4.93810138 17.0618986,0 11,0 Z"></path><path id="info-c" d="M0.153846154,0.0769230769 L1.84615385,0.0769230769 L1.84615385,1.76923077 L0.153846154,1.76923077 L0.153846154,0.0769230769 Z M0.153846154,3.46153846 L1.84615385,3.46153846 L1.84615385,11.9230769 L0.153846154,11.9230769 L0.153846154,3.46153846 Z"></path></defs><g fill="none" fill-rule="evenodd"><mask id="info-b" fill="#fff"><use xlink:href="#info-a"></use></mask><use fill="#006DB6" fill-rule="nonzero" xlink:href="#info-a"></use><g fill="#005A96" mask="url(#info-b)"><rect width="51" height="51" transform="translate(-11 -13)"></rect></g><path fill="#FFF" d="M11,1.69230769 C16.1496398,1.69230769 20.3076923,5.85036015 20.3076923,11 C20.3076923,16.1496398 16.1496398,20.3076923 11,20.3076923 C5.85036015,20.3076923 1.69230769,16.1496398 1.69230769,11 C1.69230769,5.85036015 5.85036015,1.69230769 11,1.69230769 Z" mask="url(#info-b)"></path><g mask="url(#info-b)"><g transform="translate(10 5)"><mask id="info-d" fill="#fff"><use xlink:href="#info-c"></use></mask><use fill="#006DB6" xlink:href="#info-c"></use><g mask="url(#info-d)"><rect width="51" height="51" fill="#005A96" transform="translate(-22 -22)"></rect></g></g></g></g></svg>'},H7Wu:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+fxu"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(){var e=this,t={model:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).activity.clone(),title:this.model.get("title"),image:this.model.get("image")};t.model.set(this.model.get("activityQuery")),this.card=new a.default(t),this.$el.attr("data-identifier",PollEv.Util.str.slugify(this.model.get("title"))),this.card.on("select",function(){e.model.set({selected:!e.model.get("selected")})}),this.listenTo(this.model,"change:selected",function(t,n){e.$el.attr("aria-checked",n)})}},{key:"render",value:function(){return this.$el.append(this.card.render().$el),this}},{key:"remove",value:function(){this.card.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"attributes",get:function(){return{"aria-role":"checkbox","aria-checked":!1}}},{key:"className",get:function(){return"state-selector__card"}}]),n}();t.default=s}).call(t,n("32HH"))},HLe7:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-selector__search__icon'></div>\n<p>\n  There don't seem to be any activities with the term\n  <span class='component-activity-selector__search__term'></span>\n</p>\n<p>Please try another search term</p>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},HMkD:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg width='150' height='104' viewBox='0 0 150 104' xmlns='http://www.w3.org/2000/svg'>\n  <title>vote-mcp</title>\n  <g fill='none' fill-rule='evenodd'>\n    <path fill='#60E2DC' d='M33 20.7h104.8v26H33zM33 56.3h76.6v26H33z'></path>\n    <path d='M16.3 26.9h2.2l5.3 15.7h-2.1l-1.5-4.8h-5.7L13 42.6h-2l5.3-15.7zM15 36.2h4.7l-.7-2.4c-.6-1.7-1.1-3.5-1.6-5.3h-.1c-.5 1.8-1 3.5-1.6 5.3l-.7 2.4zM13 61.5h4.7c3.2 0 5.4 1.1 5.4 3.8 0 1.6-.8 2.9-2.3 3.4v.1c1.9.4 3.2 1.6 3.2 3.8 0 3.1-2.4 4.6-6 4.6h-5V61.5zm4.3 6.7c2.7 0 3.8-1 3.8-2.6 0-1.8-1.2-2.5-3.7-2.5H15v5.1h2.3zm.4 7.4c2.7 0 4.3-1 4.3-3.1 0-1.9-1.5-2.8-4.3-2.8H15v5.9h2.7z' fill='#4F4F4F'></path>\n  </g>\n</svg>"),e.join("\n")}.call(e)}}.call(this)},HXQQ:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("6L1a"),o=s(n("40hA")),a=s(n("bLSs"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.initialize=o.initialize.bind(o),o.render=o.render.bind(o),o.renderMessage=o.renderMessage.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={},e.extend(this.options,t)}},{key:"render",value:function(){return this.renderTemplate(),this.renderMessage(),this}},{key:"renderMessage",value:function(){this.options.message&&(this.app.trigger("view:action","modal:open",{content:this.options.message},{immediate:!0}),this.$(".native-modal--text").text(this.options.message))}},{key:"className",get:function(){return"native-modal"}},{key:"template",get:function(){return a.default}},{key:"events",get:function(){return{"click [js-native-close]":function(){return function(){if(r.env.get("nativeAPI"))return r.env.get("nativeAPI").webApp.close()}()}}}}]),n}();t.default=l}).call(t,n("rdLu"))},Hf0w:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n("32HH")),a=s(n("rdLu"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.parse=o.parse.bind(o),o.sync=o.sync.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Collection),i(t,[{key:"include",value:function(e){return a.default.extend(this,e(this))}},{key:"parse",value:function(e,n){try{var i=JSON.parse(n.xhr.getResponseHeader("X-Pagination"));null!=this.params&&this.params(i)}catch(e){}return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments)}},{key:"sync",value:function(e,n,i){return null==i&&(i={}),i.model=n,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sync",this).call(this,e,n,i)}}]),t}();t.default=l},"I+9x":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("Hf0w")),o=s(n("S6E8")),a=n("SXII");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"parse",value:function(e,t){return(0,a.popRootKeys)(e)}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),t}();l.initClass(),t.default=l},ILqe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("hBlz")),r=a(n("lMcM")),o=a(n("rdLu"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new r.default,l={requiresCsrfToken:function(e,t){return!/^(get|head|options)$/i.test(t.type)&&l.domainExpectsCsrfToken(e,l.hostFromUrl(t.url))&&!t.firehose},hostFromUrl:function(e){var t="undefined"!=typeof location&&null!==location?location.href+"":"";return(0,i.default)(e).absoluteTo(t).host()},domainExpectsCsrfToken:function(e,t){if(e[t])return!0;var n=[s.get("api_url"),s.get("root_url"),(0,i.default)("undefined"!=typeof window&&null!==window?window.location.href:void 0)];return n=o.default.compact(n),n=o.default.invoke(n,"host"),o.default.include(n,t)}};t.default=l},IYuf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("SXII"),o=s(n("djP2")),a=s(n("ieM/"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.changeSort=o.changeSort.bind(o),o.maxUpvotes=o.maxUpvotes.bind(o),o.maxDownvotes=o.maxDownvotes.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"changeSort",value:function(e){this.comparator=this.strategies[e]}},{key:"maxUpvotes",value:function(){return Math.max.apply(Math,this.pluck("upvotes").concat(0))}},{key:"maxDownvotes",value:function(){return Math.max.apply(Math,this.pluck("downvotes").concat(0))}}],[{key:"initClass",value:function(){this.prototype.model=a.default,this.prototype.sortStrategy="recent",this.prototype.strategies={recent:function(e){return-e.id},mine:function(e){return-e.get("score")},top:function(e,t){return e.get("score")===t.get("score")?e.id>t.id?1:-1:e.get("score")>t.get("score")?-1:1},netVotes:function(e,t){if(e.isPinned()&&t.isPinned())return(0,r.compareInt)(e.get("score"),t.get("score"));if(!e.isPinned()&&!t.isPinned()){var n=(0,r.compareInt)(e.get("net_votes"),t.get("net_votes"));return 0!==n?n:0!==(n=(0,r.compareInt)(e.get("upvotes"),t.get("upvotes")))?n:(0,r.compareInt)(t.id,e.id)}return e.isPinned()?-1:t.isPinned()?1:void 0},netVotesRecentFirst:function(e,t){if(e.isPinned()&&t.isPinned())return(0,r.compareInt)(e.get("score"),t.get("score"));if(!e.isPinned()&&!t.isPinned()){var n=(0,r.compareInt)(e.get("net_votes"),t.get("net_votes"));return 0!==n?n:0!==(n=(0,r.compareInt)(e.get("upvotes"),t.get("upvotes")))?n:(0,r.compareInt)(e.id,t.id)}return e.isPinned()?-1:t.isPinned()?1:void 0}}}}]),t}();l.initClass(),t.default=l},"Ix/R":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg width='150' height='104' viewBox='0 0 150 104' xmlns='http://www.w3.org/2000/svg'>\n  <title>vote-cip</title>\n  <g fill='none' fill-rule='evenodd'>\n    <path d='M116.6 99.1c-.3 0-.7-.1-.9-.3-5.9-4.8-6.5-8-6.9-10.2-.2-1-.3-1.3-.6-1.6-1-1-3.3-1-6.3-1.1-1.4 0-2.9-.1-4.6-.2h-.8c-1.1 0-1.5.2-1.5.3-.1.1 0 .4.1.6.1.2.2.4.2.7 0 .8-.7 1.5-1.5 1.5h-.2c-3.1-.4-5.5-.6-7.2-.6-3 0-3.9.5-5.1 1.3-.9.6-2 1.3-3.9 1.9-1.3.4-2.2 1.1-2.6 2-.7 1.5-.2 3.3 0 3.7.1.2.1.4.1.6 0 .8-.7 1.5-1.5 1.5h-.1c-5.3-.2-6.9-3.8-8.4-7.3-.5-1.2-1-2.3-1.7-3.5-.6-.9-1-1.3-1.3-1.3-.6 0-1.5 1.1-1.9 1.9-.2.4-.5.6-.9.7-.4.1-.8.1-1.2-.1l-.1-.1c-2.1-1.2-2.2-1.5-4.4-5.4l-.4-.7c-.8-1.5-2-2.2-3.5-2.2-1.1 0-2 .4-2 .4-.3.1-.7.2-1 .1-13.9-3.8-24.2-10.9-29-20-3.1-5.9-3.7-12.1-1.7-17.6 3.9-11.2 4.7-19.5 4.7-19.6 0-.5.3-1 .8-1.2.5-.2 1-.2 1.4 0l1.8 1v-.1c0-.5.2-1 .6-1.3.4-.3.9-.4 1.4-.2 19.2 6.5 42.7 7 49.4 7h1.8c.3 0 .6.1.8.2 1.7 1.1 6.8 1.8 9.7 2.1.4 0 .9.3 1.1.6.7 1.1.1 2.2-.6 3.1l1.2-.3c1.3-.3 2.5-.6 3.5-.6 2.2 0 2.9 1.3 3.2 2.1.3 1.1.2 2.7-.2 5 0-.1.1-.2.1-.4.9-2.1 2.7-3.3 5.1-3.3 1.4 0 2.5.5 3.4 1.6 1.8 2.2 1.9 6.2 1.7 8.8 3.3-1.4 4-4.8 4.1-4.8.1-.7.7-1.1 1.4-1.2 4-.3 4.9-4.3 4.9-4.5.1-.6.6-1.1 1.2-1.2 4.8-.9 7.8-3.2 7.8-4.3 0-5.1 2.7-6.5 4.3-6.5.8 0 1.5.3 2 .8s.8 1.2.8 2c-.1 2.5.8 3.5 1.5 4.3.5.5 1 1.1 1 2.1 0 .6-.4 1.2-1 1.6-4.7 3.8-3 7.1-2.7 7.5.3.4.3.9.2 1.4-.2.5-.6.8-1.1.9-2.2.5-4.6 2.4-6 5-1.3 2.3-1.7 4.8-1 6.8 1.8 5.3-.3 10.9-6.2 16.1-4 3.5-5.3 5.7-1.3 11.1 5.4 7.3 1.5 12.7 1.3 13-.2.3-.6.5-1 .6-.1-.2-.2-.2-.3-.2zM61.8 84c1.5 0 2.8.9 3.9 2.8.8 1.3 1.4 2.6 1.9 3.8 1.2 2.8 2.1 4.4 3.8 5.1-.1-1.1 0-2.4.6-3.7.8-1.7 2.3-2.9 4.4-3.6 1.6-.5 2.4-1 3.2-1.6 1.4-.9 2.8-1.8 6.7-1.8 1.5 0 3.4.1 5.7.4.1-.4.2-.8.4-1.2.7-1.1 2.1-1.7 4-1.7.3 0 .7 0 1.1.1 1.6.1 3 .2 4.4.2 3.6.1 6.4.1 8.3 1.9 1 1 1.3 2.1 1.5 3.3.3 1.6.7 3.8 4.4 7.2.5-1.6.6-4.4-2-7.9-2.6-3.4-3.5-6.2-2.9-8.8.5-2.4 2.1-4.2 4.6-6.3 3.4-3 7.1-7.7 5.3-12.9-1-2.9-.5-6.1 1.2-9.2 1.5-2.7 3.9-4.8 6.3-5.9-.2-.6-.3-1.2-.3-2 0-1.8.7-4.5 3.8-7.3-.8-.9-2.1-2.6-2.1-5.8-.4.3-1.1 1.2-1.1 3.4 0 3.4-4.7 6-9.3 7.1-.7 2.1-2.6 5-6.3 5.8-.9 2.5-3.3 6-8.2 6.7-.5.1-.9-.1-1.3-.4-.3-.3-.5-.8-.4-1.3.4-2.5.5-7-.8-8.6-.3-.4-.6-.5-1.1-.5-2.3 0-2.8 1.5-3.1 5.8-.1 1.2-.2 2.4-.4 3.4-.5 1.9-1.7 2.4-2.6 2.5-.9.1-1.7-.2-2.2-.9-1.3-1.5-.9-4.4-.1-9 .3-1.9.7-4.5.5-5.3h-.3c-.7 0-1.7.2-2.8.5-1.4.3-3 .7-4.5.7-.7 0-1.4-.1-2-.3-.5-.2-.9-.6-1-1.2-.1-.6.1-1.1.6-1.5.6-.5 1.3-1 1.8-1.5-2.5-.3-6.2-.9-8.2-2h-1.4c-6.6 0-29-.5-48.2-6.4l.1.7c0 .6-.2 1.1-.7 1.4-.5.3-1.1.3-1.6 0L23.1 27c-.5 3.3-1.7 9.9-4.6 18-1.7 4.7-1.1 10.1 1.6 15.2 4.4 8.3 13.8 14.8 26.7 18.4.6-.2 1.5-.4 2.7-.4 2.6 0 4.8 1.3 6.1 3.7l.4.7c1 1.8 1.5 2.8 1.9 3.3l.3.3c.7-1 2-2.2 3.6-2.2z' fill='#60E2DC'></path>\n    <path d='M43.3 3.9c-6.7 0-12.1 5.4-12.1 12.1 0 1.1.1 2.1.4 3.1l.1.3c.1.5.3 1 .5 1.4l8.9 19.7c.3.8 1.1 1.4 2.1 1.4.9 0 1.7-.6 2.1-1.4l8.5-18.8c.1-.2 1-2.1 1-2.3.4-1.1.5-2.5.5-3.6.1-6.4-5.3-11.9-12-11.9zm0 18.4c-3.3 0-5.9-2.7-5.9-5.9s2.7-5.9 5.9-5.9 5.9 2.7 5.9 5.9-2.6 5.9-5.9 5.9z' fill='#4F4F4F' opacity='.7'></path>\n  </g>\n</svg>"),e.join("\n")}.call(e)}}.call(this)},JJCg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.namespace=function(e,t){var n=window;return e.split(".").forEach(function(e){n=n[e]||(n[e]={})}),t(n,e)}},JXib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("rdLu")),o=n("SXII"),a=s(n("7t+N"));function s(e){return e&&e.__esModule?e:{default:e}}var l=/(\$\$|^latex:)(.+?)(\$\$|$)/gi,u=/{{(\d+)}}/gi,c=a.default.Deferred(),p=a.default.Deferred(),d=a.default.when(c,p),f=!1,h=function(e,t){try{return katex.renderToString(e,function(e){return{displayMode:!e.inline,throwOnError:!1,errorColor:e.errorColor}}(t))}catch(e){return"[<em>error rendering eqn.</em>]"}},v=function(e,t,n){var i=[],r=e.replace(l,function(e,t,n){var r=i.length;return i.push(n),"{{"+r+"}}"});return(r=(0,o.cleanString)(r,{whitelist:n.cleanWhitelist})).replace(u,function(e,n){return t(i[n])})},g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"initClass",value:function(){this.DEFAULT_OPTS={inline:!0,errorColor:"#cc0000",cleanHTML:!0,cleanWhitelist:[],containerClass:""}}},{key:"isLatex",value:function(e){return l.lastIndex=0,l.test(e)}},{key:"renderInto",value:function(t,n,i){null==i&&(i={}),i=r.default.defaults(i,e.DEFAULT_OPTS);var o=(0,a.default)(t);o.attr("m-latex","");var s=o.find(".latex--container");0===s.length&&(s=(0,a.default)('<span class="latex--container"></span>')),i.containerClass&&s.addClass(i.containerClass),o.append(s);var u=e._getLib().then(function(){return s.attr("data-rendered",!0).html(function(e,t){return t.cleanHTML?v(e,function(e){return h(e,t)},t):e.replace(l,function(e,n,i){return h(i,t)})}(n,i))});return"pending"===u.state()&&s.attr("data-rendered",!1).html(function(e,t){return t.cleanHTML?v(e,function(){return"[<em>loading eqn.</em>]"},t):e.replace(l,"[<em>loading eqn.</em>]")}(n,i)),u}},{key:"getText",value:function(e){return function(e){return e.replace(l,function(e,t,n){return n})}(e)}},{key:"_getLib",value:function(){return function(){if(!f){f=!0;var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.onload=c.resolve,t.src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js";var n=document.createElement("link");n.rel="stylesheet",n.onload=p.resolve,n.href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css",e.appendChild(n),e.appendChild(t)}return d}()}}]),e}();g.initClass(),t.default=g},JXki:function(e,t,n){"use strict";(function(e,i,r,o){Object.defineProperty(t,"__esModule",{value:!0});var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n("LVWF"),u=(a=l)&&a.__esModule?a:{default:a};var c=null,p=!1,d=[],f=["component-activity-selector__group__activities","component-activity-selector__survey__polls","component-activity-selector__user__groups"],h=["component-activity-selector__competition","component-activity-selector__survey","component-activity-selector__poll","component-activity-selector__group"],v=function(t){var n={mirrorContainer:t.containerEl,isContainer:function(n){return!!e.contains(t.containerEl,n)&&i.any(f,function(e){return n.classList.contains(e)})},moves:function(n,o,a,s){return!!e.contains(t.containerEl,n)&&(-1!==r(n).data("id")&&(!!i.any(h,function(e){return n.classList.contains(e)})&&t.canMove(r(n).data("model"))))},accepts:function(e,t,n,i){var o=t.classList.contains("component-activity-selector__group__activities"),a=t.classList.contains("component-activity-selector__survey__polls"),s=e.classList.contains("component-activity-selector__group"),l=e.classList.contains("component-activity-selector__poll"),u=e.classList.contains("component-activity-selector__survey"),c=e.classList.contains("component-activity-selector__competition");if(s&&t===n){var p=null==r(i).data("model"),d=!(!r(i).data("model")||!r(i).data("model").isRealGroup());return p||d}return!(!u&&!c||!o)||!(!l||!o&&!a)},revertOnSpill:!0};("undefined"!=typeof Modernizr&&null!==Modernizr?Modernizr.touchevents:void 0)&&(n.invalid=function(e,t){return!t.classList.contains("component-activity-selector__grabber")}),t.drake=(0,u.default)(n),t.drake.on("over",function(e,t,n){clearTimeout(c),p=t;var i=r(t).parent().data("model");if(i instanceof PollEv.Model.Group)i.get("collapsed")&&(c=setTimeout(function(){p===t&&(i.set({collapsed:!1}),d.push(i))},500));else if(i instanceof PollEv.Model.Survey){var o=r(t).parent();o.is(".component-activity-selector__survey--expanded")||(c=setTimeout(function(){p===t&&o.addClass("component-activity-selector__survey--expanded")},500))}}),t.drake.on("drag",function(){r(t.containerEl).addClass("position-manager--dragging"),d=[]}),t.drake.on("dragend",function(e){clearTimeout(c),r(t.containerEl).removeClass("position-manager--dragging");var n=r(p).closest(".component-activity-selector__group").data("model");d.forEach(function(e){e!==n&&e.set({collapsed:!0})}),p=!1}),t.drake.on("drop",function(e,n,i,o){var a=void 0,s=void 0,l=r(e).data("model"),u=r(n).parent().data("model");null!=o&&(a=r(o).data("model")),r(e).prev().length&&(s=r(e).prev().data("model")),l instanceof PollEv.Model.Group?(t.trigger("move:group",{model:l,prev:s,next:a}),y(l,s,a).fail(function(e,n,i){t.drake.destroy(),t.trigger("error",e.statusCode,n,{xhr:e,model:l,target:u,prev:s,next:a})})):(t.trigger("move:activity",{model:l,fromCollection:l.collection,target:u,prev:s,next:a}),m(l,u,s,a).fail(function(e,n,i){t.drake.destroy(),t.trigger("error",e.statusCode,n,{xhr:e,model:l,target:u,prev:s,next:a})}).then(function(){var t=void 0,i=void 0;if(l.set({owner_id:u.get("owner_id")}),l instanceof PollEv.Model.Survey&&l.polls.invoke("set",{owner_id:u.get("owner_id")}),u instanceof PollEv.Model.Group?(l.set({group_id:u.id}),i=u.activities):(l.unset("group_id"),i=u.polls),l.collection!==i){t=r(n).children().index(e),l.set({position:t});var o={repositioning:!0,at:t};l instanceof PollEv.Model.Survey&&(o.collapsed=!e.classList.contains("component-activity-selector__survey--expanded")),l.collection.remove(l,o),i.add(l,o)}r(n).children().each(function(e,t){return r(t).data("model").set({position:e+1})})}))})},g=function(e){return e instanceof PollEv.Model.Survey?"survey":e instanceof PollEv.Model.Competition?"competition":"poll"},y=function(e,t,n){var i=e.collection.findWhere({next_group_id:e.id}),o=void 0;i&&i.save({next_group_id:e.get("next_group_id")},{patch:!0}),t.isRealGroup()&&(o=t.save({next_group_id:e.id},{patch:!0}));var a=e.save({next_group_id:n&&n.id||null},{patch:!0});return r.when(i,o,a)},m=function(e,t,n,i){var r=void 0,a=void 0;t instanceof PollEv.Model.Survey?(r=t.get("id"),a="survey"):(r=t.get("id")>0?t.id:null,a="group");var s={target_type:a,target_id:r,target_user_id:t.get("owner_id")};n&&(s.prev_type=g(n),s.prev_id=n.get("id")),i&&(s.next_type=g(i),s.next_id=i.get("id"));var l=g(e);return o.ajax("/api/"+l+"s/"+e.get("id")+"/position",{method:"put",data:JSON.stringify(s),contentType:"application/json"})},b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.extend(this,o.Events),i.defaults(t,{canMove:function(e){return!0},containerEl:document.body}),this.canMove=t.canMove,this.containerEl=r(t.containerEl).get(0),v(this)}return s(e,[{key:"remove",value:function(){this.drake.destroy()}}]),e}();t.default=b}).call(t,n("7t+N"),n("rdLu"),n("7t+N"),n("32HH"))},JaIq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("32HH"),o=(i=r)&&i.__esModule?i:{default:i};var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Model),t}();t.default=a},Jo8S:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 22 22"><defs><path id="warning-a" d="M11,2.38574287 C10.2534176,2.38574287 9.50683663,2.74023437 9.08251988,3.44921875 L0.999024125,16.9575199 C0.13964775,18.3862301 1.240723,20.25 2.9111335,20.25 L19.0834958,20.25 C20.759277,20.25 21.8603523,18.3862301 21.006348,16.9575199 L12.9174801,3.44921875 C12.4931648,2.74023437 11.7465824,2.38574287 11,2.38574287 Z"></path><path id="warning-c" d="M10.3017585,7.875 L11.6767585,7.875 L11.6767585,14.75 L10.3017585,14.75 L10.3017585,7.875 Z M10.3017585,16.125 L11.6767585,16.125 L11.6767585,17.5 L10.3017585,17.5 L10.3017585,16.125 Z"></path></defs><g fill="none" fill-rule="evenodd"><mask id="warning-b" fill="#fff"><use xlink:href="#warning-a"></use></mask><use fill="#000" xlink:href="#warning-a"></use><g fill="#947F28" mask="url(#warning-b)"><rect width="51" height="51" transform="translate(-14 -15)"></rect></g><path fill="#FFF" d="M11,3.7392585 C11.2846676,3.7392585 11.5693366,3.87890625 11.7412116,4.15820312 L19.8247074,17.6611335 C20.1630866,18.225098 19.7871094,18.875 19.0834958,18.875 L2.9111335,18.875 C2.21289063,18.875 1.83691475,18.225098 2.17529263,17.6611335 L10.2587898,4.15820312 C10.4306648,3.87890625 10.7153324,3.7392585 11,3.7392585 Z"></path><mask id="warning-d" fill="#fff"><use xlink:href="#warning-c"></use></mask><use fill="#642520" xlink:href="#warning-c"></use><g fill="#947F28" mask="url(#warning-d)"><rect width="51" height="51" transform="translate(-14 -15)"></rect></g></g></svg>'},KBc6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("rdLu")),a=c(n("6OL5")),s=c(n("I+9x")),l=c(n("IYuf")),u=c(n("Vvyd"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.showPath=o.showPath.bind(o),o.firehoseFeaturedPath=o.firehoseFeaturedPath.bind(o),o.updateResults=o.updateResults.bind(o),o.fetch=o.fetch.bind(o),o.refreshArchives=o.refreshArchives.bind(o),o.processLiveResponse=o.processLiveResponse.bind(o),o.listenForFeaturedResults=o.listenForFeaturedResults.bind(o),o.stopListeningForFeaturedResults=o.stopListeningForFeaturedResults.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"initialize",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.archives=new s.default,this.archives.url="/my/polls/"+this.get("permalink")+"/archives",this.results=new l.default(this.attributes.results),this.results.poll=this,this.on("change:results",this.updateResults)}},{key:"showPath",value:function(){return"/discourses/"+this.get("permalink")}},{key:"firehoseFeaturedPath",value:function(){return"/discourses/"+this.get("permalink")+"/responses/featured.json"}},{key:"updateResults",value:function(){return this.results.set(this.attributes.results,this.fetchOptions)}},{key:"fetch",value:function(e){return this.fetchOptions=e,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).apply(this,arguments)}},{key:"refreshArchives",value:function(){return this.archives.models.length>0&&o.default.each(this.archives.pluck("id"),function(e){return this.archives.remove(this.archives.get(e))},this),this.archives.fetch()}},{key:"sendToListUrl",value:function(){}},{key:"processLiveResponse",value:function(e,n){var i,o;if(this.flashOptions().processLiveResponse(e),o=e.result,i=e[this.type()],o){if(this.results.get(o.id))return this.results.add(o,{merge:!0})}else if(i)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"processLiveResponse",this).apply(this,arguments),this.set(this.parse(i))}},{key:"listenForFeaturedResults",value:function(){var e=this;return this.firehoseConnect({multiplex:!0,path:this.firehoseFeaturedPath(),message:function(t){var n=t.result;if(n)return o.default.isEmpty(n)?e.results.trigger("unfeature"):e.results.trigger("feature",e.results.get(n.id))}})}},{key:"stopListeningForFeaturedResults",value:function(){return(new u.default).unsubscribe(this.firehoseFeaturedPath())}}],[{key:"initClass",value:function(){this.prototype.defaultType="discourse"}}]),t}();p.initClass(),t.default=p},KCyg:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg id='Layer_1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='151.3px' height='104px' viewBox='0 0 151.3 104' xml:space='preserve'>\n  <title>vote-updown</title>\n  <polygon style='fill:#60E2DC;' points='92,35 80,22.9 75.6,18.6 71.2,22.9 59.3,35 63.6,39.3 75.6,27.3 87.5,39.3 '></polygon>\n  <polygon style='opacity:0.35;fill:#848484;' points='59.3,69 71.2,81.1 75.6,85.4 80,81.1 92,69 87.5,64.7 75.6,76.7 63.6,64.7 '></polygon>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"KP7+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("Wkh0")),o=s(n("Hf0w")),a=s(n("rdLu"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.anyMatchChecked=o.anyMatchChecked.bind(o),o.onlyUngrouped=o.onlyUngrouped.bind(o),o.lastId=o.lastId.bind(o),o.checked=o.checked.bind(o),o.allChecked=o.allChecked.bind(o),o.checkedIds=o.checkedIds.bind(o),o.anyChecked=o.anyChecked.bind(o),o.next=o.next.bind(o),o.previous=o.previous.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"url",value:function(){return"/api/participant_groups"}},{key:"anyMatchChecked",value:function(e){var t=e.pluck("id");return t.length||t.push(0),a.default.intersection(this.checkedIds(),t).length>0}},{key:"onlyUngrouped",value:function(){return this.all(function(e){return e.isUngrouped()})}},{key:"lastId",value:function(){var e=this.max(function(e){return e.id});return(null!=e?e.id:void 0)||1}},{key:"checked",value:function(){return this.where({checked:!0})}},{key:"allChecked",value:function(){return this.checked().length===this.length}},{key:"checkedIds",value:function(){return a.default.pluck(this.checked(),"id")}},{key:"anyChecked",value:function(){return this.checked().length>0}},{key:"next",value:function(e){var t=this.indexOf(e);return this.at(t+1)}},{key:"previous",value:function(e){var t=this.indexOf(e);if(0!==t)return this.at(t-1)}}],[{key:"initClass",value:function(){this.prototype.model=r.default}}]),t}();l.initClass(),t.default=l},KsIo:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg id='Layer_1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='151.3px' height='104px' viewBox='0 0 151.3 104' xml:space='preserve'>\n  <title>vote-wc</title>\n  <g transform='translate(0,-952.36218)'>\n    <path style='fill:#60E2DC;' d='M92.5,985.1c6.1-2.2,12.8-1.6,18.3,1.7c5.7,3.4,9.8,9.8,10.4,18.1c12,2.7,18.2,7.5,17.8,18.7 c-0.4,11.7-9.3,14.8-27.6,15.2H44c-12.5,0.1-20.7,0.6-26-4.5c-3.2-3.1-5.7-5.3-5.9-13.9c-0.2-16.9,14-20.5,24.8-23.2 c2.1-14.7,11.7-27.3,28.5-27.3C77.9,969.9,87.3,976.6,92.5,985.1z M42.4,999.9c-0.1,1.2-0.9,2.2-2.1,2.5 c-9.5,2.8-21.6,3.6-22.3,16.6c-0.8,15,13.2,14.1,26,14.1h67.4c13.3,0,21.6-1.9,21.8-10.2c0.2-9.2-6.5-10.9-15.1-12.8 c-1.4-0.2-2.4-1.4-2.4-2.8c0-7.7-3.4-12.8-7.9-15.5c-4.5-2.7-10.3-3-15.2-0.6c0,0,0,0,0,0c-1.4,0.7-3.1,0.1-3.8-1.3 c-3.9-7.7-12.1-14.2-23.3-14.2C51.1,975.6,43.5,987.3,42.4,999.9z'></path>\n  </g>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},L6bb:function(e,t,n){var i,r,o,a,s;i=n("95Qu"),r=n("iFDI").utf8,o=n("Re3r"),a=n("iFDI").bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=i.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,p=-1732584194,d=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var h=s._ff,v=s._gg,g=s._hh,y=s._ii;for(f=0;f<n.length;f+=16){var m=u,b=c,_=p,w=d;c=y(c=y(c=y(c=y(c=g(c=g(c=g(c=g(c=v(c=v(c=v(c=v(c=h(c=h(c=h(c=h(c,p=h(p,d=h(d,u=h(u,c,p,d,n[f+0],7,-680876936),c,p,n[f+1],12,-389564586),u,c,n[f+2],17,606105819),d,u,n[f+3],22,-1044525330),p=h(p,d=h(d,u=h(u,c,p,d,n[f+4],7,-176418897),c,p,n[f+5],12,1200080426),u,c,n[f+6],17,-1473231341),d,u,n[f+7],22,-45705983),p=h(p,d=h(d,u=h(u,c,p,d,n[f+8],7,1770035416),c,p,n[f+9],12,-1958414417),u,c,n[f+10],17,-42063),d,u,n[f+11],22,-1990404162),p=h(p,d=h(d,u=h(u,c,p,d,n[f+12],7,1804603682),c,p,n[f+13],12,-40341101),u,c,n[f+14],17,-1502002290),d,u,n[f+15],22,1236535329),p=v(p,d=v(d,u=v(u,c,p,d,n[f+1],5,-165796510),c,p,n[f+6],9,-1069501632),u,c,n[f+11],14,643717713),d,u,n[f+0],20,-373897302),p=v(p,d=v(d,u=v(u,c,p,d,n[f+5],5,-701558691),c,p,n[f+10],9,38016083),u,c,n[f+15],14,-660478335),d,u,n[f+4],20,-405537848),p=v(p,d=v(d,u=v(u,c,p,d,n[f+9],5,568446438),c,p,n[f+14],9,-1019803690),u,c,n[f+3],14,-187363961),d,u,n[f+8],20,1163531501),p=v(p,d=v(d,u=v(u,c,p,d,n[f+13],5,-1444681467),c,p,n[f+2],9,-51403784),u,c,n[f+7],14,1735328473),d,u,n[f+12],20,-1926607734),p=g(p,d=g(d,u=g(u,c,p,d,n[f+5],4,-378558),c,p,n[f+8],11,-2022574463),u,c,n[f+11],16,1839030562),d,u,n[f+14],23,-35309556),p=g(p,d=g(d,u=g(u,c,p,d,n[f+1],4,-1530992060),c,p,n[f+4],11,1272893353),u,c,n[f+7],16,-155497632),d,u,n[f+10],23,-1094730640),p=g(p,d=g(d,u=g(u,c,p,d,n[f+13],4,681279174),c,p,n[f+0],11,-358537222),u,c,n[f+3],16,-722521979),d,u,n[f+6],23,76029189),p=g(p,d=g(d,u=g(u,c,p,d,n[f+9],4,-640364487),c,p,n[f+12],11,-421815835),u,c,n[f+15],16,530742520),d,u,n[f+2],23,-995338651),p=y(p,d=y(d,u=y(u,c,p,d,n[f+0],6,-198630844),c,p,n[f+7],10,1126891415),u,c,n[f+14],15,-1416354905),d,u,n[f+5],21,-57434055),p=y(p,d=y(d,u=y(u,c,p,d,n[f+12],6,1700485571),c,p,n[f+3],10,-1894986606),u,c,n[f+10],15,-1051523),d,u,n[f+1],21,-2054922799),p=y(p,d=y(d,u=y(u,c,p,d,n[f+8],6,1873313359),c,p,n[f+15],10,-30611744),u,c,n[f+6],15,-1560198380),d,u,n[f+13],21,1309151649),p=y(p,d=y(d,u=y(u,c,p,d,n[f+4],6,-145523070),c,p,n[f+11],10,-1120210379),u,c,n[f+2],15,718787259),d,u,n[f+9],21,-343485551),u=u+m>>>0,c=c+b>>>0,p=p+_>>>0,d=d+w>>>0}return i.endian([u,c,p,d])})._ff=function(e,t,n,i,r,o,a){var s=e+(t&n|~t&i)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,i,r,o,a){var s=e+(t&i|n&~i)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,i,r,o,a){var s=e+(t^n^i)+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,i,r,o,a){var s=e+(n^(t|~i))+(r>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=i.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):i.bytesToHex(n)}},LVWF:function(e,t,n){"use strict";(function(n,i){var r,o,a,s,l,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};l=function(){return function e(t,n,i){function r(a,l){if(!n[a]){if(!t[a]){if(!l&&("function"==typeof s&&s))return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof s&&s,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){function i(e){var t=r[e];return t?t.lastIndex=0:r[e]=t=new RegExp(o+e+a,"g"),t}var r={},o="(?:^|\\s)",a="(?:\\s|$)";t.exports={add:function(e,t){var n=e.className;n.length?i(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(i(t)," ").trim()}}},{}],2:[function(e,t,i){(function(n){function i(e,t,i,r){n.navigator.pointerEnabled?_[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[i],r):n.navigator.msPointerEnabled?_[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[i],r):(_[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[i],r),_[t](e,i,r))}function r(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function o(e){var t=e.getBoundingClientRect();return{left:t.left+a("scrollLeft","pageXOffset"),top:t.top+a("scrollTop","pageYOffset")}}function a(e,t){return void 0!==n[t]?n[t]:O.clientHeight?O[e]:k.body[e]}function s(e,t,n){var i,r=e||{},o=r.className;return r.className+=" gu-hide",i=k.elementFromPoint(t,n),r.className=o,i}function l(){return!1}function u(){return!0}function c(e){return e.width||e.right-e.left}function p(e){return e.height||e.bottom-e.top}function d(e){return e.parentNode===k?null:e.parentNode}function f(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&("false"!==t.contentEditable&&("true"===t.contentEditable||e(d(t))))}(e)}function h(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function v(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),i={pageX:"clientX",pageY:"clientY"};return e in i&&!(e in n)&&i[e]in n&&(e=i[e]),n[e]}function g(e,t,n){return m=P(function(){g(e,t,n)}),e[n]+=.25*t}function y(e,t,n){var i=null,r=n.scrollEdge,a=20,s=function e(t){if(null===t)return null;var n=parseFloat(window.getComputedStyle(t).getPropertyValue("height"))+parseFloat(window.getComputedStyle(t).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(t).getPropertyValue("padding-bottom"));return t.scrollHeight>Math.ceil(n)?t:new RegExp("(body|html)","i").test(t.parentNode.tagName)?null:e(t.parentNode)}(e),l=null,u=null;t.touches?(l=t.touches[0].pageX,u=t.touches[0].pageY):(l=t.pageX,u=t.pageY),cancelAnimationFrame(m),s?(u-o(s).top<r?g(s,-a,"scrollTop"):o(s).top+s.getBoundingClientRect().height-u<r&&g(s,a,"scrollTop"),l-s.getBoundingClientRect().left<r?g(s,-a,"scrollLeft"):o(s).left+s.getBoundingClientRect().width-l<r&&g(s,a,"scrollLeft")):(i=document.scrollingElement||document.documentElement||document.body,u-window.pageYOffset<r?g(i,-a,"scrollTop"):window.innerHeight-(u-window.pageYOffset)<r&&g(i,a,"scrollTop"),l-window.pageXOffset<r?g(i,-a,"scrollLeft"):window.innerWidth-(l-window.pageXOffset)<r&&g(i,a,"scrollLeft"))}var m,b=e("contra/emitter"),_=e("crossvent"),w=e("./classes"),k=document,O=k.documentElement,P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};t.exports=function(e,t){function n(e){return-1!==ie.containers.indexOf(e)||ne.isContainer(e)}function a(e){var t=e?"remove":"add";i(O,t,"mousedown",T),i(O,t,"mouseup",A)}function g(e){i(O,e?"remove":"add","mousemove",x)}function P(e){var t=e?"remove":"add";_[t](O,"selectstart",E),_[t](O,"click",E)}function E(e){ee&&e.preventDefault()}function T(e){if(K=e.clientX,Y=e.clientY,1===r(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=S(t);n&&(ee=n,g(),"mousedown"===e.type&&(f(t)?t.focus():e.preventDefault()))}}function x(e){if(ee){if(0===r(e))return void A({});if(void 0===e.clientX||e.clientX!==K||void 0===e.clientY||e.clientY!==Y){if(ne.ignoreInputTextSelection){var t=v("clientX",e),n=v("clientY",e);if(f(k.elementFromPoint(t,n)))return}var i=ee;g(!0),P(),C(),j(i);var a=o(G);W=v("pageX",e)-a.left,q=v("pageY",e)-a.top,w.add(Q||G,"gu-transit"),z(),U(e)}}}function S(e){if(!(ie.dragging&&B||n(e))){for(var t=e;d(e)&&!1===n(d(e));){if(ne.invalid(e,t))return;if(!(e=d(e)))return}var i=d(e);if(i&&!ne.invalid(e,t)&&ne.moves(e,i,t,h(e)))return{item:e,source:i}}}function j(e){(function(e,t){return"boolean"==typeof ne.copy?ne.copy:ne.copy(e,t)})(e.item,e.source)&&(Q=e.item.cloneNode(!0),ie.emit("cloned",Q,e.item,"copy")),V=e.source,G=e.item,X=J=h(e.item),ie.dragging=!0,ie.emit("drag",G,V)}function C(){if(ie.dragging){var e=Q||G;R(e,d(e))}else cancelAnimationFrame(m)}function M(){ee=!1,g(!0),P(!0)}function A(e){if(M(),ie.dragging){var t=Q||G,n=v("clientX",e),i=v("clientY",e),r=F(s(B,n,i),n,i);r&&(Q&&ne.copySortSource||!Q||r!==V)?R(t,r):ne.removeOnSpill?L():I()}}function R(e,t){var n=d(e);Q&&ne.copySortSource&&t===V&&n.removeChild(G),$(t)?ie.emit("cancel",e,V,V):ie.emit("drop",e,t,V,J),N()}function L(){if(ie.dragging){var e=Q||G,t=d(e);t&&t.removeChild(e),ie.emit(Q?"cancel":"remove",e,t,V),N()}}function I(e){if(ie.dragging){var t=arguments.length>0?e:ne.revertOnSpill,n=Q||G,i=d(n),r=$(i);!1===r&&t&&(Q?i&&i.removeChild(Q):V.insertBefore(n,X)),r||t?ie.emit("cancel",n,V,V):ie.emit("drop",n,i,V,J),N()}}function N(){var e=Q||G;cancelAnimationFrame(m),M(),B&&(w.rm(ne.mirrorContainer,"gu-unselectable"),i(O,"remove","mousemove",U),d(B).removeChild(B),B=null),e&&w.rm(e,"gu-transit"),Z&&clearTimeout(Z),ie.dragging=!1,te&&ie.emit("out",e,te,V),ie.emit("dragend",e),V=G=Q=X=J=Z=te=null}function $(e,t){var n;return n=void 0!==t?t:B?J:h(Q||G),e===V&&n===X}function F(e,t,i){function r(){if(!1===n(o))return!1;var r=D(o,e),a=H(o,r,t,i);return!!$(o,a)||ne.accepts(G,o,V,a)}for(var o=e;o&&!r();)o=d(o);return o}function U(e){function t(e){ie.emit(e,l,te,V)}if(B){0===r(e)&&I(),e.preventDefault();var n=v("clientX",e),i=v("clientY",e),o=n-W,a=i-q;B.style.left=o+"px",B.style.top=a+"px";var l=Q||G,u=s(B,n,i),c=F(u,n,i),p=null!==c&&c!==te;(p||null===c)&&(te&&t("out"),te=c,p&&t("over"));var f=d(l);if(c===V&&Q&&!ne.copySortSource)return void(f&&f.removeChild(l));var g,m=D(c,u);if(null!==m)g=H(c,m,n,i);else{if(!0!==ne.revertOnSpill||Q)return void(Q&&f&&f.removeChild(l));g=X,c=V}(null===g&&p||g!==l&&g!==h(l))&&(J=g,c.insertBefore(l,g),ie.emit("shadow",l,c,V)),y(G,e,ne)}}function z(){if(!B){var e=G.getBoundingClientRect();(B=G.cloneNode(!0)).style.width=c(e)+"px",B.style.height=p(e)+"px",w.rm(B,"gu-transit"),w.add(B,"gu-mirror"),ne.mirrorContainer.appendChild(B),i(O,"add","mousemove",U),w.add(ne.mirrorContainer,"gu-unselectable"),ie.emit("cloned",B,G,"mirror")}}function D(e,t){for(var n=t;n!==e&&d(n)!==e;)n=d(n);return n===O?null:n}function H(e,t,n,i){var r="horizontal"===ne.direction;return t!==e?function(){var e=t.getBoundingClientRect();return function(e){return e?h(t):t}(r?n>e.left+c(e)/2:i>e.top+p(e)/2)}():function(){var t,o,a,s=e.children.length;for(t=0;s>t;t++){if(a=(o=e.children[t]).getBoundingClientRect(),r&&a.left+a.width/2>n)return o;if(!r&&a.top+a.height/2>i)return o}return null}()}1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var B,V,G,W,q,K,Y,X,J,Q,Z,ee,te=null,ne=t||{};void 0===ne.moves&&(ne.moves=u),void 0===ne.accepts&&(ne.accepts=u),void 0===ne.invalid&&(ne.invalid=function(){return!1}),void 0===ne.containers&&(ne.containers=e||[]),void 0===ne.isContainer&&(ne.isContainer=l),void 0===ne.copy&&(ne.copy=!1),void 0===ne.copySortSource&&(ne.copySortSource=!1),void 0===ne.revertOnSpill&&(ne.revertOnSpill=!1),void 0===ne.removeOnSpill&&(ne.removeOnSpill=!1),void 0===ne.direction&&(ne.direction="vertical"),void 0===ne.ignoreInputTextSelection&&(ne.ignoreInputTextSelection=!0),void 0===ne.mirrorContainer&&(ne.mirrorContainer=k.body),void 0===ne.scrollEdge&&(ne.scrollEdge=36);var ie=b({containers:ne.containers,start:function(e){var t=S(e);t&&j(t)},end:C,cancel:I,remove:L,destroy:function(){a(!0),A({})},canMove:function(e){return!!S(e)},dragging:!1});return!0===ne.removeOnSpill&&ie.on("over",function(e){w.rm(e,"gu-hide")}).on("out",function(e){ie.dragging&&w.add(e,"gu-hide")}),a(),ie}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":4,crossvent:8}],3:[function(e,t,n){var i=e("ticky");t.exports=function(e,t,n){e&&i(function(){e.apply(n||null,t||[])})}},{ticky:6}],4:[function(e,t,n){var i=e("atoa"),r=e("./debounce");t.exports=function(e,t){var n=t||{},o={};return void 0===e&&(e={}),e.on=function(t,n){return o[t]?o[t].push(n):o[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var i=arguments.length;if(1===i)delete o[t];else if(0===i)o={};else{var r=o[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=i(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var a=(o[t]||[]).slice(0);return function(){var o=i(arguments),s=this||e;if("error"===t&&!1!==n.throws&&!a.length)throw 1===o.length?o[0]:o;return a.forEach(function(i){n.async?r(i,o,s):i.apply(s,o),i._once&&e.off(t,i)}),e}},e}},{"./debounce":3,atoa:5}],5:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],6:[function(e,t,n){var r;r="function"==typeof i?function(e){i(e)}:function(e){setTimeout(e,0)},t.exports=r},{}],7:[function(e,t,i){(function(e){var n=e.CustomEvent;t.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,i){(function(n){function i(e,t,i){return function(t){var r=t||n.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,i.call(e,r)}}function r(e,t,n){var i=function(e,t,n){var i,r;for(i=0;i<c.length;i++)if((r=c[i]).element===e&&r.type===t&&r.fn===n)return i}(e,t,n);if(i){var r=c[i].wrapper;return c.splice(i,1),r}}var o=e("custom-event"),a=e("./eventmap"),s=n.document,l=function(e,t,n,i){return e.addEventListener(t,n,i)},u=function(e,t,n,i){return e.removeEventListener(t,n,i)},c=[];n.addEventListener||(l=function(e,t,n){return e.attachEvent("on"+t,function(e,t,n){var o=r(e,t,n)||i(e,0,n);return c.push({wrapper:o,element:e,type:t,fn:n}),o}(e,t,n))},u=function(e,t,n){var i=r(e,t,n);return i?e.detachEvent("on"+t,i):void 0}),t.exports={add:l,remove:u,fabricate:function(e,t,n){var i=-1===a.indexOf(t)?new o(t,{detail:n}):function(){var e;return s.createEvent?(e=s.createEvent("Event")).initEvent(t,!0,!0):s.createEventObject&&(e=s.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+t,i)}}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":9,"custom-event":7}],9:[function(e,t,i){(function(e){var n=[],i="",r=/^on/;for(i in e)r.test(i)&&n.push(i.slice(2));t.exports=n}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2])(2)},"object"==u(t)&&void 0!==e?e.exports=l():(o=[],void 0===(a="function"==typeof(r=l)?r.apply(t,o):r)||(e.exports=a))}).call(t,n("DuR2"),n("162o").setImmediate)},LaYC:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push(""+function(e){switch(e){case null:case void 0:return"";case!0:case!1:return""+e;default:return e}}(this.LogoTpl())),e.push("<form method='post' novalidate action='javascript:void(0)'>\n  <p>We'll send you a link to reset your password.</p>\n  <div class='form-field-container'>\n    <label>Email</label>\n    <span class='validation-message' js-username-validation-message></span>\n    <input class='login--input username' type='email' m-no-icon autocapitalize='off'>\n  </div>\n  <div class='login--buttons'>\n    <button class='cancel login--button' type='button'>Cancel</button>\n    <button class='login--button send-email' m-float-right type='submit'>Reset password</button>\n  </div>\n</form>"),e.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},LchT:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-creator__picker'></div>\n<div class='component-activity-creator__editor'></div>\n<div class='component-activity-creator__footer'>\n  <div class='component-activity-creator__group-selector'></div>\n  <div class='component-activity-creator__actions'>\n    <button class='component-activity-creator__add-activity'></button>\n    <button class='component-activity-creator__create'>Create</button>\n  </div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},Lxn6:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeVersion=t.fireNotification=t.getErrorMessage=t.requiresUpdate=t.inGoogPresenter=t.capableOfSmallPlaceholders=t.hostInfo=t.getActivityUrl=t.escapeBackslashes=t.retrievePlaceholderUrl=t.getPlaceholderCdnUrl=t.getPlaceholderUrl=t.getScreenshotUrl=t.getBase64=t.getDataURI=t.insertionTimeout=t.paramsFromUrl=void 0;var o,a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n("SXII"),l=n("9nM1"),u=(o=l)&&o.__esModule?o:{default:o};t.paramsFromUrl=function(e){return(0,s.params)(e.replace(/#/,""))};var c=t.insertionTimeout=15e3,p=(t.getDataURI=function(t){var n=e.Deferred(),i=new FileReader;return e.ajax({url:t,xhrFields:{responseType:"blob"},timeout:c}).done(function(e){i.readAsDataURL(e),i.onloadend=function(){return n.resolve(i.result)}}).fail(n.reject),n},t.getBase64=function(e){return/,/g.test(e)?e.split(",")[1]:""},t.getScreenshotUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(p(e,t,n)).addQuery("hide","overlay,metadata").toString()},t.getPlaceholderUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.defaults(n,{placeholderFormat:"tiny",aspectRatio:1.33});var i=d(e,t,{query:n.activityQuery,persist:!1}),o=n.aspectRatio>1.33&&n.aspectRatio<1.34?1200:1600;return e.get("slide_server_url").path("placeholder").query({url:i,width:o,height:"900",brand:"polleverywhere",format:n.placeholderFormat}).toString()}),d=(t.getPlaceholderCdnUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(p(e,t,n)).path("placeholder_cdn_url").toString()},t.retrievePlaceholderUrl=function(t){var n=e.Deferred();return e.ajax({url:t,dataType:"text",timeout:c}).then(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise()},t.escapeBackslashes=function(e){return e.replace(/[\\]/g,"\\$&")},t.getActivityUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.defaults(n,{query:{},persist:!1});var i=e.get("api_url").path(t.showUrl()).protocol(e.get("secure_protocol"));return i.query(n.query),n.persist&&i.addQuery("onscreen","persist"),i.toString()}),f=(t.hostInfo=function(){var e="WEB",t="";try{if(null===window.sessionStorage)throw new Error("Session Storage isn't supported");var n=window.sessionStorage.hostInfoValue,i=n.split("$")||[],r=a(i,3);if(e=r[0],t=r[1],null===r[2]){var o=n.split("|")||[],s=a(o,2);e=s[0],t=s[1]}e=e.toUpperCase()||"WEB",t=t.toUpperCase()||null}catch(e){}return{host:e,platform:t}},t.capableOfSmallPlaceholders=function(){if(/PollEverywhereMacApp/i.test(navigator.userAgent)){var e=v();return 2===e.major&&e.minor>=12||e.major>=3}return!0},t.inGoogPresenter=function(){return/google/.test(document.referrer)},t.requiresUpdate=function(e,t){return e.test(navigator.userAgent)&&t.test(navigator.userAgent)}),h=t.getErrorMessage=function(){if(f(/Windows/i,/PollEvPresenter\/1\.8\.0\.0/i)||f(/Windows/i,/PollEvPresenter\/2\.0\.[01]\.0/i))return"You're running an old version of the Poll Everywhere app. Please download the newest version by visiting the Poll Everywhere website in your web browser."},v=(t.fireNotification=function(e){if(e&&e.app){var t=h()||e.settings&&e.settings.get("message"),n=h()?"error":e.settings.get("message_type");t&&n&&e.app.trigger(n,t)}},t.getNativeVersion=function(){if(!u.default.has("nativeAPI"))return!1;var e=navigator.userAgent.match(/(?:PollEvPresenter|LiveSlides)\/(\d+)\.(\d+)\.(\d+)?/);return!!e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10),patch:parseInt(e[3],10)}})}).call(t,n("7t+N"),n("hBlz"),n("rdLu"))},Lzm6:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("+88m");var r=n("6L1a"),o=l(n("40hA")),a=l(n("qE8w")),s=l(n("vpEg"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.initializeSubviews=o.initializeSubviews.bind(o),o.activate=o.activate.bind(o),o.render=o.render.bind(o),o.toggleLogin=o.toggleLogin.bind(o),o.remove=o.remove.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settings=t.settings,this.initializeSubviews(),this.$bodyEl=e("body")}},{key:"initializeSubviews",value:function(){this.notification=new a.default,this.spinner=new s.default({app:this.app})}},{key:"activate",value:function(e){if(this.currentView!==e){if(this.currentView)this.currentView.remove();this.currentView=e,this.$el.append(e.render().$el)}}},{key:"render",value:function(){var e=this.notification.render().$el,t=this.spinner.render().$el;return this.$el.append(t,e),this.$el.toggleState("s-standalone",!r.env.has("nativeAPI")),this.toggleLogin(),this.listenTo(this.app.session,"session:stopped",this.toggleLogin),this.listenTo(this.app.session,"session:started",this.toggleLogin),this}},{key:"toggleLogin",value:function(){this.$el.toggleState("s-logged-in",this.app.user.isLoggedIn()),this.$el.toggleState("s-pre-sas",this.app.user.isLoggedIn()&&!this.app.user.get("features").multi_question_activities)}},{key:"remove",value:function(){this.notification.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).apply(this,arguments)}},{key:"className",get:function(){return"poll_ev"}},{key:"appEvents",get:function(){return{"signup:seeTerms":function(e){this.app.navigate(e)},success:function(e){this.notification.success(e,{icon:"check-circle"})},error:function(e){this.notification.error(e,{icon:"warning-sign"})},notice:function(e){this.notification.notice(e)},"notification:hide":function(){this.notification.dismiss()}}}}]),n}();t.default=u}).call(t,n("7t+N"))},MBh1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("ui+V")),r=o(n("hBlz"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return void 0!==e&&null!==e?t(e):void 0}t.default=function(e){return{respond:function(t,n){var o=new i.default({value:t});(e.has("source")||a(null!=e.collection?e.collection.poll:void 0,function(e){return e.has("source")}))&&o.set({source:e.get("source")||a(null!=e.collection?e.collection.poll:void 0,function(e){return e.get("source")})});var s=(0,r.default)(e.responseUrl());return(null!=n?n.include_confirmation_message:void 0)&&s.addQuery("include_confirmation_message","1"),o.save(null,{url:s.toString()})}}}},MT41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("n9xQ"),o=(i=r)&&i.__esModule?i:{default:i};var a={setCredentials:function(e,t){return a.username=e,a.password=t,o.default.headers.Authorization="Basic "+btoa(a.username+":"+a.password),o.default.headers.Authorization}};t.default=a},NAQ3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e={requestHeaders:["Accept","Content-Type"],requestMethods:["GET"],requestContentTypes:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],requestPaths:[]},t={warn:function(e){window.console&&window.console.warn&&window.console.warn(e)},absolutifyURL:function(e,t){null!=t&&t.match(/^https/)&&!e.match(/^https/)&&(e=e.replace("http","https"));var n=document.createElement("a");return n.setAttribute("href",e),n.href},on:function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},off:function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},encode:function(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},decode:function(e){return t.parseUri("?"+e).queryKey},isSameOrigin:function(e,n){return e=t.parseUri(e),n=t.parseUri(n),e.protocol==n.protocol&&e.authority==n.authority},map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return n},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},parseUri:function(e){for(var n=t.parseUriOptions,i=n.parser[n.strictMode?"strict":"loose"].exec(e),r={},o=14;o--;)r[n.key[o]]=i[o]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(e,t,i){t&&(r[n.q.name][t]=decodeURIComponent(i))}),r},parseUriOptions:{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},inArray:function(e,t,n){var i,r=Array.prototype.indexOf;if(t){if(r)return r.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},getInternetExplorerVersion:function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}};function n(e,n,i){function r(){return e.postMessage?e:e.contentWindow}var o={onMessage:n,onError:i||function(e){window.console&&window.console.error&&window.console.error(e)},destroy:function(){t.off(window,"message",a),e=null,n=null},send:function(e){r().postMessage(t.encode(e),"*")},error:function(e){r().postMessage(t.encode({__simpleChannelError:e}),"*")}};function a(e){if(e.source==r()){var n=t.decode(e.data);"__simpleChannelError"in n?o.onError(n.__simpleChannelError,e.origin):o.onMessage(n,e.origin)}}return t.on(window,"message",a),o}return{version:"0.1",utils:t,config:e,startServer:function(i,r){i=i||{},void 0!==(r=r||{}).requestHeaders&&(e.requestHeaders=e.requestHeaders.concat(r.requestHeaders)),void 0!==r.requestMethods&&(e.requestMethods=e.requestMethods.concat(r.requestMethods)),void 0!==r.requestContentTypes&&(e.requestContentTypes=e.requestContentTypes.concat(r.requestContentTypes)),void 0!==r.requestPaths&&(e.requestPaths=e.requestPaths.concat(r.requestPaths));var o=n(i.window||window.parent,function(n,r){if("send"==n.cmd){var a=new XMLHttpRequest;if(n.origin=r,n.headers=t.decode(n.headers),a.data=n,!t.isSameOrigin(window.location.href,n.url))return void o.error("url does not have same origin: "+n.url);if(-1==t.inArray(n.method,e.requestMethods))return void o.error("not a simple request method: "+n.method);var s=t.parseUri(n.url).path;if(-1==t.inArray(s,e.requestPaths))return void o.error("not a permitted path: "+s+". By default no paths are permitted.");a.open(n.method,n.url),a.onreadystatechange=function(){var e=t.getInternetExplorerVersion();if(2==a.readyState&&!e||4==a.readyState&&e<9){var n=function(e){return{allowOrigin:e.getResponseHeader("Access-Control-Allow-Origin")}}(a);if(i.modifyAccessControl&&i.modifyAccessControl(n,a.data),!function(e,t,n){return t.allowOrigin?"*"==t.allowOrigin||e.origin==t.allowOrigin||void n.error("message from invalid origin: "+e.origin):(n.error("CORS is unsupported at that path."),!1)}(a.data,n,o))return void a.abort()}var r={cmd:"readystatechange",readyState:a.readyState};4==a.readyState&&(r.responseText=a.responseText,r.status=a.status,r.statusText=a.statusText,r.responseHeaders=a.getAllResponseHeaders()),o.send(r)};var l=n.headers["Content-Type"];if(l&&(l=l.split(";")[0]),l&&-1==t.inArray(l,e.requestContentTypes))return void o.error("invalid content type for a simple request: "+l);for(var u in n.headers)if(-1==t.inArray(u,e.requestHeaders)){if("X-Requested-With"!=u)return void o.error("header '"+u+"' is not allowed.")}else a.setRequestHeader(u,n.headers[u]);a.setRequestHeader("X-Origin",n.origin),a.send(n.body||null)}});o.send({cmd:"ready"})},buildClientConstructor:function(e){return function(){var i,r,o,a,s={},l="";function u(){o&&(o.destroy(),o=null),a&&(document.body.removeChild(a),a=null)}var c={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,readyState:0,status:0,statusText:"",responseText:"",onabort:null,open:function(e,t){i=e,r=t,c.readyState=c.OPENED,c.onreadystatechange&&c.onreadystatechange()},setRequestHeader:function(e,t){s[e]=t},getAllResponseHeaders:function(){return l},abort:function(){a&&(u(),c.readyState=c.DONE,c.onreadystatechange&&c.onreadystatechange(),c.readyState=c.UNSENT,c.onabort&&c.onabort())},send:function(p){if(c.readyState==c.UNSENT)throw new Error("request not initialized");a=document.createElement("iframe"),o=n(a,function(e){switch(e.cmd){case"ready":o.send({cmd:"send",method:i,url:t.absolutifyURL(r),headers:t.encode(s),body:p||""});break;case"readystatechange":c.readyState=parseInt(e.readyState),c.status=parseInt(e.status),c.statusText=e.statusText,c.responseText=e.responseText,l=e.responseHeaders,c.onreadystatechange&&c.onreadystatechange(),4==c.readyState&&(u(),c.onload&&c.onload())}},function(e){t.warn(e),c.responseText=e,c.readyState=c.DONE,u(),c.onreadystatechange&&c.onreadystatechange()}),a.setAttribute("src",t.absolutifyURL(e,r)),a.style.display="none",document.body.appendChild(a)}};return c}}}}();t.default=i},ND6I:function(e,t,n){"use strict";(function(e,i,r,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=p(n("40hA")),l=p(n("Chvp")),u=p(n("VMmL")),c=n("6L1a");function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f="Press "+(window.navigator.userAgent.toLowerCase().match("macintosh")?"Cmd + V":"Ctrl + V")+" to paste a URL",h="Oops, that URL looks funny. Open the website in your browser, copy the address and paste it here.",v="Are you trying to enter an IPv6 address? Try brackets! For example: https://[::1]/example",g=function(e,t){return void 0!==e&&null!==e?t(e):void 0},y=function(){function t(n){d(this,t);var i=n;n=n.trim();var r=null,o=null;0===g(n.match("localhost"),function(e){return e.index})&&(n=["http://",n].join("")),(r=new e(n)).protocol().length||(n=["https://",n].join(""));try{o=new window.URL(n)}catch(e){}null!=o&&(r=new e(o.toString())),this.validated=function(){return!!i.length&&null!=o},this.libraryAPI={is:function(e){return r.is(e)},hostname:function(){return r.hostname()},domain:function(){return r.domain()},protocol:function(){return r.protocol()}},this.browserAPI={toString:function(){return null!=o?o.toString():void 0}},this.originalURL=function(){return i}}return a(t,[{key:"domain",value:function(){return this.validated()?this.libraryAPI.is("ip")?this.libraryAPI.hostname():this.libraryAPI.domain():this.originalURL()}},{key:"protocol",value:function(){return this.libraryAPI.protocol()}},{key:"is",value:function(e){return this.libraryAPI.is(e)}},{key:"toString",value:function(){return null!=this.browserAPI?this.browserAPI.toString():void 0}},{key:"passTo",value:function(e,t){if("libraryAPI"===e||"browserAPI"===e){for(var n,i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return null!=this[e][t]?(n=this[e][t]).call.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(r||[]))):void 0}}}]),t}(),m=function(e){function t(){var e;d(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.render=o.render.bind(o),o.insertLiveSlide=o.insertLiveSlide.bind(o),o.handleIframeSrc=o.handleIframeSrc.bind(o),o.toggleNotice=o.toggleNotice.bind(o),o.nag=o.nag.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"render",value:function(){return this.renderTemplate(),this.$(".liveslides--brand").append(this.brandingTpl()),this.$("[js-get-url]").prop("placeholder",f),i.defer(this.nag),this}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settings=e.settings}},{key:"insertLiveSlide",value:function(e){e.preventDefault(),e.stopPropagation();var t=new y(this.$("[js-get-url]").val());if(this.settings.get("message"))return this.nag();t.validated()?(this.app.trigger("view:action","live_slides:insert_live_slide",{description:"liveslides insert webpage",url:t.toString(),domain:t.domain(),referrer:this.app.history.previousURL()}),this.nativeInsert(t.toString()),this.$("[js-get-url]").val(""),this.$("[js-submit]").toggleState("s-disabled",!0),i.delay(this.nativeClose,200)):0===t.originalURL.length||this.toggleNotice(!0)}},{key:"handleIframeSrc",value:function(){if(this.$("[js-get-url]").val()){var e=r.parseHTML(this.$("[js-get-url]").val());e[0]&&e[0].nodeType===Node.ELEMENT_NODE&&this.$("[js-get-url]").val(o(e).filter("iframe[src]").attr("src"))}}},{key:"handleURL",value:function(){this.handleIframeSrc();var e=new y(this.$("[js-get-url]").val());0===e.originalURL().length?(this.toggleNotice(!1),this.$("[js-submit]").toggleState("s-disabled",!0)):e.validated()?this.toggleNotice(!1):e.is("ip")?this.toggleNotice(v):this.toggleNotice(h)}},{key:"toggleNotice",value:function(e){e?("string"==typeof e?this.$("[js-notify]").text(e):this.$("[js-notify]").text(h),this.$("[js-submit]").toggleState("s-disabled",!0),this.$("[js-notify]").toggleVisibility(!0),this.$("[js-show-example]").toggleVisibility(!1)):(this.$("[js-notify]").toggleVisibility(!1),this.$("[js-show-example]").toggleVisibility(!0),this.$("[js-submit]").toggleState("s-disabled",!1))}},{key:"nag",value:function(){var e=this.settings.get("message");if(e)return this.app.trigger("error",e)}},{key:"nativeInsert",value:function(e){c.env.get("nativeAPI")&&c.env.get("nativeAPI").presentation.insertSlideWidget(e,"LiveSlide",!0,"")}},{key:"nativeClose",value:function(){c.env.has("nativeAPI")&&c.env.get("nativeAPI").webApp.close()}},{key:"className",get:function(){return"liveslides"}},{key:"template",get:function(){return l.default}},{key:"brandingTpl",get:function(){return u.default}},{key:"events",get:function(){return{"click [js-submit]":"insertLiveSlide","keyup [js-get-url]":"debouncedhandleURL"}}},{key:"debouncedhandleURL",get:function(){var e=this;return i.debounce(function(){return e.handleURL()},300)}}]),t}();t.default=m}).call(t,n("hBlz"),n("rdLu"),n("7t+N"),n("7t+N"))},"NG+q":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='modal-dialog--backdrop'></div>\n<div class='modal-dialog--shell'>\n  <div class='modal-dialog--content'>\n    <div class='modal-dialog--header'>\n      <div class='modal-dialog--title'></div>\n      <div class='modal-dialog--close'>\n        <span class='icon' data-glyph='x-close-icon'></span>\n      </div>\n    </div>\n    <div class='modal-dialog--body'></div>\n    <div class='modal-dialog--footer'>\n      <button class='modal-dialog--primary modal-dialog__btn'></button>\n      <a class='modal-dialog--cancel'></a>\n      <a class='modal-dialog--secondary'></a>\n    </div>\n  </div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},NXgH:function(e,t){e.exports=function(){return function(e){return function(){var e,t;return e=function(e){switch(e){case null:case void 0:return"";case!0:case!1:return""+e;default:return e}},(t=[]).push("<div class='horizontal-padding login__content'>"),t.push("  "+e(this.LoginTpl({LogoTpl:this.LogoTpl}))),t.push("</div>"),t.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},Ntp8:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<img>\n<div class='component-editor-multiple-choice__option__image-actions'>\n  <button class='component-editor-multiple-choice__option__image-delete'>Delete</button>\n  <input class='component-editor-multiple-choice__option__image-alt' title='Alternative text' placeholder='Alternative text' name='option-description' maxlength='255'>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},Nwwm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n("p2wS")),o=c(n("bbAb")),a=c(n("hfDJ")),s=c(n("685t")),l=c(n("5JUa")),u=c(n("7t+N"));function c(e){return e&&e.__esModule?e:{default:e}}var p,d=(p=void 0,(d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={},this.ajax=p(this.cache,r.default,o.default,a.default,l.default,s.default,u.default.ajax),"undefined"!=typeof jasmine&&null!==jasmine&&(this.ajax.chain=this)}return i(e,null,[{key:"initClass",value:function(){p=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=Math.max(n.length,1),o=n.slice(0,r-1),a=n[r-1];o.length;)a=new(o.pop())(e,a).ajax;return a}}}]),e}()).initClass(),d);t.default=d},Nz7a:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-clickable-image__builder__region__dragger dragger left top'></div>\n<div class='component-editor-clickable-image__builder__region__dragger dragger right top'></div>\n<div class='bottom component-editor-clickable-image__builder__region__dragger dragger left'></div>\n<div class='bottom component-editor-clickable-image__builder__region__dragger dragger right'></div>\n<div class='component-editor-clickable-image__builder__region__id'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},OCME:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n("x4Pe")),s=c(n("yUJD")),l=c(n("2XIL")),u=c(n("fy/z"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){if(!t.isOtherRegion()){var n=new s.default({model:t,container:e.$_element("regions"),showGrading:e.showGrading});t.on("change:_destroy",n.remove);var i=new l.default({model:t,container:e.$_element("region-editor__names"),showGrading:e.showGrading});e.$_element("regions").append(n.render().$el),e.$_element("region-editor__names").append(i.render().$el),t.collection.trigger("select",t)}},d=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),o(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.extend(this,(0,a.default)(this)),r.defaults(e,{showGrading:!1,showAltText:!1}),this.showGrading=e.showGrading,this.showAltText=e.showAltText,this.regions=this.model.regions,this.listenTo(this.regions,"add",r.partial(p,this))}},{key:"render",value:function(){var e,t,n,i,r,o=this;return this.$el.html(this.template()),t=(e=this).model.getTypeOption("imageUrl"),n=e.model.getTypeOption("imageAlt"),i={w:screen.width||2e3,h:screen.height||2e3,fit:"max",q:70},r=PollEv.Util.proxiedImageUrl(t,i),e.$_element("regions","image").attr("src",r),e.$_element("regions","image").attr("alt",n),e.showAltText?e.$_element("image-alt").val(n):e.$_element("image-alt").hide(),this.regions.each(function(e){e.isOtherRegion()||p(o,e)}),this}},{key:"className",get:function(){return"component-editor-clickable-image__builder"}},{key:"template",get:function(){return u.default}},{key:"events",get:function(){return{"click .component-editor-clickable-image__builder__regions":function(t){!function(t,n){var i=PollEv.Model.ClickableImageRegion.CLICKABLE_REGION_DEFAULT_HEIGHT,r=PollEv.Model.ClickableImageRegion.CLICKABLE_REGION_DEFAULT_WIDTH,o=t.$_element("regions").width(),a=t.$_element("regions").height(),s=r/o*100,l=i/a*100;n.offsetX||(n.offsetX=n.pageX-e(n.target).offset().left),n.offsetY||(n.offsetY=n.pageY-e(n.target).offset().top);var u=n.offsetX,c=n.offsetY;u<r/2?u=r/2:u>o-r/2&&(u=o-r/2),c<i/2?c=i/2:c>a-i/2&&(c=a-i/2);var p=(u-r/2)/o*100,d=(c-i/2)/a*100,f=t.regions.getNextName(),h=new PollEv.Model.ClickableImageRegion({value:"region: "+p+"%,"+d+"%|"+s+"%x"+l+"%#"+f});t.regions.addValid(h)}(this,t)},"click .component-editor-clickable-image__builder__delete":function(){var e,t;t=(e=this).regions.difference([e.model.otherRegion()]),e.regions.remove(t),e.model.unsetTypeOption("imageUrl")},"change .component-editor-clickable-image__builder__image-alt":function(e){!function(e,t){var n=t.target.value;e.model.setTypeOption("imageAlt",n)}(this,e)}}}}]),n}();t.default=d}).call(t,n("7t+N"),n("32HH"),n("rdLu"))},Oc81:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),n("daz6");var r=window.Cutlass.Cannon,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{name:e,time:new Date,properties:t,url:window.location.href,query_string:window.location.search}},a=function(t,n){t.cannon&&(t.cannon.accountId=t.app&&t.app.user&&t.app.user.get&&t.app.user.get("account_id"),t.cannon.userId=t.app&&t.app.user&&t.app.user.id,t.cannon.addEvents(e.flatten(n)))};t.default=function t(n){var s=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=n,this.cannonOpts=l,e.extend(this,i.Events),PollEv.env.has("cutlass_base_url")&&(this.cannon=new r(PollEv.env.get("cutlass_base_url"),this.cannonOpts)),this.batchHandlEvent=PollEv.Util.batchCallFunction(1e3,e.partial(a,this)),this.listenTo(this.app,"view:action",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.defaults(n,{event_type:"view:action"}),i.immediate?a(s,[o(t,n)]):s.batchHandlEvent(o(t,n))})}}).call(t,n("rdLu"),n("32HH"))},Oeb2:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=f(n("x4Pe")),s=f(n("9gpq")),l=f(n("qM++")),u=f(n("eo6Q")),c=f(n("tRaw")),p=f(n("t1IT")),d=f(n("LVWF"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){e.model.polls.every(function(e){return e.get("type")})&&v(e,null)},v=function(e,t){var n=new c.default({activity:e.model,type:t});return e.model.polls.add(n)},g=function(e,t){var n=new u.default({model:t,showGrading:e.showGrading,showUpload:e.showUpload,showAltText:e.showAltText,instructionsImage:e.instructionsImage,competition:e.model,activities:e.activities});e.$activities.append(n.render().$el),n.on("view:action",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trigger("view:action",t,n)})},y=function(e){e.model.changed=i.extend(e.model.changed,{activity_polls_changed:!0}),e.model.trigger("change",e.model)},m=function(e,t,n){e.model.trigger("invalid",t,n)},b=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.extend(this,(0,a.default)(this)),i.defaults(e,{showGrading:!1,showUpload:!1,showAltText:!1,instructionsImage:!1,activities:{}}),i.defaults(e.activities,{"multiple-choice":!0,"word-cloud":!1,"up-down-vote":!1,"rank-order":!1,"clickable-image":!1,"open-ended-text":!1}),this.showGrading=e.showGrading,this.showUpload=e.showUpload,this.showAltText=e.showAltText,this.instructionsImage=e.instructionsImage,this.activities=e.activities,this.title=new s.default({model:this.model,placeholder:"Competition title"}),this.listenTo(this.model.polls,"change:type",i.partial(h,this)),this.listenTo(this.model.polls,"add",i.partial(g,this)),this.listenTo(this.model.polls,"update",i.partial(h,this)),this.listenTo(this.model.polls,"all",i.partial(y,this)),this.listenTo(this.model.polls,"invalid",i.debounce(i.partial(m,this),50,!0))}},{key:"render",value:function(){var t,n,r;return this.$el.html(this.template()),this.$add=this.$_element("add"),this.$activities=this.$_element("activities"),this.$el.prepend(this.title.render().$el),t=this,n=[".component-editor-multiple-choice__option__dragger",".component-editor-multiple-choice__option__input",".component-editor-clickable-image__builder__regions","button"].join(", "),r=["."+t.className+"__activity--placeholder"].join(", "),t.drake=(0,d.default)({containers:t.$activities.toArray(),invalid:function(t,i){return e(i).is(n)||e(t).is(r)},accepts:function(e,t,n,i){return null!==i}}),t.drake.on("dragend",function(n){var i=t.$activities.children().index(n);e(n).trigger("updateindex",i)}),this.model.polls.each(i.partial(g,this)),h(this),this.model.polls.comparator=null,this}},{key:"validate",value:function(){return new l.default(this.model).validate()}},{key:"remove",value:function(){this.title.remove(),this.drake.destroy(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-editor-competition"}},{key:"template",get:function(){return p.default}}]),n}();t.default=b}).call(t,n("7t+N"),n("rdLu"),n("32HH"))},OkFH:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<section class='secondary-nav-margin section'>\n  <div class='grid-container'>\n    <div class='grid-row'>\n      <div class='grid-col-12'>\n        <h1>Privacy policy</h1>\n        <h2 class='subtitle'>Updated May 2, 2017</h2>\n        <p>Thank you for visiting www.polleverywhere.com (the Site), which is owned by Poll Everywhere, Inc. (Poll Everywhere) and operated by in the United States. We strive to make our Privacy Policy (the Privacy Policy) easy to understand. While we encourage you to fully review our Privacy Policy, we provide a summary below that describes in general terms what we do and what we dont do. The complete Privacy Policy is set forth below the summary in the form of FAQs. We also encourage you to review the Site Terms of Service (the Terms of Service), which is the agreement between you and Poll Everywhere that governs your use of the Site, as well as provides the terms and conditions under which Poll Everywhere provides, and you may use, the Poll Everywhere Service (the Service).</p>\n        <p>In this Privacy Policy, we refer to our consumers as Visitors and Users. If you visit our Site and do not register, we refer to you as a Visitor. If you choose to register on our Site, we refer to you as a User. Both Users and Visitors can use our polling services.</p>\n        <h2>What We Do</h2>\n        <ul class='bulleted'>\n          <li>We collect clickstream information and basic, technical information, such as browser type, from Visitors -- those who visit the Site but who do not register.</li>\n          <li>If you register as a user of the Service and become a User, Poll Everywhere collects the same information we collect from Visitors, as well as the personal information Users submit during the registration, and we use cookies to support Users logged-in experience.</li>\n          <li>We use a limited number of select service providers to perform work on our behalf. They are permitted to use personal information only for the purpose of providing their services or at an aggregate level.</li>\n          <li>When Visitors or Users participate in our polling services, we obtain the individuals mobile phone number provided to us in connection with SMS responses, the device type and operating system, and the poll responses. We use this information to facilitate individuals participation in polls.</li>\n          <li>In some cases, you may be able to purchase services from us, in which case well also collect payment card information from you.</li>\n          <li>In addition to providing polling services directly to individuals, Poll Everywhere also has business customers, such as employers or companies that organize conferences. When our business customers conduct polls using Poll Everywhere software, they may choose to collect additional information about poll participants. We require our business customers to explain their privacy practices to poll participants.</li>\n          <li>We share your personal information only as described in this Privacy Policy and do not sell the information, except if our company or assets are sold or acquired.</li>\n          <li>\n            We may use the information we have about you to offer you products and services that we believe may be of interest to you. We may offer these products and services in conjunction with our business and marketing partners. You may direct us not to use or share your information by\n            registering with our opt-out form.\n          </li>\n          <li>If you registered with Poll Everywhere using an email address based on a domain owned by your company or organization (e.g., JohnDoe@AcmeCorp.com), we may share the fact of your registration with other users registered with an email address using the domain of the same company or organization and its affiliates to facilitate collaboration with your business colleagues.</li>\n          <li>\n            If you provide your email, we automatically add it to our email list for periodic announcements. You may opt out and unsubscribe at any time using the unsubscribe links in our emails, or the checkbox next to your email address on\n            your Settings page.\n          </li>\n        </ul>\n        <h2>Your Privacy Matters</h2>\n        <p>This Privacy Policy applies to the personal information we collect on our Site, our mobile Site, desktop applications, and mobile applications, whether you are a Visitor or have registered to use our Service and became a User. This Privacy Policy governs the handling of the information we obtain from all Visitors and Users.</p>\n        <p>\n          The Privacy Policy includes the contents of this web page, including the summary points above and the FAQs below. We provide the summary points above only for your convenience. Please read the entire Privacy Policy, as well as the\n          Terms of Service.\n        </p>\n        <p>\n          <strong>If you do not agree with the Privacy Policy, or the Terms of Service, you may not use this Site, the Service, our applications, or our mobile Site.</strong>\n        </p>\n        <h2>Children's Privacy</h2>\n        <p>Poll Everywhere is committed to protecting the privacy of young children, and therefore does not knowingly collect or maintain personally identifiable information on the Site or Service from persons under 13 years of age, except in compliance with the Children's Online Privacy Protection Act of 1998 (\"COPPA\"). By providing any personal information to Poll Everywhere or otherwise using the Service, all Visitors and Users, including without limitation individuals in the European Union, must acknowledge and hereby unambiguously consent to the transfer to, collection and processing of such information in the United States. You may not use the Service if you do not agree to such transfer to, collection, and processing of your personal information in the United States.</p>\n        <h2>General Matters</h2>\n        <p>Because of our commitment to our Visitors and Users privacy, Poll Everywhere continuously evaluates our Privacy Policy, and may implement refinements from time to time. We encourage you to check our Site, the current Privacy Policy and Terms of Service frequently to see any changes that may have been made to them. If we make significant changes to this Privacy Policy that affect our Users, we will notify the Users of the change using the contact information we have on file. By continuing to use the Site or the Service after such notice has been posted, you are expressly agreeing to any changes to the Privacy Policy and/or Terms of Service.</p>\n        <p>\n          We welcome any questions, comments or suggestions you may have about this Privacy Policy or any other material on Poll Everywhere. Please send your questions, comments or suggestions to\n          questions@polleverywhere.com.\n        </p>\n        <h3>Your California Privacy Rights</h3>\n        <p>\n          If you are a California resident, you may request that we provide to you (i) a list of the categories of personal information about you that Poll Everywhere has disclosed to third parties for the third parties direct marketing purposes during the calendar year preceding your request, (ii) the names and addresses of such third parties, and (iii) if the nature of the third parties business cannot reasonably be determined from their names, examples of the products or services marketed, if known to Poll Everywhere, sufficient to give you a reasonable indication of the nature of the third parties business. To submit your request, please email\n          security@polleverywhere.com.\n          with the subject line California Privacy and your request in the body of your email.\n        </p>\n        <h3>Compliance with the Family Educational Rights and Privacy Act (FERPA)</h3>\n        <p>FERPA protects personally identifiable information contained in students education records from unauthorized use or disclosure.  If you are an educational institution, or a teacher or school official at an educational institution, that is required to comply with FERPA, we will only use any education records (as defined under FERPA) that you may make available to Poll Everywhere for the purpose of providing the Services to you. We will never share or sell FERPA-protected information, or use it for any other purpose, except as otherwise directed or permitted by you. If a parent or eligible student requests access to any education records that are hosted on our servers, we will help facilitate such access.</p>\n        <h3>EU-US and Swiss-U.S. Privacy Shield</h3>\n        <p>Poll Everywhere has self-certified to and complies with the EU-U.S. and Swiss-U.S. Privacy Shield Frameworks regarding the collection, use and retention of personal data transferred from the European Union and Switzerland, respectively, to the United States. <a href=\"/privacy-shield-policy\">View our Privacy Shield Policy</a>.  References to this Privacy Policy include the Privacy Shield Policy.</p>\n        <h2>FAQs</h2>\n        <h3>What information does Poll Everywhere collect from Visitors?</h3>\n        <p>Poll Everywhere only collects technical information, such as device and browser type, from Visitors to the Site or mobile Site. Visitors commonly chose to provide personal information, however, as part of using our service, such as answering a poll that asks for a Visitors name. In addition, when Visitors participate in polls using a mobile device, the poll response includes the Visitors mobile phone number.</p>\n        <h3>What information does Poll Everywhere collect from Users?</h3>\n        <p>To register to use some parts of the Service, you must provide a full name and email address. To purchase service, we also require your payment information. Poll Everywhere only collects this personal information if a Visitor chooses to register with the Service to become a User. We may collect information related to how you logged in (e.g., through a mobile app or a browser) so we can alert you to new features about the Service.</p>\n        <p>Poll Everywhere may use your registration information to contact you to: deliver the Service and improve our Site, Service, features and content, and provide customer service; administer and enable your use, enjoyment and navigation of our Site, Service, and mobile Site; better understand your needs and interests; fulfill requests you make; and personalize your experience.</p>\n        <h3>How does Poll Everywhere collect information from Visitors or Users?</h3>\n        <p>Poll Everywhere may collect non-personal information during your visit to the Site or mobile Site through our automatic data collection tools, which may include cookies and other commonly used technologies.</p>\n        <p>A cookie is a small piece of data stored by a users browser that contains session information to identify you for access purposes as you navigate Poll Everywhere. Cookies are required to use our service.</p>\n        <p>When you visit our Site, ad networks and other parties may collect information about your online activities over time and across different websites. We are not responsible for the privacy practices of these ad networks and other parties. Because there is not yet a consensus on how companies should respond to web browser-based or other do-not-track (DNT) mechanisms, we do not respond to web browser-based DNT signals at this time.</p>\n        <p>Some of our Services, such as mobile applications, may collect geo-location data to provide location-related functionality. We may link location data to other information we have collected about you. You may stop sharing your location data by adjusting your mobile devices location services settings. For instruction on changing the relevant settings, please contact your service provider or device manufacturer.</p>\n        <h3>Who can see my polls?</h3>\n        <p>By default, the polls you create and their results are indexed by search engines and searchable by other Poll Everywhere Users. You can disable this sharing feature in your account settings.</p>\n        <p>Even if you have enabled the privacy setting to prevent indexing, every poll on our system is assigned a permanent, private, obscure link. This is called a permalink. If you share the permalink with others, they will be able to see your poll and a limited subset of data about the responses. If youve chosen to allow it, they will be able to submit responses.</p>\n        <h3>Does Poll Everywhere create user profiles of everyone who visits the Site?</h3>\n        <p>No. Poll Everywhere uses cookies to facilitate the Services functionality and to preserve User preferences. When you visit the Site or mobile Site, Poll Everywhere may place a cookie in order to improve your experience by recognizing you when you visit. But Poll Everywhere does not use cookies to create profiles of Visitors or Users.</p>\n        <p>Poll Everywhere also does not use cookies or other information gathering tools to automatically collect personal information from Visitors to the Site or mobile Site. We only receive personal information when you choose to provide it.</p>\n        <h3>What other parties can see me on Poll Everywhere?</h3>\n        <p>As explained above, Poll Everywhere uses a select number of service providers to help facilitate our Service. We may employ independent companies or other third parties and individuals to help us provide, facilitate or improve our Service (such as customer service support). They are permitted to use data only for the purpose of performing services on our behalf or at an aggregate level. Notable third party services you should be aware of include Facebook and their like button, and web analytics providers like Google Analytics.</p>\n        <p>Some features may expose your presence on the service. For example, if you are interacting with a poll from a presenter, they can see your responses. If you give them permission, they can also associate your responses with your name and email address.</p>\n        <h3>How does polling work for Poll Everywheres business customers?</h3>\n        <p>In addition to providing polling services directly to individuals, we also have business customers, such as employers or companies that organize conferences. When our business customers conduct polls using our software, we share participants information with the customers. Business customers may configure the polling software to collect additional information about poll participants. We require our business customers to explain their privacy practices to poll participants.</p>\n        <h3>Is there an age restriction for joining Poll Everywhere?</h3>\n        <p>Poll Everywhere is committed to protecting the privacy of young children, and therefore does not knowingly collect or maintain personally identifiable information on the Site or Service from persons under 13 years of age, except in compliance with the Childrens Online Privacy Protection Act of 1998 (COPPA). Accordingly, children under the age of 13 may only use the Site or the Service with the permission and supervision of their parents. Additionally, teachers and schools seeking to use the Site or Service in the classroom with children under 13 years of age are required to obtain the express consent of such childrens parents in compliance with COPPA, prior to permitting such children to access or use the Site or Service.</p>\n        <h3>Can I invite others to join Poll Everywhere?</h3>\n        <p>Yes. If youd like to do that, we will ask you for the individuals email address for the sole purpose of inviting them to the Service. They are not added to our email list unless they register. All marketing communications from Poll Everywhere contain a link allowing recipients to unsubscribe from our mailing list.</p>\n        <h3>When might Poll Everywhere be required to disclose my personal information?</h3>\n        <p>We may disclose information about you (i) if we are required to do so by law or legal process (such as a court order or a subpoena), (ii) in response to a request by law enforcement authorities, or (iii) when we believe disclosure is necessary or appropriate (a) to prevent physical harm or financial loss or in connection with an investigation of suspected or actual illegal activity, or (b) to protect or defend the rights or property of Poll Everywhere, Users, Visitors, our business customers or others. We also reserve the right to transfer personal information in the event we sell, merge or transfer all or a portion of our business or assets. Should such a sale, merger or transfer occur, we will use reasonable efforts to direct the transferee to use the personal information in a manner that is consistent with our Privacy Policy. Following such a sale, merger or transfer, you may contact the entity to which we transferred your personal information with any inquiries concerning the processing of that information.</p>\n        <p>Where your personal information has been requested by any governmental entity or other third party pursuant to subpoena or similar legal process, we will notify you as quickly as practicable before providing any such information, unless we are legally prohibited from doing so or we believe in good faith that disclosure is or may be necessary to protect life, avoid serious physical injury or property loss or damage, or to prevent or investigate an ongoing crime.</p>\n        <h3>What practices does Poll Everywhere follow to secure my information?</h3>\n        <p>The security of your personal information is important to us. We follow standard industry practices to protect personal information, both during transmission and once we receive it.</p>\n        <p>Nevertheless, no method of transmission over the Internet or electronic storage is 100% secure. Therefore, we cannot guarantee its absolute security. If we discover a security incident that compromises your personal information, we will let you know about it, in accordance with applicable law.</p>\n        <h3>What about the practices of other websites linked to the Site or Service?</h3>\n        <p>Poll Everywhere Site, mobile Site and the Service may contain links to other websites, but please be aware that Poll Everywhere is not responsible for those websites privacy practices. Poll Everywhere encourages User and Visitors to be aware when they leave the Site and to read the privacy policies of each website they visit that collects personal information. This Privacy Policy applies solely to information collected on this Site and our mobile Site.</p>\n        <h3>How does Poll Everywhere help prevent outside parties from eavesdropping on me?</h3>\n        <p>Poll Everywhere uses SSL encryption and secure cookies to help prevent others from eavesdropping on you when you transfer personal information to Poll Everywhere. All pages and APIs involving the exchange of passwords or personal information are safeguarded this way. Please note that Poll Everywhere cannot guarantee that your ISP is not tracking your visits to Poll Everywhere and other sites, whether you are on our Site, the mobile Site, or our mobile application.</p>\n        <h3>Where can I send questions, comments or suggestions about Poll Everywhere's privacy practices?</h3>\n        <p>\n          Please contact us at\n          security@polleverywhere.com\n          or via mail at:\n        </p>\n        <p class='address'>\n          <span class='address-row address__name' itemprop='name'>Poll Everywhere, Inc.</span>\n          <span class='address-row address__description' itemprop='description'>Attn: Legal Department</span>\n          <span itemscope itemprop='address' itemtype='http://schema.org/PostalAddress'>\n            <span itemprop='streetAddress'>\n              <span class='address-row address__street'>1550 Bryant St.</span>\n              <span class='address-row address__street'>Suite 500</span>\n            </span>\n            <span class='address__city' itemprop='addressLocality'>San Francisco</span>\n            <span class='address__state' itemprop='addressRegion'>CA</span>\n            <span class='address__zip' itemprop='postalCode'>94103</span>\n          </span>\n        </p>\n        <p>PLEASE DO NOT SEND ANY SENSITIVE INFORMATION TO US VIA UNENCRYPTED EMAIL. Also, please note that we will need to verify and authenticate any emailed requests for access or changes to your personal or account information.</p>\n      </div>\n    </div>\n  </div>\n</section>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},OpOZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n("+B0W")),o=n("SXII"),a=u(n("hBlz")),s=u(n("6MBy")),l=u(n("7t+N"));function u(e){return e&&e.__esModule?e:{default:e}}var c=/\/\/[\w.^/]+\/([a-z0-9_]+)\/([\w]+)/i,p={clickable_image:"Clickable Image",free_text_poll:"Open-ended",multiple_choice_poll:"Multiple Choice",discourse:"Q&A",ranking_poll:"Rank Order",survey:"Survey",word_cloud:"Word Cloud"},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(){this.idAttribute="activity_url",this.urlRoot="/api/examples"}},{key:"type",value:function(){if(this.has("activity_type"))return this.get("activity_type");var e="",t=this.get("activity_url");if(t){var n=t.match(c);e=n?n[1]:""}return(0,o.singularize)(e)}},{key:"getBaseUrl",value:function(){var e=new a.default(this.get("activity_url"));return a.default.build({protocol:e.protocol(),hostname:e.hostname()})}},{key:"getPermalinkId",value:function(){var e=(this.has("activity_url")?this.get("activity_url"):"").match(c);return e?e[2]:""}},{key:"humanizedType",value:function(){return p[this.type()]||"Poll"}},{key:"getActivity",value:function(){var e=this,t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeFlashOptions,n=this.get("activity_url").replace("surveys","api/surveys");return l.default.getJSON(n).then(function(n){var i=(0,s.default)(n);if(t){var r=e.getBaseUrl()+"/"+i.flashOptions().url();return l.default.getJSON(r).then(function(e){return i.set("flash_options",e,{silent:!0}),Promise.resolve(i)})}return Promise.resolve(i)})}}]),t}();t.default=d},PKfJ:function(e,t){e.exports=function(){return function(e){return function(){return[].join("\n")}.call(e)}}.call(this)},PPLf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("qo6o")),o=s(n("rdLu")),a=s(n("Hf0w"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.resetParams=o.resetParams.bind(o),o.params=o.params.bind(o),o.query=o.query.bind(o),o.hasMore=o.hasMore.bind(o),o.loadMore=o.loadMore.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"initialize",value:function(){return this.on("reset",this.resetParams),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments)}},{key:"resetParams",value:function(){this.params({}).resetSearchParams(),this.trigger("reset:params")}},{key:"params",value:function(e){return this._filter||(this._filter=new r.default),null!=e?this._filter.set(e):this._filter.attributes}},{key:"query",value:function(e){return null==e&&(e={}),e.data=this.params(),this.fetch(e)}},{key:"hasMore",value:function(){return!!this.params().next_page}},{key:"loadMore",value:function(){var e=this,t=this.model.prototype.idAttribute||"id";return this.params({page:this.params().next_page}),this.query({remove:!1}).then(function(n){var i=o.default.pluck(n,t);return e.filter(function(e){return o.default.contains(i,e.get(t))})})}}]),t}();t.default=l},QBwT:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("6MBy"),s=(r=a)&&r.__esModule?r:{default:r},l=n("SXII");var u=/http:\/\/(\S+)\/(\S+_poll|discourse)s\/([\d\w]+)(\?[\S]*=[\S]*)?/i,c={keynote:"Keynote",ppt:"PowerPoint"},p=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.isActiveSlide=o.isActiveSlide.bind(o),o.pollInSlide=o.pollInSlide.bind(o),o.cleanseNotes=o.cleanseNotes.bind(o),o.appName=o.appName.bind(o),o.canInsertPoll=o.canInsertPoll.bind(o),o.canRemovePoll=o.canRemovePoll.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Model),o(n,[{key:"isActiveSlide",value:function(){return this.has("slideNumber")&&this.get("slideNumber")>0}},{key:"pollInSlide",value:function(){return this._extractPollFromUrlInText(this.get("bodyText")+this.get("notes"))}},{key:"cleanseNotes",value:function(e){null==e&&(e="");var t=e.replace(/Poll Title: .*\nhttp:\/\/www.polleverywhere.com\/.*\/.*/im,"");return t=(t=t.replace(this._extractPollUrlFromText(t),"")).replace(/<\?xml.*>[.\s\S]*<\/poll>/im,""),i.trim(t)}},{key:"appName",value:function(){return c[this.get("app")]}},{key:"canInsertPoll",value:function(e){var t=this._extractPollFromUrlInText(this.get("bodyText")+this.get("notes"));if(t)return!1;var n=0,i="";return this.get("isRunning")?(this.isActiveSlide()||(n+=1,i+="* You must have a slide selected\n"),null!=t&&(n+=1,t.get("permalink")===e.get("permalink")?i+="* Your selected poll is already detected on the current slide. Remove it first and then select a different poll.\n":i+="* There is already a poll detected on the current slide. Remove it first and then try again.\n")):(n+=1,i+="* "+this.appName()+" must be running\n"),0===n||(i=1===n?"Inserting a poll into "+this.appName()+" has a requirement that isn't met. Fix it and then try again: \n\n"+i:"Inserting a poll into "+this.appName()+" has "+n+" requirements that aren't met. Fix them and then try again: \n\n"+i)}},{key:"canRemovePoll",value:function(){var e;if(!(e=this._extractPollFromUrlInText(this.get("bodyText")+this.get("notes"))))return!1;var t=0,n="";return this.get("isRunning")||(t+=1,n+="* "+this.appName()+" must be running\n"),this.isActiveSlide()||(t+=1,n+="* You must have a slideshow open and a slide selected\n"),null==e&&(t+=1,n+="* There must be a poll already inserted on the slide to remove it. None was detected.\n"),0===t||(n=1===t?"Removing a poll from "+this.appName()+" has a requirement that isn't met. Fix it and then try again: \n\n"+n:"Removing a poll from "+this.appName()+" has "+t+" requirements that aren't met. Fix them and then try again: \n\n"+n)}},{key:"pollNotes",value:function(e){return"Poll Title: "+e.get("title")+"\n"+(0,l.url)(e.url())}},{key:"_extractPollUrlFromText",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(u);if(null!=e?e.length:void 0){var t=e[0];if(5===u.exec(t).length)return t}}},{key:"_extractPollFromUrlInText",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(u);if((null!=e?e.length:void 0)>0){var t=e[0],n=u.exec(t);if(5===n.length){var i=n[2],r=n[3];return(0,s.default)({type:(0,l.classify)(i),permalink:r,id:0})}}}},{key:"defaults",get:function(){return{slideNumber:0,bodyText:"",notes:""}}}]),n}();t.default=p}).call(t,n("32HH"),n("7t+N"))},QDWv:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=p(n("x4Pe")),s=p(n("coW0")),l=p(n("8SBv")),u=p(n("Ntp8")),c=p(n("Z0AN"));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.model.collection.poll,n=e.showKeywords&&t.get("sms_enabled");return e.$_element("keyword").toggleClass(e.className+"__keyword--hidden",!n)},f=function(e,t,n){var r=i("<div>").addClass(e.className+"__preview-content--"+n);return r.append(t),r},h=function(e,t){return e.model.set({value:t.url}),e.$input.val(t.url),y(e,"preview")},v=function(e,t){e.model.isImage()&&e.model.set({value:""},{silent:!0});var n=t.name+" <small>"+t.message+"</small>";return e.$error.html(f(e,n,"text")),e.model.trigger("error",t.message,e.model),y(e,"error")},g=function(e){return y(e,"progress")},y=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=["progress","preview","latex","error"],i=0;i<n.length;i++){var r=n[i];e.$el.removeClass(e.className+"--"+r)}if(e.$("."+e.className+"__btn--active").removeClass(e.className+"__btn--active"),t&&(e.$el.addClass(e.className+"--"+t),e.state=t,e.model.set({optionType:t}),e.$input.prop({disabled:!1})),e.showGrading){var o="progress"===t,a=e.$_element("correctness","hidden").className,s=e.$_element("dragger","hidden").className;e.$correctness.toggleClass(a,o),e.$dragger.toggleClass(s,o)}},m=function(e){var t=e.$(".component-editor-multiple-choice__option__image-alt");e.showAltText?t.val(e.model.get("alt_text")):t.hide()},b=function(t){return t.model.isLatex()?function(e){e.$input.val(e.model.get("value")),e.$preview.html(f(e,"","latex")),PollEv.Util.Latex.renderInto(e.$preview.find("."+e.className+"__preview-content--latex"),e.model.get("value")),y(e,"latex")}(t):t.model.isImage()?function(t){t.$_toggleModifier(t.$el,""+t.className,"error",!1);var n=f(t,null,"image");n.html(u.default);var i=n.find("img"),r=t.model.imageUrl();i.attr("src",r),i.on("load",function(){t.$preview.html(n),m(t),y(t,"preview")}),i.on("error",e.partial(v,t,{name:"",message:"Sorry, we had a problem finding that image"}))}(t):(t.$preview.empty(),y(t))},_=function(e){return b(e)},w=function(e){var t=e.model.get("keyword");return e.$keyword.find("input").val(t)},k=function(t){return w(t),t.$el.removeClass(t.className+"--keyword-error"),t.model.collection.poll.isSimpleKeywords()?t.model.collection.poll.isSimpleKeywords()&&("function"==typeof t.model.collection.poll.isCustomSessionKeywordFormat?t.model.collection.poll.isCustomSessionKeywordFormat():void 0)?function(t,n){var i=t.model.validateKeyword({sessionKeyword:!0});void 0!==i&&(t.$el.addClass(t.className+"--keyword-error"),t.$keywordStatus.text(i));var r=t.model.get("keyword")&&t.model.get("keyword").toLowerCase();if(r){/[^a-zA-Z\d]/.test(r)&&(t.$el.addClass(t.className+"--keyword-error"),t.$keywordStatus.text("Keyword can only contain numbers or letters"));var o=n.mcpOptions.without(t.model),a=e(o).map(function(e){return e.get("keyword")&&e.get("keyword").toLowerCase()});return e.contains(a,r)?(t.$el.addClass(t.className+"--keyword-error"),t.$keywordStatus.text("Keyword is already used")):void 0}}(t,t.model.collection.poll):void 0:t.validateGlobalKeyword()},O=function(e,t,n){return e.$_toggleModifier(e.$el,""+e.className,"error",!0),v(e,{name:"",message:t})},P=function(e,t){if("click"===t.type||"keydown"===t.type&&(32===t.keyCode||13===t.keyCode))return t.preventDefault(),e.model.set("correct_response",!e.model.isCorrect()),e.trigger("view:action","toggle_correctness",{value:e.model.isCorrect()})},E=function(e){var t=!!e.model.isCorrect();return e.$correctness.find("input").prop("checked",t),e.$correctness.find("span").attr("aria-checked",t),e.$_toggleModifier(null,""+e.className,"correct",t)},T=function(e){if(e.model.collection.poll.get("weighted_grading_enabled"))return e.$_element("points").removeClass(e.className+"__points--hidden"),e.$_element("points input").val(e.model.get("points"))},x=function(e){var t=e.model.collection.poll;"ranking_poll"===t.type()&&e.$_element("keyword").hide();var n="Custom"===t.get("session_keyword_format"),i=t.get("simple_keywords"),r=n&&i||!i&&e.showCustomGlobalKeywords;return e.$_element("keyword input").prop("disabled",!r)},S=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,(0,a.default)(this),(0,s.default)(this)),e.defaults(t,{showGrading:!1,showDelete:!1,showDragger:!1,showUpload:!0,showAltText:!1,showCustomGlobalKeywords:!1,showKeywords:!1}),this.showGrading=t.showGrading,this.showDelete=t.showDelete,this.showDragger=t.showDragger,this.showUpload=t.showUpload,this.showAltText=t.showAltText,this.showCustomGlobalKeywords=t.showCustomGlobalKeywords,this.showKeywords=t.showKeywords,this.listenTo(this.model,"change:value",e.partial(_,this)),this.listenTo(this.model,"change:correct_response",e.partial(E,this)),this.listenTo(this.model,"change:correct",e.partial(E,this)),this.listenTo(this.model,"change:keyword",e.partial(k,this)),this.listenTo(this.model,"change:points",e.partial(T,this)),this.listenTo(this.model,"change:alt_text",e.partial(m,this)),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"invalid",e.partial(O,this)),this.listenTo(this.model.collection.poll,"change:weighted_grading_enabled",function(e,t){var n,i,r;i=t,r=(n=this).$_element("points","hidden").className,n.$_element("points").toggleClass(r,!i)}),this.listenTo(this.model.collection.poll,"change:simple_keywords",function(){x(this)}),this.listenTo(this.model.collection.poll,"change:session_keyword_format",function(){x(this)}),this.listenTo(this.model.collection.poll,"change:sms_enabled",function(){d(this)})}},{key:"render",value:function(){this.$el.html(this.optionTpl()),this.$input=this.$_element("input"),this.$preview=this.$_element("preview"),this.$error=this.$_element("error"),this.$correctness=this.$_element("correctness"),this.$dragger=this.$_element("dragger"),this.$upload=this.$_element("upload"),this.$latex=this.$_element("latex"),this.$keyword=this.$_element("keyword"),this.$keywordStatus=this.$_element("keyword__status"),E(this),T(this),x(this),d(this);var t,n=this.$_element("correctness","hidden").className;return this.$correctness.toggleClass(n,!this.showGrading),this.$_toggleModifier(this.$el,this.className+"__upload","no-upload",!this.showUpload),this.$el.append((t=this,t.uploader=new l.default({name:"multiple-choice",endpoint:PollEv.env.get("image_bucket_url"),allowedExtensions:["image/*"]}).render(),t.listenTo(t.uploader,"success",e.partial(h,t)),t.listenTo(t.uploader,"error",e.partial(v,t)),t.listenTo(t.uploader,"progress",e.partial(g,t)),t.uploader).$el),this.$input.val(this.model.get("value")),this.$el.data("cid",this.model.cid),b(this),w(this),this.model.get("file")&&this.showUpload&&(this.uploader.uploadFile(this.model.get("file")),this.model.unset("file")),this}},{key:"remove",value:function(){this.uploader.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-editor-multiple-choice__option"}},{key:"optionTpl",get:function(){return c.default}},{key:"events",get:function(){return{"click .component-editor-multiple-choice__option__correctness":function(e){P(this,e)},"keydown .component-editor-multiple-choice__option__correctness":function(e){P(this,e)},"click .component-editor-multiple-choice__option__upload":function(){this.uploader.selectFile()},"click .component-editor-multiple-choice__option__image-delete":function(){var e;(e=this).$input.val(""),e.model.set({value:""})},"click .component-editor-multiple-choice__option__delete":function(){var e;(e=this).model.isNew()?e.model.collection.remove(e.model):(e.model.set({value:""}),e.model.unset("keyword"),e.remove(),e.model.collection.trigger("remove"))},"keyup .component-editor-multiple-choice__option__keyword":function(e){!function(e,t){if(!e.model.collection.poll.isSimpleKeywords()||("function"==typeof e.model.collection.poll.isCustomSessionKeywordFormat?e.model.collection.poll.isCustomSessionKeywordFormat():void 0))e.model.set("keyword",i(t.target).val().trim())}(this,e)},"change .component-editor-multiple-choice__option__points":function(e){!function(e,t){var n=t.target.value;e.model.set("points",parseFloat(n))}(this,e)},"change .component-editor-multiple-choice__option__image-alt":function(e){!function(e,t){var n=t.target.value;e.model.set("alt_text",n)}(this,e)},"input input":function(){var e;(e=this).model.set({value:e.$input.val()})},updateindex:function(e,t){!function(e,t,n){t.stopPropagation();var i=e.model.collection.indexOf(e.model);e.model.collection.models.splice(i,1),e.model.collection.models.splice(n,0,e.model)}(this,e,t)}}}}]),n}();t.default=S}).call(t,n("rdLu"),n("7t+N"),n("32HH"))},QQ7N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("32HH")),o=a(n("rdLu"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stop=this.stop.bind(this),this.start=this.start.bind(this),null==t&&(t={}),o.default.extend(this,r.default.Events),o.default.defaults(t,{mode:"firehose",serviceAreaId:null,multiplex:!0});var i=t;this.activity=i.activity,this.mode=i.mode,this.serviceAreaId=i.serviceAreaId,this.multiplex=i.multiplex,this.flashOptions="function"==typeof this.activity.flashOptions?this.activity.flashOptions():void 0,this.flashOptions&&(this.listenTo(this.flashOptions,"change:teamPollPermalink",function(){return n.stop(),n.start()}),this.listenTo(this.flashOptions,"change:chartType",function(){return n.stop(),n.start()}))}return i(e,[{key:"stop",value:function(){if("survey"!==this.activity.type())return this.activity.die(),clearTimeout(this.intervalTimeout)}},{key:"start",value:function(){var e=this;if("survey"!==this.activity.type()){var t,n,i,r={multiplex:this.multiplex,connected:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.splice(0,0,"connect"),e.trigger.apply(e,n)},disconnected:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.splice(0,0,"disconnect"),e.trigger.apply(e,n)},error:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.splice(0,0,"error"),e.trigger.apply(e,n)},failed:function(){return e.trigger("error","Connection failed",{activity:e.activity.attributes})}};return t=this.activity,n=this.flashOptions,i=this.serviceAreaId,"discourse"===t.type()||n.isSegmented()||n.get("teamPollArchiveId")||i>0||"polling"===this.mode?function e(t,n,i){return clearTimeout(t.intervalTimeout),t.activity.fetch({data:function(e){var t={};return e.serviceAreaId>0&&!e.flashOptions.isSegmented()&&"discourse"!==e.activity.type()&&(t.service_area_id=e.serviceAreaId),"free_text_poll"!==e.activity.type()&&"discourse"!==e.activity.type()||(t.limit=e.flashOptions.get("responseLimit")||25),t}(t)}).fail(n.error).always(function(){t.intervalTimeout=o.default.delay(e,i,t,n,i)})}(this,r,"free_text_poll"===this.activity.type()?5e3:3e3).then(r.connected):this.activity.live(r)}}}]),e}();t.default=s},QQdz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("hKAP")),a=c(n("sNMB")),s=c(n("av1e")),l=c(n("rdLu")),u=n("SXII");function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.otherRegion=o.otherRegion.bind(o),o.hasOtherRegion=o.hasOtherRegion.bind(o),o.findRegion=o.findRegion.bind(o),o.highestResponse=o.highestResponse.bind(o),o.isGraded=o.isGraded.bind(o),o.updateRegions=o.updateRegions.bind(o),o.toJSON=o.toJSON.bind(o),o.parse=o.parse.bind(o),o.processLiveResponse=o.processLiveResponse.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(e){if(null==e&&(e={}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.model_type=this.type(),this.regions=new s.default(this.attributes.options,{silent:!0}),this.regions.poll=this,this.on("change:options",this.updateRegions),!this.hasOtherRegion())return this.regions.add(new a.default({value:a.default.CLICKABLE_REGION_OTHER}))}},{key:"otherRegion",value:function(){return this.regions.find(function(e){return e.isOtherRegion()})}},{key:"hasOtherRegion",value:function(){return!l.default.isUndefined(this.otherRegion())}},{key:"findRegion",value:function(e,t,n,i){return this.regions.find(function(r){return r.containsRelativeXY(e,t,n,i)})||this.otherRegion()}},{key:"highestResponse",value:function(){return(null!=this.regions?this.regions.length:void 0)?this.regions.highestResult():null}},{key:"isGraded",value:function(){return this.regions.hasCorrect()}},{key:"updateRegions",value:function(){return this.regions.reset(this.attributes.options)}},{key:"toJSON",value:function(e){null==e&&(e={}),l.default.defaults(e,{root:!0});var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toJSON",this).apply(this,arguments);return(e.root?n[this.type()]:n).options=this.regions.invoke("toJSON"),n}},{key:"parse",value:function(e,n){return null==e&&(e={}),null==n&&(n={}),e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments),l.default.defaults(n,{resetOptions:!0}),e.options&&this.regions&&(l.default.each(e.options,function(e){e.humanized_value&&u.CLICKABLE_REGION_REGEX.test(e.humanized_value)&&e.value!==e.humanized_value&&(e.value=e.humanized_value)}),n.resetOptions?this.regions.reset(e.options,n):delete e.options),e}},{key:"processLiveResponse",value:function(e){var n,i=this;if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"processLiveResponse",this).apply(this,arguments),null==this.throttledUpdate&&(this.throttledUpdate=l.default.throttle(function(e){return i.set(i.parse(e))},1e3)),this.flashOptions().processLiveResponse(e),n=e[this.type()])return this.throttledUpdate(n)}},{key:"sendToListUrl",value:function(){}}],[{key:"initClass",value:function(){this.prototype.defaultType="clickable_image"}}]),t}();p.initClass(),t.default=p},QjUl:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("WSXn")),a=c(n("32HH")),s=c(n("zYjR")),l=c(n("sFe/")),u=c(n("hBlz"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.multiSort=o.multiSort.bind(o),o.inprogress=o.inprogress.bind(o),o.bulkDestroy=o.bulkDestroy.bind(o),o.fetch=o.fetch.bind(o),o.hasRecentRuns=o.hasRecentRuns.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"initialize",value:function(){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments),this.params=new a.default.Model({sort:"-updated_at"})}},{key:"multiSort",value:function(e,t){var i="polls"===e[0]?this.sortBy(function(e){return e.get("poll_ids").length}):this.sortBy(function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=Array.from(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(null!=t.get(s))return t.get(s).toLowerCase?t.get(s).toLowerCase():t.get(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}),r=new n("DESC"===t?i.reverse():i);return this.trigger("bulkActions:sort",r),r}},{key:"inprogress",value:function(){return this.filter(function(e){var t=e.state();return["unstarted","started"].includes(t)})}},{key:"bulkDestroy",value:function(e){var t=this,n=(0,u.default)(this.url).segment("bulk_destroy").addQuery("ids",e.join(","));return this.sync("delete",this,{url:n.toString()}).done(function(){return t.remove(e)})}},{key:"fetch",value:function(t){return null==t&&(t={}),t.data||(t.data={}),e.defaults(t.data,{search:this.params.get("search"),sort:this.params.get("sort")}),r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"fetch",this).call(this,t)}},{key:"hasRecentRuns",value:function(){var e=(0,l.default)().addWeeks(-2);return this.length>0&&this.any(function(t){return e.diffMilliseconds(t.get("finished_at"))>0})}}],[{key:"initClass",value:function(){this.prototype.model=s.default,this.prototype.url="/api/reports"}}]),n}();p.initClass(),t.default=p}).call(t,n("rdLu"))},Qkx0:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=d(n("hBlz")),s=d(n("+B0W")),l=d(n("tIMv")),u=d(n("a2bv")),c=d(n("Serd")),p=n("SXII");function d(e){return e&&e.__esModule?e:{default:e}}var f=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.include(c.default),o.deactivate=o.deactivate.bind(o),o.activate=o.activate.bind(o),o.url=o.url.bind(o),o.copyUrl=o.copyUrl.bind(o),o.showUrl=o.showUrl.bind(o),o.cleanTitle=o.cleanTitle.bind(o),o.type=o.type.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),r(n,[{key:"deactivate",value:function(){var t=this;return e.ajax({url:"/api/activation",method:"DELETE",data:{user_id:this.get("owner_id")}}).then(function(){t.presenter.set("active",!1),t.set("current",!1)})}},{key:"activate",value:function(){var t=this;return e.ajax({url:"/api/activation",method:"PUT",data:{type:this.type(),uid:this.get("permalink")}}).then(function(){t.presenter.set("active",!0),t.set("current",!0)})}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments),this.include(l.default),this.initSubModel("presenter"),this.polls=new u.default,this.polls.comparator="position",this.polls.competition=this,(null!=e.polls?e.polls.length:void 0)&&this.polls.set(u.default.pollsToModels(e.polls),{add:!0,remove:!0,merge:!0})}},{key:"url",value:function(){var e=(0,a.default)("/api/competitions"),t=this.get("id")?this.get("id"):this.get("permalink");return t?e.segment(""+t).toString():e.toString()}},{key:"type",value:function(){return"competition"!==this.get("type")&&this.set({type:"competition"},{silent:!0}),this.get("type")}},{key:"cleanTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.cleanString)(this.get("title"),e)}},{key:"showUrl",value:function(){return this.has("permalink")?(0,a.default)("/competitions").segment(this.get("permalink")).toString():""}},{key:"copyUrl",value:function(){return this.has("id")?(0,a.default)("/api/competitions").segment(this.get("id").toString()).segment("copy").toString():""}},{key:"toJSON",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.pick(this.modelProperties);return e.polls=this.polls.invoke("toJSON").filter(function(e){return!i.isEmpty(e)}),e}},{key:"parse",value:function(e,t){var i=this;return this.polls&&(this.polls.set(u.default.pollsToModels(e.polls),t),this.polls.forEach(function(e){e.set({group_id:null,survey_id:null,competition_id:i.id})})),o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parse",this).call(this,e,t)}},{key:"requiresRegistration",value:function(){return!!this.get("registered_participants_only")}},{key:"modelProperties",get:function(){return["display_state","group_id","id","owner_id","owner_login","permalink","polls","title"]}}]),n}();t.default=f}).call(t,n("32HH"),n("rdLu"))},"RI/6":function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n("x4Pe")),s=u(n("9szz")),l=u(n("YFaT"));function u(e){return e&&e.__esModule?e:{default:e}}var c=null,p=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.extend(this,(0,a.default)(this)),this.options=i.defaults(e,this.defaults),this.groups=this.collection||new PollEv.Model.Groups,this.groups.comparator="sequence",this.groupsView=new s.default(i.extend(this.options,{collection:this.groups})),this.listenTo(this.groupsView,"all",this.trigger),this.$el.attr("data-id",this.model.id)}},{key:"render",value:function(){return this.$el.html(this.template()),this.$el.append(this.groupsView.render().$el),this.options.collapsible||this.$_element("header").remove(),this.$_element("name").text(this.model.fullName()),this.options.collapsible&&this.$_toggleModifier(null,this.className,"collapsed",this.options.collapsed),(this.options.collapsible&&!this.options.collapsed||!this.options.collapsible)&&this.groups.isEmpty()&&this.reload(),this}},{key:"reload",value:function(){var t,n,i,r,o,a=this;this.$_toggleModifier(null,this.className,"loading",!0),(t=this,n={data:{user_id:t.model.id,is_survey:!1,uncollapsed:!0,type:t.options.group.filter?t.options.group.filter.type:null,include_shared_activity_groups:t.options.group.showSharingDetails}},i=t.groups.fetch(n),r=new PollEv.Model.ActivityCollection,o=r.fetch(n),e.when(i,o).then(function(){t.groups.map(function(e){return e.activities.set([]),e.set({filter:{type:t.options.group.filter?t.options.group.filter.type:null}})}),r.each(function(e){var n=e.get("group_id")||-1,i=t.groups.get(n);e.set({group_id:n}),i.set({loaded:!0}),i.activities.add(e.clone())})})).then(function(){a.trigger("loading:done"),a.$_toggleModifier(null,a.className,"loading",!1)})}},{key:"getSelected",value:function(){var t=i.map(this.$("[type='checkbox']:checked"),function(t){return e(t).closest("[data-type]").data("model")});return i.compact(t)}},{key:"clearSelected",value:function(){this.$("[type='checkbox']:checked").prop("checked",!1)}},{key:"setSelected",value:function(e){var t=this;this.clearSelected(),e.forEach(function(e){var n=void 0;if(e instanceof PollEv.Model.Group)n=t.$(".component-activity-selector__group[data-id='"+e.get("id")+"'][data-user-id='"+e.get("owner_id")+"'] .component-activity-selector__group__header input:checkbox");else if(e instanceof PollEv.Model.Survey)n=t.$(".component-activity-selector__survey[data-id='"+e.get("id")+"'] .component-activity-selector__survey__header input:checkbox");else if(e instanceof PollEv.Model.Competition)n=t.$(".component-activity-selector__competition[data-id='"+e.get("id")+"'] .component-activity-selector__competition__header input:checkbox");else{var i=t.$(".component-activity-selector__poll[data-id='"+e.get("id")+"']").closest(".component-activity-selector__survey");i.is(".component-activity-selector__survey--expanded")||i.find(".component-activity-selector__survey__arrow-icon").click(),n=t.$(".component-activity-selector__poll[data-id='"+e.get("id")+"'] input:checkbox")}n.is(":checked")||n.click()})}},{key:"remove",value:function(){this.groupsView.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-activity-selector__user"}},{key:"template",get:function(){return l.default}},{key:"events",get:function(){return{"click .component-activity-selector__user__header":function(e){!function(e,t){t.preventDefault();var n=e.$_hasModifier(null,e.className,"collapsed");e.$_toggleModifier(null,e.className,"collapsed",!n),n&&e.groups.isEmpty()&&e.reload()}(this,e)},"click [type='checkbox']":function(t){!function(t,n){var r=e(n.target).is(":checked");if(c||(c=e(n.target)),n.shiftKey){var o=e("[type='checkbox']").index(e(n.target)),a=e("[type='checkbox']").index(c),s=i.sortBy([o,a]);e("[type='checkbox']").slice(s[0],s[1]+1).prop("checked",r).change()}c=e(n.target),t.trigger("check",t.getSelected())}(this,t)}}}},{key:"defaults",get:function(){return{collapsed:!1,collapsible:!0,group:{},survey:{},competition:{},poll:{}}}}]),n}();t.default=p}).call(t,n("7t+N"),n("rdLu"),n("32HH"))},Re3r:function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},S6E8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("+B0W"),o=(i=r)&&i.__esModule?i:{default:i};var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();t.default=a},SN4m:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("tRaw"),o=(i=r)&&i.__esModule?i:{default:i};var a=function(t){var n={},i=["active_activity","activity_type","activity_validator","shared_title","shared_title_image"];for(var r in t.attributes)e.contains(i,r)||(n[r]=void 0);return t.set(n,{unset:!0})};t.default={"multiple-choice":{model:"MultipleChoicePoll",view:"MultipleChoice",shared_title:!0,shared_title_image:!0,clear:function(e){return a(e),e.mcpOptions.reset(),e.mcpOptions.add([new PollEv.Model.MCPOption,new PollEv.Model.MCPOption])}},"word-cloud":{model:"FreeTextPoll",view:"OpenEnded",shared_title:!0,clear:function(e){a(e),e.flashOptions().set({fancyThemeEffect:"wordcloud"})}},"up-down-vote":{model:"Discourse",view:"OpenEnded",shared_title:!0,clear:a},competition:{model:"Competition",view:"Competition",shared_title:!0,clear:function(e){a(e),e.set(e.defaults);var t=new o.default({competition:e,type:"multiple-choice"});return e.polls.set([t],{add:!0,remove:!0,merge:!1})}},"rank-order":{model:"RankingPoll",view:"MultipleChoice",shared_title:!0,shared_title_image:!0,clear:function(e){return a(e),e.mcpOptions.reset(),e.mcpOptions.add([new PollEv.Model.MCPOption,new PollEv.Model.MCPOption])}},"clickable-image":{model:"ClickableImage",view:"ClickableImage",shared_title:!0,clear:function(e){e.unset("options",{silent:!0}),a(e);var t=e.otherRegion(),n=e.regions.filter(function(e){return e!==t});return e.regions.remove(n),e.typeOptions.clear()}},survey:{model:"Survey",view:"Survey",shared_title:!0,clear:function(e){a(e),e.set(e.defaults);var t=new o.default({survey:e,type:"multiple-choice"});return e.polls.set([t],{add:!0,remove:!0,merge:!1})}},"open-ended-text":{model:"FreeTextPoll",view:"OpenEnded",shared_title:!0,clear:a},"donut-chart":{model:"MultipleChoicePoll",view:"MultipleChoice",validator:"multiple-choice",clear:function(t){a(t);t.set({title:"Which region has the greatest market share?",options:e.map(["North America","South America","Asia","Europe","Australia & Pacific Islands"],function(e){return{value:e}})}),t.flashOptions().setChartType("donut")}},"numeric-scale":{model:"MultipleChoicePoll",view:"MultipleChoice",validator:"multiple-choice",clear:function(t){return a(t),t.set("title","On a scale of 0 to 10, how likely are you to recommend this to a friend or a colleague?"),t.mcpOptions.reset(e.map(e.range(0,11),function(e){return{value:""+e}}))}},icebreaker:{model:"FreeTextPoll",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"What one word would you use to describe yourself?"}),e.flashOptions().set({fancyThemeEffect:"wordcloud"})}},upvote:{model:"Discourse",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"What should we prioritize?"})}},leaderboard:{model:"MultipleChoicePoll",view:"MultipleChoice",validator:"multiple-choice",clear:function(t){a(t),t.set({title:"Vote for your favorite team. We'll show the top five.",options:e.map(e.range(1,21),function(e){return{value:"Team "+e}})},{parse:!0}),t.flashOptions().set({leaderboard:!0,leaderboardLength:5})}},"emotion-scale":{model:"ClickableImage",view:"ClickableImage",validator:"clickable-image",clear:function(e){a(e),e.set({title:"How are you feeling today?",type_options:{imageUrl:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/smiles.png"}})}},"self-paced-quiz":{model:"Survey",view:"Survey",validator:"survey",clear:function(t){var n=e.map(["1 - Poor","2 - Fair","3 - Average","4 - Good","5 - Excellent"],function(e){return{value:""+e}});a(t);var i=[new PollEv.Model.MultipleChoicePoll({title:"How would you rate the content?",options:n},{parse:!0}),new PollEv.Model.MultipleChoicePoll({title:"How would you rate the presenter?",options:n},{parse:!0}),new PollEv.Model.FreeTextPoll({title:"What did you like most about this session?"}),new PollEv.Model.FreeTextPoll({title:"How would you improve this session?"})];t.set({title:"Presentation feedback"}),t.polls.set(i.map(function(e){return new o.default({poll:e,survey:t})}),{add:!0,remove:!0,merge:!1})}},spotlight:{model:"FreeTextPoll",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"Please submit questions for our leadership panel."}),e.flashOptions().set({fancyThemeEffect:"spotlight"})}},retrospective:{model:"Discourse",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"How did we do this week? What did we learn?"})}},"assign-teams":{model:"MultipleChoicePoll",view:"MultipleChoice",validator:"multiple-choice",clear:function(t){a(t),t.set({title:"Which team are you on?",options:e.map(e.range(1,11),function(e){return{value:"Team "+e}})},{parse:!0})}},discussion:{model:"Discourse",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"What topic should we discuss next?"}),e.flashOptions().set({fancyThemeEffect:"wordcloud"})}},brainstorm:{model:"Discourse",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"What are your best ideas? You can vote on the ideas submitted."})}},"priority-ranking":{model:"RankingPoll",view:"MultipleChoice",validator:"rank-order",clear:function(t){a(t),t.set({title:"How important are these attributes?",options:e.map(["Speed","Quality","Price"],function(e){return{value:""+e}}),responses_per_option:1},{parse:!0})}},"select-on-map":{model:"ClickableImage",view:"ClickableImage",validator:"clickable-image",clear:function(e){a(e),e.set({title:"Where are you from?",type_options:{imageUrl:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/world_map.png"}})}},"short-answer":{model:"FreeTextPoll",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"If you could improve one thing, what would it be?"})}},"bulletin-board":{model:"FreeTextPoll",view:"OpenEnded",validator:"open-ended-text",clear:function(e){a(e),e.set({title:"What do you like most about your job?"}),e.flashOptions().set({fancyThemeEffect:"cluster",showTimestamps:!1,messageShowShadow:!1})}},"2x2-matrix":{model:"ClickableImage",view:"ClickableImage",validator:"clickable-image",clear:function(e){a(e),e.set({title:"Rate this project in terms of urgency and importance. Rate important projects on top. Rate a very urgent project to the left.",type_options:{imageUrl:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/two-axis-quadrants.png"}})}}}}).call(t,n("rdLu"))},SUAT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=u(n("rdLu")),a=u(n("WSXn")),s=u(n("32HH")),l=u(n("82hR"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this,e),this.model=l.default,this.url="/api/groups/shared",this.params=new s.default.Model({})}},{key:"fetch",value:function(e){return null==e&&(e={}),e.data||(e.data={}),o.default.defaults(e.data,{search:this.params.get("search"),sort:this.params.get("sort")}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}}]),t}();t.default=c},SXII:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.inDOM=t.FIND_LINKS_REGEXP=t.batchCallFunction=t.regexSearch=t.compareInt=t.autolink=t.truncate=t.randomSentence=t.randomArrayItem=t.timeoutPromise=t.ordinalize=t.pluralize=t.singularize=t.vanityUrl=t.url=t.classify=t.formatTime=t.formatDate=t.pollTypeToIcon=t.modelType=t.rootKey=t.popRootKeys=t.hasRootKey=t.popRootKey=t.paramsFromLocation=t.params=t.deepDefaults=t.cleanString=t.proxiedImageUrl=t.visualizeImageRegion=t.commaFormat=t.capitalize=t.sum=t.mod=t.timedChunk=t.CLICKABLE_REGION_REGEX=t.EMAIL_REGEXP=t.LATEX_REGEX=t.UPLOADED_IMAGE_REGEX=t.IMAGE_REGEX=t.IS_NUMBER_RE=t.str=void 0;var r=c(n("sFe/")),o=c(n("9nM1")),a=c(n("hBlz")),s=c(n("1v9S")),l=c(n("rdLu")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("xok8"));function c(e){return e&&e.__esModule?e:{default:e}}var p={clickable_image:"clickable-image",free_text_poll:"free-text-poll",multiple_choice_poll:"multiple-choice-poll",discourse:"discourse",ranking_poll:"ranking-poll"},d=["strong","em","br"],f=(t.str=u,t.IS_NUMBER_RE=/^\d+$/),h=(t.IMAGE_REGEX=/^https?:\/\/.+\/[^/?]+\.(?:png|jpe?g|gif|image)[^,]*$/i,t.UPLOADED_IMAGE_REGEX=/^https?:\/\/s3\.amazonaws\.com\/polleverywhere-images\//i,t.LATEX_REGEX=/^latex:(.+)/i,t.EMAIL_REGEXP=/([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})/i,t.CLICKABLE_REGION_REGEX=/^region:\s*(\d+\.?\d*)%,(\d+\.?\d*)%(\|(\d+\.?\d*)%x(\d+\.?\d*)%)?(?:\#(.+))?$/i,t.timedChunk=function(t,n,r,o){var a=t.concat(),s=0,l=e.Deferred();return i(function u(){e.when().then(function(){return n.call(r,a.shift(),s++)}).then(function(){a.length>0?i(u):(void 0!==o&&o(t),l.resolve(t))})}),l.promise()},t.mod=function(e,t){var n=e%t;return n<0&&t>0&&(n+=t),n},t.sum=function(e){var t=l.default.compact(e);return l.default.inject(t,function(e,t){return e+=t},0)},t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.commaFormat=function(e){return null==e&&(e=""),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.visualizeImageRegion=function(t,n){null==t&&(t=""),null==n&&(n=!1);var i=t.split(","),r=i[0].replace("region: ",""),o=i[1];if(!r||!o)return"";var a=e("<div>",{class:"cip-viz"});n||a.append('<div class="cip-viz--explanation">Clicked image region</div>');var s=e("<div>",{class:"cip-viz--background",css:{border:"1px solid black",width:"50px",height:"50px",position:"relative"}}),l=e("<div>",{class:"cip-viz--region",css:{width:"15%",height:"15%",position:"absolute",background:"black",left:r,top:o}});return s.append(l),a.append(s)},t.proxiedImageUrl=function(e,t){null==e&&(e=""),null==t&&(t={}),e=e.toString();var n=o.default.get("imgix_url");return n?(l.default.defaults(t,{dpr:window.devicePixelRatio}),new s.default({host:n.host(),secureURLToken:o.default.get("imgix_token")}).buildURL(e,t)):e},t.cleanString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?u.clean(function(e,t){return t=l.default.intersection(t,d),String(e).replace(/<\/?([^>]+)>/g,function(e,n){return l.default.include(t,n)?e:" "})}(e,t.whitelist)):""},t.deepDefaults=function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(i.length>1)i.forEach(function(n){return e(t,n)});else{var o=i[0];l.default.defaults(t,o),l.default.each(o,function(n,i){l.default.isObject(n)?e(t[i],o[i]):l.default.isNull(t[i])&&(t[i]=o[i])})}return t},t.params=function(e){var t=(0,a.default)(e).query(!0);for(var n in t){var i=t[n];f.test(i)&&(t[n]=parseInt(i))}return t}),v=(t.paramsFromLocation=function(){return h(window.location.href)},t.popRootKey=function(e){return null!=e&&g(e)?l.default.values(e)[0]:e}),g=t.hasRootKey=function(e){return 1===l.default.values(e).length},y=(t.popRootKeys=function(e){return l.default.map([].concat(e),function(e){return v(e)})},t.rootKey=function(e,t){var n={};return n[e]=t,n},t.modelType=function(e){return g(e)?l.default.first(l.default.keys(e)):e.type||e.poll_type},t.pollTypeToIcon=function(e){return p[e]||""},t.formatDate=function(e){return(0,r.default)(e).toString("MMM d, yyyy")},t.formatTime=function(e){return(0,r.default)(e).toString("MMM d, yyyy 'at' h:mmtt")},t.classify=function(e){return{multiple_choice_poll:"MultipleChoicePoll",free_text_poll:"FreeTextPoll",discourse:"Discourse",clickable_image:"ClickableImage",ranking_poll:"RankingPoll",survey:"Survey",competition:"Competition"}[e]},t.url=function(t,n){null==n&&(n={});var i=(0,a.default)(t).absoluteTo(o.default.get("api_url"));return(null!=e.os?e.os.android:void 0)&&i.setQuery("cache_buster",(new Date).getTime().toString()),i},t.vanityUrl=function(e){var t=void 0;return"file"===o.default.get("root_url").protocol()?((t=o.default.get("root_url").normalize()).path(t.path().replace("pollev.com","PollEv.com")),""+t.path()+e):((t=o.default.get("root_url").path(e).normalize()).host(t.host().replace("pollev.com","PollEv.com")),""+t.host()+t.path())},t.singularize=function(e){return e.replace(/s$/,"")},t.pluralize=function(e,t,n){null==n&&(n={});var i=1===e?t:{person:"people",Person:"People",this:"these",This:"These",Activity:"Activities",activity:"activities"}[t]||t+"s";return n.includeNumber?e+" "+i:i},t.ordinalize=function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])},t.timeoutPromise=function(e,t){return setTimeout(function(){if("pending"===e.state())return e.reject("Timed out after "+t+"!")},t)},t.randomArrayItem=function(e){return e[l.default.random(e.length-1)]}),m=(t.randomSentence=function(){var e=[" Lorum"," Ipsum"," Dolor"," Sit"," Amet"," Eiusmod"],t="";return(0,l.default)(l.default.random(2,8)).times(function(){t+=y(e)}),t},t.truncate=function(e,t,n){null==n&&(n=" ");var i=e.split(n),r=i.slice(0,t).join(n);return i.length>t&&(r+="..."),r},t.autolink=function(e){return e.replace(m,function(e,t,n,i){return null==n&&(n=""),t+'<a href="'+(n||"http://")+i+'" target="_blank">'+n+i+"</a>"})},t.compareInt=function(e,t){return null==e&&(e=0),null==t&&(t=0),e>t?-1:t>e?1:0},t.regexSearch=function(e){return e=String(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"),new RegExp(e,"i")},t.batchCallFunction=function(e,t){var n=[],i=setInterval(function(){n.length&&(t.call(this,n),n=[])},e),r=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.push(t)};return r.stop=function(){return clearInterval(i)},r},t.FIND_LINKS_REGEXP=new RegExp("(^|[\\s\\n\\r])(?![a-z]+=['\"])(https?://)?((?:\\S+(?::\\S*)?@)?(?:(?:(?:\\d{1,3}\\.){3}\\d{1,3})|\\[([0-9a-fA-F]{1,4}::?){1,7}[0-9a-fA-F]{1,4}\\]|(?:xn--[a-z0-9\\-]{1,59}|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?){0,62}[a-z\\u00a1-\\uffff0-9]{1,63}))(?:\\.(?:xn--[a-z0-9\\-]{1,59}|(?:[a-z\\u00a1-\\uffff0-9]+-?){0,62}[a-z\\u00a1-\\uffff0-9]{1,63}))*(?:\\.(?:xn--[a-z0-9\\-]{1,59}|(?:[a-z\\u00a1-\\uffff]{2,63}))))(?::\\d{2,5})?(?:/[^\\s]*)?)","ig"));t.inDOM=function(t){var n=e.Deferred();if(e.contains(document.body,t))return n.resolve(t),n;var i=new window.MutationObserver(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(e){if(Array.from(e.addedNodes).indexOf(t)>=0)return n.resolve(t),!0})});return i.observe(document.body,{childList:!0,subtree:!0}),n.always(function(){i.disconnect()}),n}}).call(t,n("7t+N"),n("162o").setImmediate)},SaVT:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg width='150' height='104' viewBox='0 0 150 104' xmlns='http://www.w3.org/2000/svg'>\n  <title>vote-oep</title>\n  <g fill='none' fill-rule='evenodd'>\n    <path d='M111.7 68.1H39.9c-.9 0-1.7-.8-1.7-1.7 0-.9.8-1.7 1.7-1.7h71.8c.9 0 1.7.8 1.7 1.7 0 .9-.8 1.7-1.7 1.7zM104.9 75.8h-65c-.9 0-1.7-.8-1.7-1.7 0-.9.8-1.7 1.7-1.7h65c.9 0 1.7.8 1.7 1.7 0 .9-.8 1.7-1.7 1.7z' fill='#4F4F4F' opacity='.7'></path>\n    <path d='M120 55.8H31.6c-3.2 0-5.8 2.6-5.8 5.8v17.6c0 3.2 2.6 5.8 5.8 5.8h.5v8.6c0 .5.1 1.1.5 1.5.4.4.9.6 1.4.6.5 0 1-.2 1.4-.6L45.5 85H120c3.2 0 5.8-2.6 5.8-5.8V61.6c0-3.2-2.6-5.8-5.8-5.8zm1.9 23.4c0 1.1-.9 1.9-1.9 1.9H44.8c-.5 0-1 .1-1.4.5L36 89v-6c0-1.1-.9-1.9-1.9-1.9h-2.4c-1.1 0-1.9-.9-1.9-1.9V61.6c0-1.1.9-1.9 1.9-1.9H120c1.1 0 1.9.9 1.9 1.9v17.6z' fill='#60E2DC'></path>\n    <path d='M111.7 21.2H39.9c-.9 0-1.7-.8-1.7-1.7 0-.9.8-1.7 1.7-1.7h71.8c.9 0 1.7.8 1.7 1.7 0 1-.8 1.7-1.7 1.7zM104.9 28.9h-65c-.9 0-1.7-.8-1.7-1.7 0-.9.8-1.7 1.7-1.7h65c.9 0 1.7.8 1.7 1.7 0 .9-.8 1.7-1.7 1.7z' fill='#4F4F4F' opacity='.7'></path>\n    <path d='M120 8.9H31.6c-3.2 0-5.8 2.6-5.8 5.8v17.6c0 3.2 2.6 5.8 5.8 5.8h.5v8.6c0 .5.1 1.1.5 1.5.4.4.9.6 1.4.6.5 0 1-.2 1.4-.6L45.5 38H120c3.2 0 5.8-2.6 5.8-5.8V14.7c0-3.2-2.6-5.8-5.8-5.8zm1.9 23.4c0 1.1-.9 1.9-1.9 1.9H44.8c-.5 0-1 .1-1.4.5L36 42.1v-6c0-1.1-.9-1.9-1.9-1.9h-2.4c-1.1 0-1.9-.9-1.9-1.9V14.7c0-1.1.9-1.9 1.9-1.9H120c1.1 0 1.9.9 1.9 1.9v17.6z' fill='#60E2DC'></path>\n  </g>\n</svg>"),e.join("\n")}.call(e)}}.call(this)},Serd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("rdLu")),r=a(n("eaou")),o=a(n("6MBy"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){switch(e.type()){case"survey":return e.polls;default:return e.activities}},l=function(e,t){return s(e).findWhere({permalink:t})};t.default=function(e){return e.include(r.default),{liveChannel:function(){return"surveys/"+e.get("permalink")+"/firehose.json"},processLiveResponse:function(t){return t.permalink?e.set({permalink:t.permalink}):e.unset("permalink"),function(e,t,n){var i=t.reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{});e.set(i)}(e,["name","current","is_full_page","is_survey","activities_count"],t),function(e,t){var n=t.length,i=s(e).length;return n>i?e.addNewPolls(t):n<i?e.removeOldPolls(t):e.sortPolls(t)}(e,t.polls||[])},addNewPolls:function(t){return t.forEach(function(t){if(!l(e,t.permalink)){var n=function(e,t){var n=(0,o.default)(t);return n.fetch(),n}(0,t);return function(e,t){var n=s(e);return n.add(t),n.sort(),e.trigger("poll:added")}(e,n)}})},removeOldPolls:function(t){return function(e,t){var n=s(e).pluck("permalink"),r=t.map(function(e){return e.permalink});return i.default.difference(n,r)}(e,t).forEach(function(t){var n=l(e,t);return function(e,t){var n=s(e);return n.remove(t),n.sort(),e.trigger("poll:removed")}(e,n)})},sortPolls:function(t){var n=!1;if(s(e).each(function(e,i){e.get("position")!==t[i].position&&(n=!0)}),n)return t.forEach(function(t){var n=l(e,t.permalink);return null!=n?n.set("position",t.position):void 0}),s(e).sort(),e.trigger("polls:reordered")}}}},T2md:function(e,t,n){"use strict";var i,r=n("3KIq"),o=(i=r)&&i.__esModule?i:{default:i};window.PollEv=o.default},TicV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("rdLu"),o=(i=r)&&i.__esModule?i:{default:i};var a=/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i,s={intToHex:function(e){return null!=e?"#"+("000000"+e.toString(16)).slice(-6):void 0},bestContrast:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=(0,o.default)(n).max(function(t){return s.contrast(e,t)});return r===-1/0?void 0:r},contrast:function(e,t){var n=s.luminosity(e),i=s.luminosity(t);if(null!=n&&null!=i)return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)},hexToRgb:function(e){if("string"==typeof e)return 3===(e=e.replace(/^#/,"")).length&&(e=e.replace(/(.)/g,"$1$1")),6===e.length?{red:parseInt(e.substr(0,2),16),green:parseInt(e.substr(2,2),16),blue:parseInt(e.substr(4,2),16)}:void 0},luminosity:function(e){var t=void 0,n=void 0;if(null==e&&(e={}),n=null!=e.red&&null!=e.green&&null!=e.blue?e:(t="function"==typeof e.match?e.match(a):void 0)?{red:t[1],green:t[2],blue:t[3]}:s.hexToRgb(e)){var i=n,r=i.red,o=i.green,l=i.blue;return.2126*(r=s.linearise(r))+.7152*(o=s.linearise(o))+.0722*(l=s.linearise(l))}},linearise:function(e,t){return null==t&&(t=255),Math.pow(e/t,2.2)}};t.default=s},"Tp+a":function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n("geHz");var s=function(t){function n(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),PollEv.app)throw Error("PollEv.app already initialized with '"+PollEv.app.appName+"'");var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.routes.logout||e.route("logout","logout"),e.routes.login||e.route("login",function(){var e=this,t=i.Deferred();t.done(function(){e.navigate(e.defaultRoute)}),this.login.apply(this,[t].concat(Array.prototype.slice.call(arguments)))}.bind(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Router),o(n,[{key:"appName",get:function(){return"Poll Everywhere App"}},{key:"defaultRoute",get:function(){return""}}]),o(n,[{key:"preinitialize",value:function(){PollEv.app=this,this.user=new PollEv.Model.User,this.participant=new PollEv.Model.Participant,this.session=new PollEv.Model.Session(this.user,this.participant),this.env=PollEv.env,this.env.get("logging_enabled")&&this.on("all",function(){return this.log("App Event",arguments)}.bind(this))}},{key:"login",value:function(){throw new Error("Implement in subclass")}},{key:"logout",value:function(){var e=this;return this.session.destroy().then(function(){return e.navigate(e.defaultRoute)})}},{key:"start",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pushState:!0,showSpinner:!0};if(!this.view)throw Error("Specify a view property in the initialize method of the router");var r=n.pushState;return n.el.append(this.view.render().$el),i("header").toggleVisibility(!1),n.showSpinner&&PollEv.app.trigger("spinner:show"),e.history.start({pushState:r,silent:!0}),PollEv.isCordovaApp?i(document).on("deviceready",function(){return navigator.connection.type===Connection.NONE?i(document).on("online",t.triggerInitialRoute.bind(t)):t.triggerInitialRoute()}):this.triggerInitialRoute(),this}},{key:"triggerInitialRoute",value:function(){var t=this;return this.session.start().always(function(){return t.loginWithParams().done(function(){return PollEv.app.trigger("spinner:hide"),i("header").toggleVisibility(!0),e.history.loadUrl()})})}},{key:"loginWithParams",value:function(){var e=i.Deferred(),t=PollEv.Util.paramsFromLocation();return null!=(null!=t?t.username:void 0)?this.session.authenticate(t.username,t.password).always(function(){return e.resolve()}):e.resolve(),e.promise()}},{key:"location",value:function(){return window.location.pathname.substring(1)}},{key:"navigateBack",value:function(){return e.history.history.back()}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r.defaults(t,{trigger:!0}),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"navigate",this).call(this,e,t)}},{key:"log",value:function(){if(this.env.get("logging_enabled")){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return"undefined"!=typeof console&&null!==console?(e=console).log.apply(e,a(Array.from(n||[]))):void 0}}},{key:"title",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appName;return"undefined"!=typeof document&&null!==document&&(document.title=e),this.trigger("change:title",e)}},{key:"userRequired",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=i.Deferred();return a.done(function(){return e.apply(t,r)}),this.user.isLoggedIn()?a.resolve():this.login(a)}},{key:"participantRequired",value:function(e,t){return this.loadParticipant().then(function(){return e.apply(void 0,a(Array.from(t||[])))})}},{key:"loadParticipant",value:function(){return this.user.isLoggedIn()?this.participant.id===this.user.get("participant_id")?i.Deferred().resolve():(this.participant.id=this.user.get("participant_id"),this.participant.baseUrl="/api/participants",this.participant.fetch()):this.participant.save()}}]),n}();t.default=s}).call(t,n("32HH"),n("7t+N"),n("rdLu"))},Tw0i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i},s=n("SXII");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"parse",value:function(e){return(0,s.popRootKey)(e)}}]),t}();t.default=l},UA47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("hBlz")),a=c(n("rdLu")),s=c(n("hKAP")),l=c(n("tm8m")),u=c(n("73n1"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.summaryTableUrl=o.summaryTableUrl.bind(o),o.validateOptions=o.validateOptions.bind(o),o.hasImageOption=o.hasImageOption.bind(o),o.hasLatexOption=o.hasLatexOption.bind(o),o.hasAlphaNumericKeyword=o.hasAlphaNumericKeyword.bind(o),o.highestResponse=o.highestResponse.bind(o),o.onAddOption=o.onAddOption.bind(o),o.onRemoveOption=o.onRemoveOption.bind(o),o.isGraded=o.isGraded.bind(o),o.updateOptions=o.updateOptions.bind(o),o.toJSON=o.toJSON.bind(o),o.isCustomSessionKeywordFormat=o.isCustomSessionKeywordFormat.bind(o),o.parse=o.parse.bind(o),o.processLiveResponse=o.processLiveResponse.bind(o),o.toggleGradingEnabled=o.toggleGradingEnabled.bind(o),o.hasCustomGlobalKeyword=o.hasCustomGlobalKeyword.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"initialize",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.segmentingOptions=new l.default(d(this.get("comparison_report"),function(e){return e.groups})),this.segmentingOptions.poll=this,this.mcpOptions=new u.default(this.attributes.options,{silent:!0}),this.mcpOptions.poll=this,this.mcpOptions.on("add",this.onAddOption),this.mcpOptions.on("remove",this.onRemoveOption),this.on("change:options",this.updateOptions)}},{key:"url",value:function(){var e=void 0,n=(0,o.default)(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"url",this).apply(this,arguments));return this.flashOptions().has("teamPollArchiveId")&&n.setQuery("archive_id",this.flashOptions().get("teamPollArchiveId")),this.flashOptions().isSegmented()&&(e=this.flashOptions().get("teamPollPermalink"))&&n.setQuery("compare_with",e),n.toString()}},{key:"summaryTableUrl",value:function(){return this._urlBase().segment("table").toString()}},{key:"validateOptions",value:function(){if(!a.default.every(this.mcpOptions.invoke("isValid")))return a.default.unique(a.default.compact(this.mcpOptions.map(function(e){return e.validationError})))}},{key:"hasImageOption",value:function(){return this.mcpOptions.hasImage()}},{key:"hasLatexOption",value:function(){return this.mcpOptions.hasLatex()}},{key:"hasAlphaNumericKeyword",value:function(){return this.mcpOptions.hasAlphaNumericKeyword()}},{key:"highestResponse",value:function(){return(null!=this.mcpOptions?this.mcpOptions.length:void 0)?this.mcpOptions.highestResult():null}},{key:"onAddOption",value:function(e){return this.trigger("options:add",e)}},{key:"onRemoveOption",value:function(e){return this.trigger("options:remove",e)}},{key:"isGraded",value:function(){return this.mcpOptions.hasCorrect()}},{key:"updateOptions",value:function(){return this.mcpOptions.set(this.get("options"))}},{key:"toJSON",value:function(e){null==e&&(e={}),a.default.defaults(e,{root:!0});var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toJSON",this).apply(this,arguments),i=e.root?n[this.type()]:n;if(this.has("grading_enabled")&&(i.grading_enabled=this.get("grading_enabled")),this.has("flash_options")&&(i.flash_options=this.get("flash_options")),i.options=this.mcpOptions.invoke("toJSON"),this.isSimpleKeywords()&&!this.isCustomSessionKeywordFormat()){var o=!0,s=!1,l=void 0;try{for(var u,c=Array.from(i.options)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){delete u.value.keyword}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}}return n}},{key:"isCustomSessionKeywordFormat",value:function(){return"custom"===d(this.get("session_keyword_format"),function(e){return e.toLowerCase()})}},{key:"parse",value:function(e,n){return null==e&&(e={}),null==n&&(n={}),e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments),a.default.defaults(n,{resetKeyword:!1,resetOptions:!0}),e.options&&this.mcpOptions&&(n.resetKeyword&&this.mcpOptions.resetKeywords(e.options),n.resetOptions?(n.validate=!1,this.mcpOptions.set(e.options,n)):delete e.options),e.comparison_report&&null!=this.segmentingOptions&&this.segmentingOptions.set(e.comparison_report.groups,n),e}},{key:"processLiveResponse",value:function(e){var n,i=this;if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"processLiveResponse",this).apply(this,arguments),null==this.throttledUpdate&&(this.throttledUpdate=a.default.throttle(function(e){return i.set(i.parse(e))},1e3)),this.visualSettings().processLiveResponse(e),this.flashOptions().processLiveResponse(e),n=e[this.type()])return this.throttledUpdate(n)}},{key:"toggleGradingEnabled",value:function(e){return e||this.mcpOptions.each(function(e){return e.set({correct_response:!1,correct:!1})}),this.save({grading_enabled:e})}},{key:"hasCustomGlobalKeyword",value:function(){return!this.get("simple_keywords")&&!this.mcpOptions.all(function(e){return e.isAutoKeyword()})}}],[{key:"initClass",value:function(){this.prototype.defaultType="multiple_choice_poll"}}]),t}();function d(e,t){return void 0!==e&&null!==e?t(e):void 0}p.initClass(),t.default=p},UQNY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Csrf=t.Proxy=t.Normalize=t.Defaults=t.Chain=void 0;var i=l(n("Nwwm")),r=l(n("n9xQ")),o=l(n("p2wS")),a=l(n("bbAb")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("mGsf"));function l(e){return e&&e.__esModule?e:{default:e}}t.Chain=i.default,t.Defaults=r.default,t.Normalize=o.default,t.Proxy=a.default,t.Csrf=s},UfFN:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='presenter--header' js-header></div>\n<div class='presenter--content' js-content></div>\n<div class='presenter--footer' js-footer></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},Urxr:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{setupCordovaSSO:function(){e.delegate("click",".login--sso a",function(t){t.preventDefault(),n(e,t.target.href)})}}};var n=function(t,n){n=function(t){var n=e(t);return(n=n.query({redirect:"pollev-presenter:///",token_required:!0})).toString()}(n);var i="iOS"===(window.device?window.device.platform:void 0)?"location=no,closebuttoncaption=Cancel,clearcache=yes":"location=yes,clearcache=yes";window.ssoPopover=window.open(n,"_blank",i),t.listenToOnce(t.app,"route",function(){window.ssoPopover&&(window.ssoPopover.close(),window.ssoPopover=null)})}}).call(t,n("hBlz"))},V6F1:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("geHz");var r=s(n("40hA")),o=s(n("iZVq")),a=s(n("bMi+"));function s(e){return e&&e.__esModule?e:{default:e}}var l={filterPolls:!1,title:""},u=function(e,t){return void 0!==e&&null!==e?t(e):void 0},c=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.render=o.render.bind(o),o.renderNav=o.renderNav.bind(o),o.navTo=o.navTo.bind(o),o.login=o.login.bind(o),o.toggleFilterSpinner=o.toggleFilterSpinner.bind(o),o.showFilterPolls=o.showFilterPolls.bind(o),o.renderNavLabel=o.renderNavLabel.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.default),i(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e.defaults(t,l),this.settings=this.app.settings}},{key:"render",value:function(){var e,t,n=this;return this.renderTemplate(),this.$nav=this.$("[js-header-nav]"),this.$controls=this.$("[js-embed-controls]"),this.$filterPolls=this.$("[js-filter-polls]"),this.$title=this.$("[js-title-header]"),this.$login=this.$(".header--login"),this.$title.text(this.options.title),e=this,t=this.app.user,u(t.get("features"),function(e){return e.multi_question_activities})?(e.$("[js-filter-polls]").html(o.default.prototype.template()),e.filterPolls=e.$("[js-filter-polls]")):(e.filterPolls=new o.default({model:t,fetch:!1}),e.listenTo(e.filterPolls,"filter-polls:clear",function(){return e.app.trigger("filter-polls:clear")}),e.$("[js-filter-polls]").html(e.filterPolls.render().$el)),this.showFilterPolls(this.options.FilterPolls),this.app.on("route",function(){n.$(".filter-polls--search-input").val(""),n.$(".filter-polls--search-remove").toggleVisibility(!1),n.$(".filter-polls--search").toggleVisibility(!0),n.filterPolls.toggleSpinner&&n.filterPolls.toggleSpinner(!1)}),this.delegateEvents(),this}},{key:"renderNav",value:function(e){this.settings.disables("navTo")&&this.$nav.css("visibility","hidden"),this.$nav.html(e)}},{key:"navTo",value:function(e){e&&e.preventDefault(),this.app.presenterView&&this.app.presenterView.current.navTo?this.app.presenterView.current.navTo():this.app.history.previousURL()?this.app.navigateBack():this.app.navigate("")}},{key:"login",value:function(){this.app.navigate("login")}},{key:"toggleFilterSpinner",value:function(e){"function"==typeof this.filterPolls.toggleSpinner&&this.filterPolls.toggleSpinner(e)}},{key:"showFilterPolls",value:function(e){this.$filterPolls.toggleVisibility(e)}},{key:"renderNavLabel",value:function(e){this.$("[js-nav-label]").text(e)}},{key:"template",get:function(){return a.default}},{key:"className",get:function(){return"header"}},{key:"events",get:function(){return{"click [js-header-nav]":"navTo","click [js-header-login]":"login"}}}]),n}();t.default=c}).call(t,n("rdLu"))},VMmL:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg class='liveslides_brand_svg' style='enable-background:new 112 173.9 735 167.1;' version='1.1' viewBox='112 173.9 735 167.1' x='0px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' y='0px'>\n  <g>\n    <path d='M129,256.3l-17,79.5c0,4.2,4.7,6.6,8.1,4.3l129.3-77.9L129,256.3z' style='fill:#4390CD;'>/</path>\n    <path d='M238.2,259.6h12.2l-1.1-5.9l-128.8-78.9c-3.4-2.3-8,0.1-8,4.3l16.5,77.2l0,0L238.2,259.6z' style='fill:#EF4123;'>/</path>\n    <g>\n      <path d='M251.6,257.6c0-0.4-0.1-0.8-0.2-1.1l0,0c-0.1-0.3-0.3-0.7-0.4-1c0-0.1-0.1-0.2-0.1-0.2\n\t\t\tc-0.1-0.2-0.2-0.4-0.4-0.5c-0.1-0.1-0.2-0.2-0.3-0.3c-0.3-0.3-0.5-0.5-0.9-0.8L155,213.1c-7.4-1.9-15.3,1.8-18.4,9\n\t\t\tc-0.3,0.7-0.5,1.4-0.7,2.1l-1.7,7.7l-5.2,24.4l7.6,35.3c0.1,0.4,0.2,0.7,0.4,1.1c3.2,7.5,11.4,11.3,19.1,9l3.2-1.4l90.1-38.1\n\t\t\tc0.3-0.2,0.5-0.4,0.7-0.6c0.6-0.6,1.1-1.4,1.3-2.2C251.6,258.9,251.7,258.3,251.6,257.6C251.7,257.7,251.6,257.7,251.6,257.6z' style='fill:#231F20;'>/</path>\n    </g>\n  </g>\n  <g>\n    <path d='M321.1,301.5v-85.4h21.5v67h26.7l2.9,18.3h-51.1V301.5z' style='fill:#231F20;'>/</path>\n    <path d='M390.7,232.9c-6,0-10.8-4-10.8-10c0-6.2,4.8-10.1,10.8-10.1c6.2,0,10.8,4,10.8,10.1\n\t\tS396.8,232.9,390.7,232.9z M381.1,301.5v-60.6h19.1v60.6H381.1z' style='fill:#231F20;'>/</path>\n    <path d='M448.4,301.7h-19l-21-60.9h20.4l11.5,37.5l11.2-37.4H470L448.4,301.7z' style='fill:#231F20;'>/</path>\n    <path d='M606.8,301.5v-86.4l19.1-3v89.3h-19.1V301.5z' style='fill:#231F20;'>/</path>\n    <path d='M648.2,232.9c-6,0-10.8-4-10.8-10c0-6.2,4.8-10.1,10.8-10.1c6.2,0,10.8,4,10.8,10.1\n\t\tS654.4,232.9,648.2,232.9z M638.7,301.5v-60.6h19.1v60.6H638.7z' style='fill:#231F20;'>/</path>\n    <path d='M708.6,301.5l-1.3-7.9c-4.2,4.6-9.8,9.2-17.7,9.2c-12.6,0-22.3-9.4-22.3-29.8\n\t\tc0-23.1,12.5-32.4,26-32.4c5.7,0,9.6,0.7,13.1,2v-27.5l19-3v89.3h-16.8V301.5z M706.5,256.8c-2.8-1.2-4.9-1.7-8.9-1.7\n\t\tc-6.3,0-11.1,4.8-11.1,16.4c0,10.4,4,14.6,9.4,14.6c4,0,7.3-2.6,10.6-6.2V256.8z' style='fill:#231F20;'>/</path>\n    <path d='M824.9,263.1c-8.7-2.3-10.4-3.7-10.4-6.2c0-2.4,2-4,6.5-4c5.9,0,13.6,2.1,20.3,5.7v-15.1\n\t\tc-6-2.2-13.1-3.5-20.4-3.5c-15.1,0-23.7,7.5-23.7,18.8c0,11.4,6.5,15.5,22,19.4c8.7,2.1,10.4,3.5,10.4,6.6c0,2.8-2.5,4.6-7.8,4.6\n\t\tc-7,0-16-2.7-23.3-7.2v15.3c6.2,2.8,14.4,5,23.2,5c16.4,0,25.3-6.9,25.3-19.7C847,271.5,841.2,267.5,824.9,263.1z' style='fill:#231F20;'>/</path>\n    <path d='M570.8,248.9c-10.8-4.1-13.2-6.2-13.2-10.5c0-4,3.1-6.7,9.7-6.7c6.7,0,14.8,2.5,22.6,6.9v-19.2\n\t\tc-6.5-2.7-13.2-4.2-22.9-4.2c-16.6,0-29.7,8.8-29.7,25.2c0,14.1,7.5,19.7,24.9,26.2c12.2,4.6,14.7,6.8,14.7,11.6\n\t\tc0,5.1-4.3,7.7-10.4,7.7c-8.7,0-18.6-3.2-27.6-7.9v19.4c8,3.2,16.8,5.1,27.2,5.1c17.2,0,31.1-8.2,31.1-26.7\n\t\tC597.2,262.1,589.6,255.7,570.8,248.9z' style='fill:#231F20;'>/</path>\n    <path d='M788.9,282.8c-6.8,3.8-13.5,6.3-20.3,6.3c-8.3,0-14.1-3.7-15.1-13.2h37c0.3-1,0.4-3,0.4-4.8\n\t\tc0-17.6-8.4-31.4-27.3-31.4c-16.7,0-29.1,12-29.1,31.8c0,21.6,13.2,31.3,31.7,31.3c8.8,0,16.3-2.2,22.6-5.7L788.9,282.8\n\t\tL788.9,282.8z M763.1,251.8c5.8,0,9.1,4.7,9.7,13.9h-19.4C754,256.3,757.8,251.8,763.1,251.8z' style='fill:#231F20;'>/</path>\n    <g>\n      <path d='M526.6,271c0-17.6-8.4-31.4-27.3-31.4c-16.7,0-29.1,12-29.1,31.8c0,21.6,13.2,31.3,31.7,31.3\n\t\t\tc8.8,0,16.3-2.2,22.6-5.7v-14.2c-6.8,3.8-13.5,6.3-20.3,6.3c-8.3,0-14.1-3.7-15.1-13.2h37C526.5,274.9,526.6,272.9,526.6,271z\n\t\t\t M489.1,265.6c0.6-9.3,4.4-13.9,9.7-13.9c5.8,0,9.1,4.7,9.7,13.9H489.1z' style='fill:#231F20;'>/</path>\n    </g>\n  </g>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},VmSv:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><defs><path id="share-to-team-a" d="M26.039062,5 L24.835938,6.578124 C26.75,8.039062 28,10.328124 28,12.914062 C28,15.5 26.75,17.789062 24.84375,19.257812 L26.039062,20.828124 C28.429688,19 30,16.148438 30,12.914062 C30,9.679688 28.429688,6.828124 26.039062,5 Z M12,6.914062 C8.695312,6.914062 6,9.609374 6,12.914062 C6,14.835938 6.929688,16.53125 8.34375,17.632812 C4.640626,19.101562 2,22.695312 2,26.914062 L4,26.914062 C4,22.484374 7.570312,18.914062 12,18.914062 C16.429688,18.914062 20,22.484374 20,26.914062 L22,26.914062 C22,22.695312 19.359376,19.101562 15.65625,17.632812 C17.070312,16.53125 18,14.835938 18,12.914062 C18,9.609374 15.304688,6.914062 12,6.914062 Z M23.601562,8.195312 L22.398438,9.773438 C23.359376,10.5 24,11.617188 24,12.914062 C24,14.210938 23.367188,15.335938 22.40625,16.070312 L23.601562,17.632812 C25.039062,16.53125 26,14.859374 26,12.914062 C26,10.96875 25.039062,9.289062 23.601562,8.195312 Z M12,8.914062 C14.21875,8.914062 16,10.695312 16,12.914062 C16,15.132812 14.21875,16.914062 12,16.914062 C9.78125,16.914062 8,15.132812 8,12.914062 C8,10.695312 9.78125,8.914062 12,8.914062 Z M21.1875,11.351562 L20,12.914062 L21.1875,14.476562 C21.671876,14.109374 22,13.5625 22,12.914062 C22,12.265624 21.671876,11.71875 21.1875,11.351562 Z"></path></defs><g fill="none" fill-rule="evenodd"><mask id="share-to-team-b" fill="#fff"><use xlink:href="#share-to-team-a"></use></mask><use fill="#A568DA" fill-rule="nonzero" xlink:href="#share-to-team-a"></use><g fill="#000" mask="url(#share-to-team-b)"><rect width="32" height="32"></rect></g></g></svg>'},Vvyd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("9nM1"),o=(i=r)&&i.__esModule?i:{default:i};var a=null;t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a||(a=new Firehose.MultiplexedConsumer(Object.assign({uri:o.default.get("firehose_url"),ssl:o.default.get("firehose_ssl")},t)))}},W2nU:function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,u=[],c=!1,p=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},WJKY:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<object data='/swf/flash_info.swf' width='100' height='100'></object>"),e.join("\n")}.call(e)}}.call(this)},WSXn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n("32HH")),o=l(n("rdLu")),a=l(n("988n")),s=l(n("hBlz"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.nextPage=o.nextPage.bind(o),o.prevPage=o.prevPage.bind(o),o.fetch=o.fetch.bind(o),o.currentPage=o.currentPage.bind(o),o.totalPages=o.totalPages.bind(o),o.totalCount=o.totalCount.bind(o),o.parse=o.parse.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Collection),i(t,[{key:"initialize",value:function(){this.api=new a.default}},{key:"nextPage",value:function(e){null==e&&(e={});var t=(0,s.default)(this.api.links("next")),n=t.toString().replace(t.search(),"");return o.default.extend(e,{url:n,data:t.search(!0)}),this.fetch(e)}},{key:"prevPage",value:function(e){null==e&&(e={});var t=(0,s.default)(this.api.links("prev")),n=t.toString().replace(t.search(),"");return o.default.extend(e,{url:n,data:t.search(!0)}),this.fetch(e)}},{key:"fetch",value:function(e){return null==e&&(e={}),e.page&&(e.data||(e.data={}),o.default.extend(e.data,{page:e.page})),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"currentPage",value:function(){return this.api.meta("current_page")}},{key:"totalPages",value:function(){return this.api.meta("total_pages")}},{key:"totalCount",value:function(){return this.api.meta("total_count")}},{key:"parse",value:function(e,t){return this.api.clear({silent:!0}),this.api.set(e),this.api.data()}}]),t}();t.default=u},Wfwu:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='footer--logout'>\n  <a class='nav-label' js-logout>Logout</a>\n</div>\n<div class='footer--actions'>\n  <button class='secondary-action' js-secondary-action></button>\n  <span class='cancel nav-label' js-cancel>Cancel</span>\n  <button class='action' js-action></button>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},Wkh0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.isUngrouped=o.isUngrouped.bind(o),o.inviteUrl=o.inviteUrl.bind(o),o.assign=o.assign.bind(o),o.unassign=o.unassign.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"initialize",value:function(){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments)}},{key:"urlRoot",value:function(){return"/api/participant_groups"}},{key:"isUngrouped",value:function(){return 0===this.id}},{key:"inviteUrl",value:function(){return("undefined"!=typeof location&&null!==location?location.host:void 0)+this.get("invite_link")}},{key:"assign",value:function(e){var t=this,n=void 0,i=null;if("all"===e?n="all":(n=[],e.each(function(e){var i;if(i=t.id,!Array.from(e.groupIds()).includes(i))return n.push(e.id),e.get("groups").add(t)})),n.length){var r={participants:{add:n}};i=this.save(r,{patch:!0})}return i}},{key:"unassign",value:function(e){var t=this,n=void 0,i=null;if("all"===e?n="all":(n=[],e.each(function(e){var i;if(i=t.id,Array.from(e.groupIds()).includes(i)){n.push(e.id);var r=e.get("groups"),o=r.get(t);return r.remove(o)}})),n.length){var r={participants:{remove:n}};i=this.save(r,{patch:!0})}return i}}]),t}();t.default=s},XDnp:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=d(n("LVWF")),s=d(n("x4Pe")),l=d(n("9gpq")),u=d(n("qM++")),c=d(n("QDWv")),p=d(n("moqC"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=void 0,n=e.originalEvent;try{t=n.dataTransfer.effectAllowed}catch(e){}return n.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault()},h=function(e,t){if(t.preventDefault(),t.stopPropagation(),i(t.target).is(e.$el))return e.$el.removeClass("component-editor-multiple-choice--dropzone")},v=function(e,t){var n=e.model.get("weighted_grading_enabled"),i=new c.default({model:t,showGrading:e.showGrading,showWeightedGrading:n,showUpload:e.showUpload,showAltText:e.showAltText,showCustomGlobalKeywords:e.showCustomGlobalKeywords,showKeywords:e.showKeywords});i.on("view:action",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trigger("view:action",t,n)}),e.$options.append(i.render().$el)},g=function(e){return m(e,!1),e.model.mcpOptions.length>=e.maxOptions?e.model.trigger("invalid","The maximum number of options is 50",{prop:"options",invalid:"maxLength"}):(e.model.mcpOptions.add(new PollEv.Model.MCPOption),e.$options.children().last().find("[type=text]").first().focus(),b(e)),e.trigger("view:action","add_option")},y=function(t){return t.model.changed=e.extend(t.model.changed,{options_changed:!0}),t.model.trigger("change",t.model)},m=function(e,t,n,i){if(null==n&&(n=""),null==i&&(i={}),!t||e.model.mcpOptions.length&&!["maxLength","correct_response"].includes(i.invalid)||(e.$_toggleModifier(e.$el,e.className+"__add","error",t),e.$_element("add").find(".component-editor-multiple-choice__error small").text(n)),!i.prop)return e.$_toggleModifier(e.$el,e.className+"__add","error",t)},b=function(e){var t;if(e.showKeywords&&e.model.get("simple_keywords")){var n=e.model.get("session_keyword_format");switch(n){case"ABC":case"NumAsc":var r=void 0;"ABC"===n?(t=e.model.mcpOptions.length,r=Array.from(Array(t).keys()).map(function(e){for(var t="a".charCodeAt(),n="z".charCodeAt()-t+1,i="",r=e;r>=0;)i=String.fromCharCode(r%n+t)+i,r=Math.floor(r/n)-1;return i.toUpperCase()})):r=Array.from(Array(e.model.mcpOptions.length),function(e,t){return t+1}),e.$(".component-editor-multiple-choice__option").each(function(t,n){var o=i(n).data("cid"),a=e.model.mcpOptions.get(o);a&&a.set({keyword:r[t].toString()})});break;default:e.model.set({session_keyword_format:"Custom"}),e.$(".component-editor-multiple-choice__option").each(function(t,n){var r=i(n).data("cid"),o=e.model.mcpOptions.get(r);o.set({keyword:o.get("keyword")})})}}},_=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,(0,s.default)(this)),e.defaults(t,{showGrading:!1,showUpload:!0,showAltText:!1,instructionsImage:!1,maxOptions:50,showKeywords:!1,showWeightedGrading:!1,showCustomGlobalKeywords:!1,validateOptions:[]}),this.showGrading=t.showGrading,this.showUpload=t.showUpload,this.showAltText=t.showAltText,this.maxOptions=t.maxOptions,this.instructionsImage=t.instructionsImage,this.showKeywords=t.showKeywords,this.showWeightedGrading=t.showWeightedGrading,this.showCustomGlobalKeywords=t.showCustomGlobalKeywords,this.validateOptions=t.validateOptions,this.title=new l.default({model:this.model,instructionsImage:this.instructionsImage,showAltText:this.showAltText}),this.listenTo(this.model.mcpOptions,"add",e.partial(v,this)),this.listenTo(this.model.mcpOptions,"all",e.partial(y,this)),this.listenTo(this.model.mcpOptions,"remove",function(){this.$_toggleModifier(this.$el,this.className+"__add","error",!1),b(this)}),this.listenTo(this.model,"invalid",function(e,t){m(this,!0,e,t)}),this.listenTo(this.model,"change:simple_keywords",function(){var e;(e=this).model.get("simple_keywords")?b(e):e.model.mcpOptions.each(function(e){e.unset("keyword")})}),this.listenTo(this.model,"change:session_keyword_format",function(){b(this)})}},{key:"render",value:function(){var t;return this.$el.html(this.template()),this.$options=this.$_element("options"),this.$el.prepend(this.title.render().$el),(t=this).drake=(0,a.default)(t.$options.toArray()),t.drake.on("dragend",function(e){var n=t.$(".component-editor-multiple-choice__option").index(e);return i(e).trigger("updateindex",n),b(t)}),this.model.mcpOptions.forEach(e.partial(v,this)),b(this),function(e){if(e.showWeightedGrading&&"ranking_poll"!==e.model.type()){e.$(".component-editor-multiple-choice__grading").removeClass("component-editor-multiple-choice__grading--hidden");var t=e.model.get("weighted_grading_enabled");e.$_element("grading input").attr("checked",t)}}(this),this}},{key:"validate",value:function(){m(this,!1);var e=this.validateOptions&&this.validateOptions.length?{"multiple-choice":this.validateOptions}:{};return new u.default(this.model,e).validate()}},{key:"remove",value:function(){this.model.mcpOptions.each(function(e){return e.trigger("remove")}),this.title.remove(),this.drake.destroy(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-editor-multiple-choice"}},{key:"template",get:function(){return p.default}},{key:"events",get:function(){return{"click .component-editor-multiple-choice__add":function(){g(this)},"keydown .component-editor-multiple-choice__option:last-child .component-editor-multiple-choice__option__input":function(e){!function(e,t){if(9===t.which&&!t.shiftKey){var n=i(t.target).parents(".component-editor-multiple-choice__option").is(":last-child"),r=e.showKeywords&&e.model.get("sms_enabled")&&e.model.isCustomSessionKeywordFormat();n&&e.model.mcpOptions.last().hasValue()&&!r&&(t.preventDefault(),g(e))}}(this,e)},"keydown .component-editor-multiple-choice__option:last-child .component-editor-multiple-choice__option__keyword input":function(e){!function(e,t){9!==t.which||t.shiftKey||i(t.target).parents(".component-editor-multiple-choice__option").is(":last-child")&&e.model.mcpOptions.last().hasValue()&&(t.preventDefault(),g(e))}(this,e)},"click .component-editor-multiple-choice__grading input":function(e){!function(e,t){var n=t.target.checked;e.model.set({weighted_grading_enabled:n}),e.model.mcpOptions.each(function(e){return n?!e.has("points")&&e.isCorrect()?e.set("points",1):void 0:e.unset("points")})}(this,e)},drop:function(t){!function(t,n){if(n.preventDefault(),!t.drake.dragging){var i=n.originalEvent.dataTransfer;if((null!=i?i.files.length:void 0)>0)e.each(i.files,function(e){if(e.type.match(/^image\//)){var n=new PollEv.Model.MCPOption({file:e});return t.model.mcpOptions.add(n)}var i="The selected file is not a proper image file";return t.model.trigger("invalid",i,{message:i,model:t.model,prop:"options",invalid:"valueType"})});else if(e.contains(null!=i?i.types:void 0,"text/uri-list")){var r=i.getData("URL"),o=new PollEv.Model.MCPOption({value:r});t.model.mcpOptions.add(o)}h(t,n)}}(this,t)},dragenter:function(e){!function(e,t){if(t.preventDefault(),t.stopPropagation(),!e.drake.dragging)e.$el.addClass("component-editor-multiple-choice--dropzone")}(this,e)},dragleave:function(e){h(this,e)},dragover:f}}}]),n}();t.default=_}).call(t,n("rdLu"),n("7t+N"),n("32HH"))},XeaY:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n("6L1a"),s=f(n("zs4c")),l=f(n("tKiV")),u=f(n("BWO0")),c=f(n("pKTL")),p=f(n("Urxr")),d=f(n("NXgH"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.sizeWindow=o.sizeWindow.bind(o),o.render=o.render.bind(o),o.renderAutoLogin=o.renderAutoLogin.bind(o),o.renderPlatformPrompt=o.renderPlatformPrompt.bind(o),o.loginSuccess=o.loginSuccess.bind(o),o.createSuccess=o.createSuccess.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),r(n,[{key:"template",value:function(){return(0,d.default)({LoginTpl:l.default,LogoTpl:u.default})}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.listenTo(this.app.session,"session:stopped",this.nativeLogout),this.listenTo(this.app.session,"session:started",function(){return e(".notification[s-error]").toggleVisibility(!1)}),this.options.features=i.defaults({},this.options.features,{showAsTabs:!0}),i.defaults(this.options,{prompt:"Please log in or sign up to use live polling."}),a.env.has("office")&&this.setupAgaveSSO(),a.env.has("cordova")&&this.setupCordovaSSO(),o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).call(this,this.options)}},{key:"sizeWindow",value:function(){this.app.trigger("app:login",450,450,"Poll Everywhere Login")}},{key:"render",value:function(){return a.env.has("nativeAPI")&&this.sizeWindow(),o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).apply(this,arguments),this.renderPlatformPrompt(),this.features.showAutoLogin&&this.renderAutoLogin(),this.renderPrompt(this.options.prompt),this}},{key:"renderAutoLogin",value:function(){this.app.trigger("spinner:show"),this.$(".login--input.username").val(this.app.user.get("email")),this.$(".login--input.password").val("************"),this.$(".login--input, .login--button").prop("disabled",!0)}},{key:"nativeLogout",value:function(){if(a.env.has("nativeAPI")){var e=a.env.get("nativeAPI"),t=e.presentation,n=e.webApp;t.logout(),n.close()}}},{key:"renderPlatformPrompt",value:function(){var e=function(){switch(null!=a.env.get("nativeAPI")?a.env.get("nativeAPI").platform:void 0){case"powerpoint":return"PowerPoint";case"keynote":return"Keynote";default:return"your presentation"}}();this.renderPrompt("Please log in or sign up to use live polling in "+e+".")}},{key:"loginSuccess",value:function(){this.app.trigger("view:action","account:login","presenter app login",{referrer:this.app.history.previousURL()}),o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"loginSuccess",this).apply(this,arguments)}},{key:"createSuccess",value:function(){this.app.trigger("view:action","account:signup","presenter app signup",{referrer:this.app.history.previousURL()}),o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"createSuccess",this).apply(this,arguments)}},{key:"className",get:function(){return this._classname},set:function(e){this._classname=e||"login scrollable horizontal-padding"}},{key:"mixins",get:function(){return[c.default,p.default]}}]),n}();t.default=h}).call(t,n("7t+N"),n("rdLu"))},Y8hB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=v(n("+B0W")),a=v(n("tIMv")),s=v(n("32HH")),l=v(n("a2bv")),u=v(n("hBlz")),c=v(n("Serd")),p=n("SXII"),d=v(n("rdLu")),f=v(n("sFe/")),h=v(n("9nM1"));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){var t={polls:e};return s.default.ajax({method:"POST",url:"/api/polls",data:JSON.stringify(t),contentType:"application/json; charset=UTF-8",dataType:"json"})},y=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.enableAndClearAllPolls=o.enableAndClearAllPolls.bind(o),o.clearPolls=o.clearPolls.bind(o),o.submitBatchResponse=o.submitBatchResponse.bind(o),o.pollsAnswered=o.pollsAnswered.bind(o),o.trackResponse=o.trackResponse.bind(o),o.requiresRegistration=o.requiresRegistration.bind(o),o.name=o.name.bind(o),o.showPath=o.showPath.bind(o),o.screenshotUrl=o.screenshotUrl.bind(o),o.showUrl=o.showUrl.bind(o),o.editUrl=o.editUrl.bind(o),o.copyUrl=o.copyUrl.bind(o),o.duplicateUrl=o.duplicateUrl.bind(o),o.webVotingPath=o.webVotingPath.bind(o),o.webVotingUrl=o.webVotingUrl.bind(o),o.toJSON=o.toJSON.bind(o),o.update=o.update.bind(o),o.updatePolls=o.updatePolls.bind(o),o.updateAllPolls=o.updateAllPolls.bind(o),o.activate=o.activate.bind(o),o.deactivate=o.deactivate.bind(o),o.lockAllPolls=o.lockAllPolls.bind(o),o.unlockAllPolls=o.unlockAllPolls.bind(o),o.start=o.start.bind(o),o.complete=o.complete.bind(o),o.progress=o.progress.bind(o),o.cleanTitle=o.cleanTitle.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"url",value:function(){var e=(0,u.default)(this.urlRoot);return this.get("id")?e.segment(this.get("id").toString()).toString():this.get("permalink")?e.segment(this.get("permalink")).toString():e.toString()}},{key:"initialize",value:function(e){var n=this;return null==e&&(e={}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.include(c.default),this.include(a.default),this.polls=new l.default,this.polls.comparator="position",this.polls.survey=this,this.initSubModel("presenter"),(null!=e.polls?e.polls.length:void 0)&&this.polls.set(l.default.pollsToModels(e.polls),{add:!0,remove:!0,merge:!0}),this.on("change:polls",function(){var e=void 0;return e=n.get("polls")instanceof s.default.Collection?n.get("polls").toArray():n.get("poll"),n.polls.set(e,{add:!0,remove:!0,merge:!0})})}},{key:"type",value:function(){return"survey"}},{key:"enableAndClearAllPolls",value:function(){var e=(0,u.default)("/api").segment(this.showPath()).segment("enable_clear_polls");return s.default.ajax({contentType:"application/json; charset=UTF-8",dataType:"json",url:e.toString(),type:"POST"})}},{key:"clearPolls",value:function(e){return null==e&&(e=(new f.default).toString("MMMM d, yyyy 'at' h:mm:ss TT")),s.default.ajax({url:(0,u.default)(this.url()).segment("clear").toString(),type:"POST",data:{name:e}})}},{key:"submitBatchResponse",value:function(e){return s.default.ajax({contentType:"application/json; charset=UTF-8",dataType:"json",url:(0,u.default)("/api").segment(this.showPath()).segment("results").toString(),type:"POST",data:JSON.stringify(e)})}},{key:"pollsAnswered",value:function(){var e=0,t=this.pollsAnsweredCache||{};for(var n in t){e+=t[n]}return e}},{key:"trackResponse",value:function(e,t){if(e.isNew())return null==this.pollsAnsweredCache&&(this.pollsAnsweredCache=this.polls.reduce(function(e,t){return e[t.id]=0,e},{})),this.pollsAnsweredCache[e.get("poll_id")]=t,this.trigger("pollAnswered")}},{key:"requiresRegistration",value:function(){return this.polls.any(function(e){return e.get("registered_participants_only")})}},{key:"name",value:function(){return this.get("name")}},{key:"showPath",value:function(){return this.showUrl()}},{key:"screenshotUrl",value:function(e){return null==e&&(e={}),!0===e&&(e={attachment:!0}),(0,u.default)(this.showUrl()).absoluteTo(h.default.get("poll_renderer_url")).query(e).toString()}},{key:"showUrl",value:function(){return(0,u.default)("/surveys").segment(this.get("permalink")).toString()}},{key:"editUrl",value:function(){return this.showPath()+"/edit"}},{key:"copyUrl",value:function(){return(0,u.default)(this.urlRoot).segment(this.get("id").toString()).segment("copy").toString()}},{key:"duplicateUrl",value:function(){return(0,u.default)(this.urlRoot).segment(this.get("id").toString()).segment("duplicate").toString()}},{key:"webVotingPath",value:function(){return this.webVotingUrl()}},{key:"webVotingUrl",value:function(){return this.showPath()+"/web"}},{key:"onScreenUrl",value:function(){return"/api/activation"}},{key:"toJSON",value:function(e){null==e&&(e={});var t=this.pick(this.modelProperties);return t.polls=this.polls.invoke("toJSON").filter(function(e){return!d.default.isEmpty(e)}),t}},{key:"parse",value:function(e,n){return null==n&&(n={}),n.silent||(e.polls=new l.default(l.default.pollsToModels(e.polls))),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments)}},{key:"update",value:function(e){return this.save(e,{patch:!0})}},{key:"updatePolls",value:function(e){var t=this;return e.forEach(function(e){return void 0!==(n=t.polls.findWhere({permalink:e.permalink}))&&null!==n?function(t){return t.set(e)}(n):void 0;var n}),g(e)}},{key:"updateAllPolls",value:function(e){var t=this.polls.map(function(t){return t.set(e),d.default.extend({},{permalink:t.get("permalink")},e)});return g(t)}},{key:"activate",value:function(){var e=this,t=s.default.ajax({method:"PUT",url:this.onScreenUrl(),data:{type:"survey",uid:this.get("permalink")}});return t.done(function(){e.presenter.set({active:!0}),e.set({current:!0})}),t}},{key:"deactivate",value:function(){var e=this,t=s.default.ajax({method:"DELETE",url:this.onScreenUrl()});return t.done(function(){e.presenter.set({active:!1}),e.set({current:!1})}),t}},{key:"lockAllPolls",value:function(){return this.polls.invoke("stop")}},{key:"unlockAllPolls",value:function(){return this.polls.invoke("start")}},{key:"start",value:function(){var e=(0,u.default)(this.urlRoot).segment(this.get("permalink"));return s.default.ajax({method:"POST",url:e.segment("metrics/survey_started").toString()})}},{key:"complete",value:function(){var e=(0,u.default)(this.urlRoot).segment(this.get("permalink"));return s.default.ajax({method:"POST",url:e.segment("metrics/survey_completed").toString()})}},{key:"progress",value:function(e){null==e&&(e=0);var t=(0,u.default)(this.urlRoot).segment(this.get("permalink"));return s.default.ajax({method:"POST",url:t.segment("metrics/poll_answered/"+e).toString()})}},{key:"cleanTitle",value:function(e){return null==e&&(e={}),e=d.default.defaults(e,{emoji:"image"}),(0,p.cleanString)(this.get("title"),e)}}],[{key:"initClass",value:function(){this.prototype.urlRoot="/api/surveys",this.prototype.defaults={full_page:!1},this.prototype.modelProperties=["id","permalink","owner_id","group_id","title","subtitle","full_page","display_state","custom_confirmation_message"]}}]),t}();y.initClass(),t.default=y},YFaT:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-selector__user__header'>\n  <div class='component-activity-selector__user__arrow-icon'></div>\n  <div class='component-activity-selector__user__icon'></div>\n  <span class='component-activity-selector__user__name'></span>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"Yz/m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i},s=n("SXII");var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.initialize=o.initialize.bind(o),o.parse=o.parse.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"initialize",value:function(e){return null==e&&(e={}),this.users=e.users,delete e.users,this.unset("users")}},{key:"parse",value:function(e){var t=void 0,n=!0,i=!1,r=void 0;try{for(var o,a=Array.from(e.polls)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=(0,s.popRootKey)(l);(t=this.users.get(u.owner_id)).groups.get(u.group_id),null!=t&&t.polls.add(l,{merge:!0,parse:!0})}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}var c=!0,p=!1,d=void 0;try{for(var f,h=Array.from(e.updated_groups)[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)l=f.value,null!=(t=this.users.get((0,s.popRootKey)(l).owner_id))&&t.groups.add(l,{merge:!0,parse:!0})}catch(e){p=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(p)throw d}}var v=!0,g=!1,y=void 0;try{for(var m,b=Array.from(e.new_groups)[Symbol.iterator]();!(v=(m=b.next()).done);v=!0)l=m.value,(null!=(t=this.users.get((0,s.popRootKey)(l).owner_id))?t.groups.add(l,{merge:!0,parse:!0}):void 0).markAsLoaded()}catch(e){g=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(g)throw y}}var _=!0,w=!1,k=void 0;try{for(var O,P=Array.from(e.deleted_groups)[Symbol.iterator]();!(_=(O=P.next()).done);_=!0)l=O.value,l=(0,s.popRootKey)(l),null!=(t=this.users.get(l.owner_id))&&t.groups.remove(null!=t?t.groups.get(l.id):void 0)}catch(e){w=!0,k=e}finally{try{!_&&P.return&&P.return()}finally{if(w)throw k}}return e}}],[{key:"initClass",value:function(){this.prototype.url="/my/polls/multi_edit",this.prototype.idAttribute="_id"}}]),t}();l.initClass(),t.default=l},Z0AN:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-multiple-choice__option__edit'>\n  <label class='component-editor-multiple-choice__option__correctness' aria-label='Correctness'>\n    <input type='checkbox' tabindex='-1'>\n    <span class='component-editor-multiple-choice__option__correctness__checkbox' role='checkbox' aria-checked='false'></span>\n  </label>\n  <div class='component-editor-multiple-choice__option__dragger'></div>\n  <input class='component-editor-multiple-choice__option__input' placeholder='(Text, Image URL, LaTex)' name='option-input' type='text'>\n  <button class='component-editor-multiple-choice__option__upload' tabindex='-1'></button>\n  <button class='component-editor-multiple-choice__option__delete' tabindex='-1'></button>\n  <div class='component-editor-multiple-choice__option__keyword component-editor-multiple-choice__option__keyword--hidden'>\n    <input placeholder='Keyword' type='text'>\n    <div class='component-editor-multiple-choice__option__keyword__status'></div>\n  </div>\n</div>\n<div class='component-editor-multiple-choice__option__preview'></div>\n<div class='component-editor-multiple-choice__option__error'></div>\n<div class='component-editor-multiple-choice__option__points component-editor-multiple-choice__option__points--hidden'>\n  <label>\n    <span>Points</span>\n    <input placeholder='0' type='number'>\n  </label>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},a2Pg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("+B0W")),o=s(n("sFe/")),a=s(n("rdLu"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.lastFour=o.lastFour.bind(o),o.expirationMonth=o.expirationMonth.bind(o),o.expirationYear=o.expirationYear.bind(o),o.expirationDate=o.expirationDate.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"urlRoot",value:function(){return"/api/payment_methods"}},{key:"lastFour",value:function(){var e=this.get("number");if(e)return e.substr(e.length-4)}},{key:"expirationMonth",value:function(){if(this.has("expiration_date")){var e=this.get("expiration_date").split("/")[0];return parseInt(e,10)}}},{key:"expirationYear",value:function(){if(this.has("expiration_date")){var e=this.get("expiration_date").split("/")[1];return parseInt(e,10)}}},{key:"expirationDate",value:function(){return new o.default(this.expirationYear()+2e3,this.expirationMonth()-1)}},{key:"validate",value:function(e,t){var n={};return a.default.each(e,function(e,t){a.default.isString(e)&&!e.trim().length?n[t]="cannot be blank":a.default.isNull(e)?n[t]="cannot be null":a.default.isUndefined(e)?n[t]="cannot be undefined":a.default.isObject(e)&&a.default.isEmpty(e)&&(n[t]="cannot be empty")}),a.default.isEmpty(n)?null:n}}]),t}();t.default=l},a2bv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n("rdLu")),o=n("SXII"),a=u(n("Hf0w")),s=u(n("hKAP")),l=u(n("6MBy"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.multipleChoicePolls=o.multipleChoicePolls.bind(o),o.query=o.query.bind(o),o.getByPermalink=o.getByPermalink.bind(o),o.search=o.search.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"model",value:function(e,t){return(0,l.default)(e,t)||new s.default(e,t)}},{key:"comparator",value:function(e,t){var n=e.get("position"),i=t.get("position");return r.default.isUndefined(n)||r.default.isUndefined(i)?0:n===i?e.id-t.id:n-i}},{key:"multipleChoicePolls",value:function(){return new t(this.select(function(e){return"multiple_choice_poll"===e.type()}))}},{key:"query",value:function(e){var t=this,n={term:e};return this.sync("create",this,{url:"/my/polls/search",data:n,processData:!0}).done(function(e){return t.set(e.polls,{parse:!0})})}},{key:"getByPermalink",value:function(e){return this.find(function(t){return t.get("permalink")===e})}},{key:"parse",value:function(e){return e=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments),(0,o.popRootKeys)(e)}},{key:"search",value:function(e){var t=(0,o.regexSearch)(e);return this.filter(function(e){return t.test(e.get("title"))})}}],[{key:"initClass",value:function(){this.prototype.url="/api/polls"}}]),t}();c.initClass(),c.pollsToModels=function(e){return e.map(function(e){return e instanceof s.default?e:(0,l.default)(e)})},t.default=c},aXj8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{fullName:function(e){null==e&&(e={});var t=o.default.compact([this.get("first_name"),this.get("last_name")]);if(t.length){var n=void 0;return 1===t.length?n="":(n=e.delimeter||" ",e.reverse&&t.reverse()),t.join(n)}return this.get("email")||"Unregistered"}}};var i,r=n("rdLu"),o=(i=r)&&i.__esModule?i:{default:i}},aipb:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=f(n("x4Pe")),s=f(n("fxyI")),l=f(n("AeHN")),u=f(n("BlD9")),c=f(n("kXW4")),p=f(n("gTJo")),d=f(n("VmSv"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.model.get("collapsed");!function(e){e.$_toggleModifier(null,e.className,"collapsed",e.model.get("collapsed"))}(e),function(e){return!e.model.isRealGroup()||e.model.get("activities_count")>0&&!e.model.activities.isEmpty()}(e)||t||function(e){e.$_toggleModifier(null,e.className,"loading",!0),e.model.activities.fetch({data:{user_id:e.model.get("owner_id"),group_id:e.model.id,type:e.model.get("filter")&&e.model.get("filter").type?e.model.get("filter").type:null}}).always(function(){e.$_toggleModifier(null,e.className,"loading",!1)})}(e)},v=function(e){e.$_element("title").text(e.model.get("name")).attr({title:e.model.get("name")})},g=function(e){var t=!(!e.model.get("shared_activity_groups")||!e.model.get("shared_activity_groups").length);t&&e.model.get("owner")&&e.$_element("sharing-details__info").text(e.model.get("owner").name),e.$_toggleModifier(null,e.className,"shared",t)},y=function(e){var t=void 0,n=e.model.get("filter")&&e.model.get("filter").type;"survey"===n||"competition"===n?t=-1===e.model.id?e.model.activities.filter(function(e){return e instanceof PollEv.Model.Survey}).length:e.model.get("surveys_count"):t=e.model.get("collapsed")?e.model.get("activities_count"):e.model.activities.length;t=Math.max(0,t);var i=PollEv.Util.pluralize(t,"activity");e.$_element("header").find(".component-activity-selector__row-count__count").text(t+" "),e.$_element("header").find(".component-activity-selector__row-count__label").text(i)},m=function(e){e.$el.attr("data-id",e.model.id),e.$el.attr("data-type","group"),e.$el.attr("data-user-id",e.model.get("owner_id"))},b=function(e,t){t.preventDefault(),e.trigger("convert",w(t))},_=function(e,t){var n=i(t.target).closest(".component-activity-selector__survey, .component-activity-selector__competition");n.length?e.trigger("add",n.data("model")):e.trigger("add",e.model)},w=function(e){return i(e.currentTarget).closest(".component-activity-selector__survey__header, .component-activity-selector__competition__header").length?i(e.currentTarget).closest(".component-activity-selector__survey, .component-activity-selector__competition").data("model"):i(e.currentTarget).closest(".component-activity-selector__group__header").length?i(e.currentTarget).closest(".component-activity-selector__group").data("model"):i(e.currentTarget).closest(".component-activity-selector__poll").data("model")},k=function(e,t){e.options.blockLink&&t.preventDefault(),e.trigger("navigate",w(t))},O=function(e,t){e.trigger("activate",w(t))},P=function(e,t){t.stopPropagation(),e.trigger("share",w(t))},E=function(e,t){e.trigger("edit",w(t))},T=function(e,t){e.trigger("duplicate",w(t))},x=function(e,t){e.$el.toggleClass(e.className+"--hover","focusin"===t.type),e.$el.hasClass(e.className+"--collapsed")?e.$activities.find("input:checkbox, a, button").attr("tabindex",-1):e.$activities.find("input:checkbox, a, button").attr("tabindex",0)},S=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this.model instanceof PollEv.Model.Group))throw new Error("`options.model` argument must exist, and it must be a group model.");e.extend(this,(0,a.default)(this)),this.options=e.defaults(t,this.defaults),this.$el.data("model",this.model),this.listenTo(this.model,"change",e.partial(m,this)),this.listenTo(this.model,"change:collapsed",e.partial(h,this)),this.listenTo(this.model,"change:name",e.partial(v,this)),this.listenTo(this.model,"change:owner",e.partial(g,this)),this.listenTo(this.model,"change:shared_activity_groups",e.partial(g,this)),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"change:activities_count",e.partial(y,this)),this.listenTo(this.model.activities,"update",e.partial(y,this))}},{key:"render",value:function(){var t;return this.$el.html(this.template()),this.$checkbox=this.$_element("header").find("input:checkbox"),(t=this).options.addable||t.$_element("add").remove(),t.options.deletable||t.$_element("delete").remove(),t.options.duplicatable||t.$_element("duplicate").remove(),t.options.editable||t.$_element("edit").remove(),t.options.selectable||t.$checkbox.remove(),t.options.convertible||t.$_element("convert").remove(),t.options.showSharingDetails||(t.$_element("share").remove(),t.$_element("sharing-details").remove()),t.options.sharable||t.$_element("share").remove(),v(this),h(this),function(t){t.list=new s.default({className:"component-activity-selector__group__activities",collection:t.model.activities,viewOptions:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.pick(t.options,"survey").survey,o=e.pick(t.options,"competition").competition,a=e.pick(t.options,"poll").poll;return n instanceof PollEv.Model.Survey?(e.defaults(i,r),n instanceof PollEv.Model.Survey&&!i.collapsed&&(i.collapsed=!t.listHasBeenReset||!!i.repositioning),i):n instanceof PollEv.Model.Competition?(e.defaults(i,o),i):e.defaults(i,a)},viewClass:function(e){return e instanceof PollEv.Model.Competition?p.default:e instanceof PollEv.Model.Survey?u.default:c.default}}),t.listenTo(t.list,"reset",function(){t.listHasBeenReset=!0}),t.listenTo(t.list,"add",function(e){t.$checkbox.is(":checked")&&e.$("input:checkbox").prop("checked",!0)}),t.listenTo(t.list,"expand",function(e){t.trigger("expand",e)}),t.$activities=t.list.render().$el,t.$_element("activities").replaceWith(t.$activities)}(this),m(this),y(this),this.options.showSharingDetails&&(this.$_element("sharing-details").find("span").append(d.default),g(this)),this.model.isRealGroup()||(this.$_element("convert").remove(),this.$_element("share").remove(),this.$_element("edit").remove(),this.$_element("delete").remove(),this.$_element("duplicate").remove(),this.$_element("sharing-details").remove()),this}},{key:"remove",value:function(){this.list.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-activity-selector__group"}},{key:"template",get:function(){return l.default}},{key:"events",get:function(){return{"click .component-activity-selector__group__activities input:checkbox":function(e){var t,n,i;n=(t=this).list.$(".component-activity-selector__survey__header input:checkbox:checked").length,i=t.list.$el.children(".component-activity-selector__poll").find("input:checkbox:checked").length,t.$(".component-activity-selector__group__header input:checkbox").prop("checked",t.model.activities.length===n+i)},"focus .component-activity-selector__group__header input:checkbox":function(e){x(this,e)},"blur .component-activity-selector__group__header input:checkbox":function(e){x(this,e)},"focus .component-activity-selector__group__header a":function(e){x(this,e)},"blur .component-activity-selector__group__header a":function(e){x(this,e)},"focus .component-activity-selector__group__header button":function(e){x(this,e)},"blur .component-activity-selector__group__header button":function(e){x(this,e)},"click .component-activity-selector__group__header":function(e){!function(e,t){var n=i(t.target).is(":checkbox"),r=i(t.target).is(":button"),o=i(t.target).hasClass(e.className+"__arrow-icon");if(!(n||r&&!o)){var a=!e.model.get("collapsed");e.model.isRealGroup()&&e.options.collapsible?e.model.save({collapsed:a},{patch:!0}):e.model.set({collapsed:a}),e.trigger("expand",e.model)}}(this,e)},"click .component-activity-selector__group__header input:checkbox":function(e){var t,n;n=(t=this).$checkbox.is(":checked"),t.$activities.find("input[type='checkbox']:enabled").prop("checked",n)},"click .component-activity-selector__group__convert":function(e){b(this,e)},"click .component-activity-selector__group__add":function(e){_(this,e)},"click .component-activity-selector__group__share":function(e){P(this,e)},"click .component-activity-selector__group__edit":function(e){var t;(t=this).trigger("edit",t.model)},"click .component-activity-selector__group__delete":function(e){var t;(t=this).trigger("delete",t.model)},"click .component-activity-selector__group__duplicate":function(e){T(this,e)},"click .component-activity-selector__group__sharing-details":function(e){P(this,e)},"click .component-activity-selector__poll__title__link":function(e){k(this,e)},"click .component-activity-selector__poll__activate":function(e){O(this,e)},"click .component-activity-selector__poll__share":function(e){P(this,e)},"click .component-activity-selector__poll__edit":function(e){E(this,e)},"click .component-activity-selector__poll__duplicate":function(e){T(this,e)},"click .component-activity-selector__survey__title__link":function(e){k(this,e)},"click .component-activity-selector__survey__activate":function(e){O(this,e)},"click .component-activity-selector__survey__convert":function(e){b(this,e)},"click .component-activity-selector__survey__add-question":function(e){_(this,e)},"click .component-activity-selector__survey__share":function(e){P(this,e)},"click .component-activity-selector__survey__edit":function(e){E(this,e)},"click .component-activity-selector__survey__duplicate":function(e){T(this,e)},"click .component-activity-selector__competition__title__link":function(e){k(this,e)},"click .component-activity-selector__competition__activate":function(e){O(this,e)},"click .component-activity-selector__competition__add-question":function(e){_(this,e)},"click .component-activity-selector__competition__share":function(e){P(this,e)},"click .component-activity-selector__competition__edit":function(e){E(this,e)},"click .component-activity-selector__competition__duplicate":function(e){T(this,e)}}}},{key:"defaults",get:function(){return{addable:!0,blockLink:!0,convertible:!0,deletable:!0,duplicatable:!0,editable:!0,showSharingDetails:!1,sharable:!1,collapsible:!0,filter:{},selectable:!0,survey:{},poll:{}}}}]),n}();t.default=S}).call(t,n("rdLu"),n("7t+N"),n("32HH"))},av1e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("Hf0w")),o=s(n("sNMB")),a=s(n("rdLu"));function s(e){return e&&e.__esModule?e:{default:e}}var l=/^Region (\d+)$/,u=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.isValueCorrect=o.isValueCorrect.bind(o),o.addValid=o.addValid.bind(o),o.collidableRegions=o.collidableRegions.bind(o),o.highestResult=o.highestResult.bind(o),o.hasAlphaNumericKeyword=o.hasAlphaNumericKeyword.bind(o),o.hasCorrect=o.hasCorrect.bind(o),o.getNextName=o.getNextName.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"isValueCorrect",value:function(e){return this.collidableRegions(this).some(function(t){return t.get("correct")&&t.contains(e)})}},{key:"addValid",value:function(e){if(e.resolveOverlaps(this),!(e.outsideContainer()||this.collidableRegions(e).some(function(t){return e.overlaps(t)})))return this.add(e)}},{key:"collidableRegions",value:function(e){return new t(this.filter(function(t){return e!==t&&1!==e.get("_destroy")&&1!==t.get("_destroy")}))}},{key:"highestResult",value:function(){return a.default.max(this.pluck("results_count"))}},{key:"hasAlphaNumericKeyword",value:function(){return this.any(function(e){return e.isKeywordAlphaNumeric()})}},{key:"hasCorrect",value:function(){return this.any(function(e){return e.get("correct")})}},{key:"getNextName",value:function(){var e=0,t=0;return this.each(function(n){if(!n.isOtherRegion()){e+=1;var i=l.exec(n.getName());i&&(t=Math.max(t,parseInt(i[1])))}}),"Region "+(Math.max(e,t)+1)}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),t}();u.initClass(),t.default=u},b61m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("40hA")),o=a(n("Wfwu"));function a(e){return e&&e.__esModule?e:{default:e}}n("+88m");var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.logout=o.logout.bind(o),o.renderActionLabel=o.renderActionLabel.bind(o),o.action=o.action.bind(o),o.cancel=o.cancel.bind(o),o.toggleAction=o.toggleAction.bind(o),o.hideActions=o.hideActions.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(){this.renderTemplate(),this.actionEl=this.$("[js-action]"),this.secondaryActionEl=this.$("[js-secondary-action]"),this.$cancel=this.$("[js-cancel]"),this.settings=this.app.settings}},{key:"logout",value:function(){this.app.navigate("logout")}},{key:"renderActionLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.actionEl.text(e),this.secondaryActionEl.toggle(!!t),t&&this.secondaryActionEl.text(t)}},{key:"action",value:function(){this.beforeAction(),this.actionEl.is("[s-disabled]")||this.trigger("action")}},{key:"secondaryAction",value:function(){this.secondaryActionEl.is("[s-disabled]")||this.trigger("secondary-action")}},{key:"cancel",value:function(){this.$cancel.is("[s-disabled]")||this.trigger("cancel")}},{key:"toggleAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.actionEl.toggleState("s-disabled",!e),this.secondaryActionEl.toggleState("s-disabled",!t)}},{key:"hideActions",value:function(e){this.$(".footer--actions").toggleVisibility(!e)}},{key:"render",value:function(){return this.delegateEvents(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).apply(this,arguments)}},{key:"beforeAction",value:function(){}},{key:"className",get:function(){return"footer"}},{key:"events",get:function(){return{"click [js-secondary-action]":"secondaryAction","click [js-action]":"action","click [js-cancel]":"cancel","click [js-logout]":"logout"}}},{key:"template",get:function(){return o.default}}]),t}();t.default=s},bLSs:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='native-modal--content'>\n  <div class='native-modal--body'>\n    <span class='native-modal--text'></span>\n  </div>\n  <div class='native-modal--footer'>\n    <a class='button native-modal--primary' js-native-close>OK</a>\n    <a class='button hidden native-modal--cancel' js-native-close>Cancel</a>\n  </div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"bMi+":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='header--nav header--title' js-header-nav js-title-header></div>\n<div class='header--controls' js-embed-controls>\n  <div class='header--editor-controls'></div>\n  <div class='header--filter-controls' js-filter-polls></div>\n</div>\n<div class='header--login'>\n  <a js-header-login>Login</a>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},bWXc:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=n("6L1a"),l=M(n("fcnF")),u=n("SXII"),c=M(n("6MBy")),p=M(n("Lzm6")),d=M(n("Ftjq")),f=M(n("l1oh")),h=M(n("ivl9")),v=M(n("/YpY")),g=M(n("qFj3")),y=M(n("Oc81")),m=M(n("G5cd")),b=M(n("QBwT")),_=M(n("Tp+a")),w=M(n("lRlZ")),k=M(n("XeaY")),O=M(n("vkc6")),P=M(n("ryUu")),E=M(n("LaYC")),T=M(n("BWO0")),x=M(n("ND6I")),S=M(n("HXQQ")),j=M(n("dkoP")),C=M(n("vWcp"));function M(e){return e&&e.__esModule?e:{default:e}}var A={"multiple-choice":"multiple_choice_poll","word-cloud":"free_text_poll","up-down-vote":"discourse","rank-order":"ranking_poll","clickable-image":"clickable_image_poll",survey:"survey","open-ended-text":"free_text_poll"},R=function(e,t){e.presenterView&&(e.presenterView.remove(),e.presenterView=null);var n=(0,c.default)({type:A[t],title:""}),i=new f.default({model:n,assignmentModel:e.params.assignmentModel});return e.settings.get("poll_title")&&L(e,n),e.user.groups.comparator="sequence",e.user.groups.sort(),e.user.groups.fetch({cache:!1,silent:!0}).done(function(){return e.view.activate(i)})},L=function(e,t){t.set({title:e.settings.get("poll_title")}),"multiple_choice_poll"===t.type()&&(t.mcpOptions.reset(),e.settings.get("answers").forEach(function(e){return t.mcpOptions.add(new l.default({value:e}))}))},I=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=!!r.populateModel,a=!!r.populateFlashOptions,s=[];if(n)s.push(o?n.fetch():e.Deferred().resolve(n));else{var l=i.history.getFragment().match(/([^/]+)\/([^/]+)/);n=(0,c.default)({type:(0,u.singularize)(l[1]),permalink:l[2]}),s.push(n.fetch())}return n.flashOptions&&a&&s.push(n.flashOptions().fetch()),(t=e).when.apply(t,s).then(function(e){return n})},N=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,_.default),o(n,[{key:"preRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(e=e.bind(this)),this.history.push(i.history.fragment),this.settings.getParams(),t?(e(),this.postRender()):this.userRequired().done(e),this.postRender()}},{key:"postRender",value:function(){this.params={},this.injectHotjar()}},{key:"initialize",value:function(e){var t,n=this;this.settings=new m.default,this.settings.getParams(),this.params={},(t=this).history=[],t.history.previousURL=function(){return t.history[t.history.length-2]},this.presentation=new b.default,this.viewOptions={model:this.presentation,title:"Poll Everywhere",chartWidth:666.66,chartHeight:400,minChartHeight:200,minChartWidth:400,toolbarHeight:60},this.view=new p.default({settings:this.settings}),this.cutlass=new y.default(this),this.settings.has("pe_auth_token")&&(this.session.authToken().token=this.settings.get("pe_auth_token")),this.settings.disables("progress_bar")||this.listenTo(this,"showFakeProgress",function(e,t){return function(e,t,n){e.trigger("spinner:hide");var i=new j.default({message:n,waitPrediction:t}),r=new C.default({content:i.render().$el,size:"small",actions:{primary:!1,cancel:!0},ignoreCloseOn:{backdrop:!0,escape:!0}});e.listenToOnce(r,"click:cancel",function(){try{e.trigger("native:api:close")}catch(t){e.log("[error] ProgressBar: "+t.stack)}}),r.open()}(n,e,t)})}},{key:"start",value:function(){this.bindingLayer=new h.default(this),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"start",this).apply(this,arguments)}},{key:"userRequired",value:function(){var t=this;this.trigger("spinner:show");var n=i.history.getFragment(),o=/login/.test(n),a=e.Deferred(),s=o&&!this.settings.hides("auto_login_view")?3e3:0,l=function(){s?(t.login(a),r.delay(a.resolve,s)):a.resolve()};return this.user.isLoggedIn()?this.user.get("account_id")?l():i.ajax({method:"PATCH",url:"/api/users/"+this.user.get("id"),data:{role:"presenter"}}).then(l,function(e){t.settings.set({message:"There's has been an error accessing your presenter account features. Please contact support at support@polleverywhere.com",message_type:"error"});try{Rollbar.error("Cannot convert participant account to presenter account",e)}catch(e){}return l()}):(this.login(a),this.trigger("view:action","router:user_required","presenter app login",{referrer:this.history.previousURL()})),a.done(function(){t.trigger("native:api:login",t.user.get("login")),o&&(t.trigger("view:action","account:login","presenter app login",{referrer:t.history.previousURL()}),setTimeout(function(){t.trigger("native:api:close")},0))})}},{key:"renderLegalDoc",value:function(e){var t=new O.default({type:e});this.view.activate(t),this.listenTo(t,"navigate:back",this.navigateBack)}},{key:"renderPresenter",value:function(){this.presenterView=this.presenterView||new d.default(this.settings),this.view.activate(this.presenterView)}},{key:"polls",value:function(e){this.renderPresenter(),e?this.presenterView.renderActivities({type:"poll"}):this.presenterView.renderActivities()}},{key:"activities",value:function(){this.renderPresenter(),this.presenterView.renderActivities()}},{key:"screenshots",value:function(){this.renderPresenter(),this.presenterView.renderActivities({actionEvent:"images",actionLabel:"screenshot"})}},{key:"login",value:function(t){var n=this;if(this.user.isLoggedIn()&&!s.env.has("nativeAPI")){var r="login"===this.history.previousURL();this.history.length&&!r?("undefined"!=typeof window&&null!==window?window.history.back():void 0)||this.navigate(this.history.previousURL()):this.navigate("/")}else{t||(t=e.Deferred()).done(function(){n.login()});var o=i.history.getFragment(),a=null!=window.macWebApp&&this.user.isLoggedIn()&&"login"===o&&!this.settings.hides("auto_login_view"),l={title:"Log in or create an account",authorization:t,className:"login content scrollable",features:{showAutoLogin:a,samlCheckEnabled:!0}};this.settings.get("message")&&(l.prompt=this.settings.get("message"));var u=new k.default(l);this.listenToOnce(u,"login:create",function(){n.trigger("view:action","router:login","presenter app signup",{referrer:n.history.previousURL()}),t.done(function(){return n.navigate("multiple_choice/new")})}),this.view.activate(u),u.sizeWindow()}}},{key:"logout",value:function(){var e=this;this.log("Destroying session"),this.session.destroy().then(function(){if(s.env.has("nativeAPI"))e.trigger("native:api:logout");else{var t="logout"===e.history.previousURL();e.history.length&&!t?window?window.history.back():e.navigate(e.history.previousURL()||"/"):e.navigate("/")}})}},{key:"resetPassword",value:function(){var e=new P.default({template:function(){return(0,E.default)({LogoTpl:T.default})},className:"login content scrollable horizontal-padding"});this.view.activate(e)}},{key:"magicBar",value:function(){this.history.pop();var e=this.settings.pollTitle()&&r.isEmpty(this.settings.answers())?"open_ended/new":"multiple_choice/new",t=i.history.fragment.replace("create",e).replace("polls/new",e);this.navigate(t,{params:{groupID:this.params.groupID}})}},{key:"liveSlides",value:function(){this.view.activate(new x.default({settings:this.settings}))}},{key:"flash",value:function(){this.view.activate(new w.default)}},{key:"surveys",value:function(){this.renderPresenter(),this.presenterView.renderActivities({type:"survey"})}},{key:"modalMessage",value:function(){this.modalDialog=new S.default({message:this.settings.message()}),this.view.activate(this.modalDialog)}},{key:"navigateBack",value:function(){this.history.pop(),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"navigateBack",this).apply(this,arguments)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.trigger("navigate",e),this.params=r.defaults({},t.params),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"navigate",this).call(this,e,t)}},{key:"edit",value:function(){var e=this;I(this.params.poll,{populateModel:!0}).then(function(t){e.renderPresenter(),e.presenterView.renderEdit(t)},function(t){var n="";n=404===t.status?"Cannot edit this activity because it does not exist.":t.responseText.length>20?t.responseText:"Cannot edit this activity",e.trigger("spinner:hide"),e.trigger("error",e.settings.createErrorMsg(n)),e.navigateBack()})}},{key:"preview",value:function(){var e=this;I(this.params.poll).then(function(t){e.renderPresenter(),e.presenterView.renderPreview(t)},function(t){e.app.trigger("error","Unable to preview this activity."),e.app.trigger("spinner:hide")})}},{key:"statePicker",value:function(){var e=this;I(this.params.poll).then(function(t){e.renderPresenter(),e.presenterView.renderStatePicker(t)},function(t){e.app.trigger("error","Unable to load this activity."),e.app.trigger("spinner:hide")})}},{key:"loadBackgroundServices",value:function(e){var t,n=this;return this.sessionManagerService=new g.default(this),this.placeholderCacheService=new v.default(this),this.postMessageProxy={logout:this.sessionManagerService.logout},this.startPostMessageProxy(),void 0!==(t=null!=this.bindingLayer?this.bindingLayer.presentationEvents:void 0)&&null!==t&&function(e){return e.subscribe("metricEvent",n.processMetricEvent)}(t),e.call(this)}},{key:"processMetricEvent",value:function(e){this.trigger("view:action",e.data.eventName,e.data.eventData)}},{key:"background",value:function(){var e=this;this.trigger("login"),this.session.on("session:started",function(){return e.trigger("update:placeholder")})}},{key:"startPostMessageProxy",value:function(){var t=this;e(window).on("message",function(e){var n=e.originalEvent.data;"function"==typeof t.postMessageProxy[n]&&t.postMessageProxy[n]()})}},{key:"injectHotjar",value:function(){var t=this.env.get("hotjar_accounts"),n=this.env.get("hotjar_id"),i=this.user.get("account_id");t&&n&&i&&t.split(",").includes(i.toString())&&e("body").append("<script>(function(h,o,t,j,a,r){    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};    h._hjSettings={hjid:"+n+",hjsv:6};    a=o.getElementsByTagName('head')[0];    r=o.createElement('script');r.async=1;    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;    a.appendChild(r);})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');<\/script>")}},{key:"routes",get:function(){return this._routes||{"*uuids/www/cordova.html":function(){return this.preRender(this.polls)},"":function(){return this.preRender(this.polls)},"my/polls":function(){return this.preRender(this.polls)},polls:function(){return this.preRender(r.partial(this.polls,"poll"))},create:function(){return this.preRender(this.magicBar)},"polls/new":function(){return this.preRender(this.magicBar)},"insert/webpage":"liveSlides","webpage/new":"liveSlides",surveys:function(){return this.preRender(this.surveys)},screenshots:function(){return this.preRender(this.screenshots)},"surveys/new":function(){return this.preRender(this.surveys)},all:function(){return this.preRender(this.polls)},"all/new":function(){return this.preRender(this.magicBar)},login:function(){return s.env.has("nativeAPI")?this.preRender():this.login()},logout:"logout",reset_password:"resetPassword",flash:"flash",modal:"modalMessage",":type/:permalink/edit":function(){return this.preRender(this.edit)},":type/:permalink/preview":function(){return this.preRender(this.preview,!0)},":type/:permalink/states":function(){return this.preRender(this.statePicker,!0)},background:function(){return this.loadBackgroundServices(this.background)},activities:function(){return this.preRender(this.activities)},"multiple_choice/new":function(){return this.preRender(r.partial(R,this,"multiple-choice"))},"open_ended/new":function(){return this.preRender(r.partial(R,this,"open-ended-text"))},"word_cloud/new":function(){return this.preRender(r.partial(R,this,"word-cloud"))},"rank_order/new":function(){return this.preRender(r.partial(R,this,"rank-order"))},"up_down_vote/new":function(){return this.preRender(r.partial(R,this,"up-down-vote"))},"clickable_image/new":function(){return this.preRender(r.partial(R,this,"clickable-image"))},"survey/new":function(){return this.preRender(r.partial(R,this,"survey"))},":terms":"renderLegalDoc"}},set:function(e){this._routes=e}}]),n}();t.default=N}).call(t,n("7t+N"),n("32HH"),n("rdLu"))},bbAb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n("lMcM")),o=u(n("n9xQ")),a=u(n("rdLu")),s=u(n("hBlz")),l=u(n("7t+N"));function u(e){return e&&e.__esModule?e:{default:e}}var c=new r.default,p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ajax=this.ajax.bind(this),this.nextAjax=n}return i(e,[{key:"ajax",value:function(e){if(null!=e.firehose||"script"===e.dataType||"jsonp"===e.dataType||!c.get("proxy_enabled"))return this.nextAjax(e);a.default.defaults(e,f(e.model)),null!=e.model&&(e.model._lastRequestMethod=e.type);var t,n,i,r=(0,s.default)(e.url).absoluteTo(c.get("api_url"));return e.url=r.toString(),e.cache=!1,r.host()===c.get("api_url").host()&&(e.crossDomain=!0,null==e.xhrFields.withCredentials&&(e.xhrFields.withCredentials=!0),c.get("nginx_proxy_path")?d(e,c.get("nginx_proxy_path")):l.default.support.cors||(t=console,n="warn",i=function(e){return e.warn("Detected '$.support.cors = false', but no proxy is available. Cross-domain XHR requests may not work. You are likely running an unsupported browser. Try upgrading your browser. On iOS, try upgrading your Operating System.")},void 0!==t&&null!==t&&"function"==typeof t[n]&&i(t,n))),this.nextAjax(e)}}]),e}(),d=function(e,t){e.crossDomain=!1;var n=(0,s.default)(e.url);return n.resource(t+n.resource()),n.origin((0,s.default)().origin()),e.url=n.toString(),e.url},f=function(e){var t=JSON.parse(JSON.stringify(o.default));return(null!=e?e.basicAuth:void 0)&&(e.basicAuth.username&&e.basicAuth.password?t.headers.Authorization="Basic "+btoa(e.basicAuth.username+":"+e.basicAuth.password):delete t.headers.Authorization),t};t.default=p},bevw:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=f(n("x4Pe")),s=f(n("9gpq")),l=f(n("qM++")),u=f(n("eo6Q")),c=f(n("tRaw")),p=f(n("FsSI")),d=f(n("LVWF"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){e.model.polls.every(function(e){return e.get("type")})&&v(e,null)},v=function(e,t){var n=new c.default({survey:e.model,type:t});return e.model.polls.add(n)},g=function(e,t){var n=new u.default({model:t,showGrading:e.showGrading,showUpload:e.showUpload,showAltText:e.showAltText,instructionsImage:e.instructionsImage,survey:e.model,activities:e.activities});e.$activities.append(n.render().$el),n.on("view:action",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trigger("view:action",t,n)})},y=function(e){e.model.changed=i.extend(e.model.changed,{survey_polls_changed:!0}),e.model.trigger("change",e.model)},m=function(e,t,n){e.model.trigger("invalid",t,n)},b=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.extend(this,(0,a.default)(this)),i.defaults(e,{showGrading:!1,showUpload:!1,showAltText:!1,instructionsImage:!1,activities:{}}),i.defaults(e.activities,{"multiple-choice":!0,"word-cloud":!0,"up-down-vote":!0,"rank-order":!0,"clickable-image":!0,"open-ended-text":!0}),this.showGrading=e.showGrading,this.showUpload=e.showUpload,this.showAltText=e.showAltText,this.instructionsImage=e.instructionsImage,this.activities=e.activities,this.title=new s.default({model:this.model,placeholder:"Survey title"}),this.listenTo(this.model.polls,"change:type",i.partial(h,this)),this.listenTo(this.model.polls,"add",i.partial(g,this)),this.listenTo(this.model.polls,"update",i.partial(h,this)),this.listenTo(this.model.polls,"all",i.partial(y,this)),this.listenTo(this.model.polls,"invalid",i.debounce(i.partial(m,this),50,!0))}},{key:"render",value:function(){var t,n,r;return this.$el.html(this.template()),this.$add=this.$_element("add"),this.$activities=this.$_element("activities"),this.$el.prepend(this.title.render().$el),t=this,n=[".component-editor-multiple-choice__option__dragger",".component-editor-multiple-choice__option__input",".component-editor-clickable-image__builder__regions","button"].join(", "),r=["."+t.className+"__activity--placeholder"].join(", "),t.drake=(0,d.default)({containers:t.$activities.toArray(),invalid:function(t,i){return e(i).is(n)||e(t).is(r)},accepts:function(e,t,n,i){return null!==i}}),t.drake.on("dragend",function(n){var i=t.$activities.children().index(n);e(n).trigger("updateindex",i)}),this.model.polls.each(i.partial(g,this)),h(this),this.model.polls.comparator=null,this}},{key:"validate",value:function(){return new l.default(this.model).validate()}},{key:"remove",value:function(){this.title.remove(),this.drake.destroy(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-editor-survey"}},{key:"template",get:function(){return p.default}}]),n}();t.default=b}).call(t,n("7t+N"),n("rdLu"),n("32HH"))},bzXM:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-clickable-image__title'></div>\n<div class='component-editor-clickable-image__body'></div>\n<div class='component-editor-clickable-image__message'>\n  <small></small>\n</div>\n<div class='component-editor-clickable-image__grading component-editor-clickable-image__grading--hidden'>\n  <label>\n    <input type='checkbox' name='weighted_grading_enabled'>\n    Assign points to different options\n  </label>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},c6nV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("qblT")),o=a(n("Tw0i"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"addVote",value:function(e){var t=this.find(function(t){return t.get("result_id")===e.result_id});return t?t.set({value:e.value}):(t=new o.default(e),this.add(t))}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),t}();s.initClass(),t.default=s},cGVx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n("32HH"),o=(i=r)&&i.__esModule?i:{default:i};var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Model),t}();t.default=a},coW0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{validateGlobalKeyword:function(){var t=e.model.validateKeyword();if(t)return e.$el.addClass(e.className+"--keyword-error"),void e.$keywordStatus.text(t);e.$keywordStatus.text(""),e.$el.removeClass(e.className+"--keyword-error"),e.model.get("keyword")&&e.model.get("keyword").length>0&&e.model.checkKeywordAvailability().then(function(t,n,i){!1!==t||e.model.get("permalink")===i&&e.model.collection.poll.model.get("permalink")===i||(e.$el.addClass(e.className+"--keyword-error"),e.$keywordStatus.text("Keyword is taken"))}).fail(function(t){e.$el.addClass(e.className+"--keyword-error"),e.$keywordStatus.text(t)})}}}},daz6:function(e,t,n){"use strict";(function(e){(function(){var t,n,i,r,o,a,s,l=function(e,t){return function(){return e.apply(t,arguments)}};window.Cutlass={},window.Cutlass.uuid4=s=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t;return t=16*Math.random()|0,("x"===e?t:3&t|8).toString(16)})},r=function(e,t,n){var i,r;return n?((i=new Date).setTime(i.getTime()+60*n*60*1e3),r="; expires="+i.toGMTString()):r="",document.cookie=e+"="+t+r+"; path=/"},i=function(e){var t;return(t=new RegExp(e+"=([^\\s;]*)","ig").exec(document.cookie))?decodeURIComponent(t[1]):s()},a=function(e,t,n,r){return{visit:{visitor_id:i(e.options.visitorCookie),account_id:t,user_id:n,id:i(e.options.visitCookie),referrer:document.referrer,user_agent:navigator.userAgent,domain:document.location.hostname},events:r}},o=function(e){return r(e.options.visitCookie,i(e.options.visitCookie),e.options.visitTTL),r(e.options.visitorCookie,i(e.options.visitorCookie),e.options.visitorTTL)},n=function(t){var n;return{tag:(n=e(t.currentTarget)).get(0).tagName.toLowerCase(),id:n.attr("id"),class:n.attr("class"),page:window.location.pathname,section:n.closest("*[data-section]").data("section")}},t=function(t,n,i){if(0!==i.length)return null!=t.cutlassUrl?e.ajax({type:"post",url:t.cutlassUrl+"/"+n,data:JSON.stringify(i)}).done(function(e,n,i){if(202===i.status)return t.events=[]}):void 0},window.Cutlass.Cannon=function(){function i(e,t){this.cutlassUrl=e,null==t&&(t={}),this.trackAll=l(this.trackAll,this),this.trackChanges=l(this.trackChanges,this),this.trackSubmits=l(this.trackSubmits,this),this.trackClicks=l(this.trackClicks,this),this.trackView=l(this.trackView,this),this.addEvent=l(this.addEvent,this),this.addEvents=l(this.addEvents,this),this.options={visitCookie:t.visitCookie||"cutlass_visit",visitorCookie:t.visitorCookie||"cutlass_visitor",visitTTL:t.visitTTL||4,visitorTTL:t.visitorTTL||336},this.accountId=null,this.userId=null,this.events=[],o(this)}return i.prototype.addEvents=function(e){return this.events=this.events.concat(e),t(this,"events",a(this,this.accountId,this.userId,this.events))},i.prototype.addEvent=function(e,n){return this.events=[{name:e,properties:n,url:window.location.href,query_string:window.location.search}],t(this,"events",a(this,this.accountId,this.userId,this.events))},i.prototype.trackView=function(e){var t,n;if(n={url:window.location.href,title:document.title,page:window.location.pathname},e)for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return this.addEvent("$view",n)},i.prototype.trackClicks=function(){return e(document).on("click","a, button, input[type=submit]",(t=this,function(i){var r,o;return r=e(i.currentTarget),(o=n(i)).text="input"===o.tag?r.val():e.trim(r.text().replace(/[\s\r\n]+/g," ")),o.href=r.attr("href"),t.addEvent("$click "+o.text,o)}));var t},i.prototype.trackSubmits=function(){return e(document).on("submit","form",(t=this,function(e){var i;return i=n(e),t.addEvent("$submit",i)}));var t},i.prototype.trackChanges=function(){return e(document).on("change","input, textarea, select",(t=this,function(e){var i;return i=n(e),t.addEvent("$change",i)}));var t},i.prototype.trackAll=function(){return this.trackView(),this.trackClicks(),this.trackSubmits(),this.trackChanges()},i}()}).call(void 0)}).call(t,n("7t+N"))},djP2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n("qblT")),a=c(n("ui+V")),s=c(n("qo6o")),l=n("SXII"),u=c(n("hBlz"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.resetParams=o.resetParams.bind(o),o.params=o.params.bind(o),o.query=o.query.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(){return this.on("reset",this.resetParams),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments)}},{key:"comparator",value:function(e){return-e.id}},{key:"url",value:function(){return(0,u.default)("/polls").segment(this.poll.get("permalink")).segment("results").toString()}},{key:"resetParams",value:function(){return this.params({}).resetSearchParams(),this.trigger("reset:params")}},{key:"params",value:function(e){return this._filter||(this._filter=new s.default),null!=e?this._filter.set(e):this._filter.attributes}},{key:"query",value:function(e){return null==e&&(e={}),e.data=this.params(),this.fetch(e)}},{key:"parse",value:function(e,n){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parse",this).apply(this,arguments),(0,l.popRootKeys)(e)}}],[{key:"initClass",value:function(){this.prototype.model=a.default}}]),t}();p.initClass(),t.default=p},dkoP:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n("x4Pe")),a=s(n("52al"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.$_element("bar").css("width",t+"%")},u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.extend(this,(0,o.default)(this)),this.options=i.defaults(e,{message:"In progress...",waitPrediction:2}),this.$el.html(this.template)}},{key:"render",value:function(){return this.$_element("message").text(this.options.message),this.animate(3),this}},{key:"animate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t<1)throw new Error("timeMultiplier must be greater than 1");var n=this.options.waitPrediction*t;l(this,10),this.$_element("bar").css("transition-duration",n+"s"),i.delay(function(){return l(e,95)})}},{key:"className",get:function(){return"progress-bar"}},{key:"template",get:function(){return a.default}}]),n}();t.default=u}).call(t,n("32HH"),n("rdLu"))},dlNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n("qo6o")),o=l(n("Hf0w")),a=l(n("DN4/")),s=l(n("hBlz"));function l(e){return e&&e.__esModule?e:{default:e}}var u=new r.default({order:"submitted_at",direction:"DESC"}),c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.query=o.query.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(e){var t,n;null==e&&(e={}),null!=e.participant&&(this.url=(t=e.participant,n=t.id||t,function(){return(0,s.default)("/api/participants").segment(n.toString()).segment("responses").toString()}))}},{key:"url",value:function(){return"/api/participants/-1/responses"}},{key:"params",value:function(e){return null!=e?u.set(e):u.attributes}},{key:"query",value:function(){return this.fetch({data:this.params(),reset:!0})}}],[{key:"initClass",value:function(){this.prototype.model=a.default}}]),t}();c.initClass(),t.default=c},dn70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i},s=n("SXII");var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.toJSON=o.toJSON.bind(o),o.isLoggedIn=o.isLoggedIn.bind(o),o.isOnlyRegParticipant=o.isOnlyRegParticipant.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"initialize",value:function(e){if(null==e&&(e={}),e.user)return e.user.unset("id"),this.set(e.user.attributes)}},{key:"url",value:function(){return"/users"}},{key:"toJSON",value:function(){return(0,s.rootKey)("user",this.pick(this.modelProperties))}},{key:"isLoggedIn",value:function(){return this.id>0}},{key:"isOnlyRegParticipant",value:function(){return!this.get("account_id")}}],[{key:"initClass",value:function(){this.prototype.defaults={role:"participant"},this.prototype.modelProperties=["id","email","first_name","last_name","password","role","user_source"]}}]),t}();l.initClass(),t.default=l},ds15:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-title__input'>\n  <input name='title' text='text'>\n  <div class='component-editor-title__image'>\n    <button class='component-editor-title__image__button component-editor-title__image__button--hidden'></button>\n    <div class='component-editor-title__image__preview component-editor-title__image__preview--hidden'></div>\n  </div>\n</div>\n<div class='component-editor-title__preview'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},eBus:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=g(n("dn70")),a=g(n("a2Pg")),s=g(n("uYzY")),l=g(n("a2bv")),u=g(n("dlNt")),c=g(n("eaou")),p=g(n("aXj8")),d=n("SXII"),f=g(n("rdLu")),h=g(n("32HH")),v=g(n("hBlz"));function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.liveChannel=o.liveChannel.bind(o),o.liveParams=o.liveParams.bind(o),o.livePreflight=o.livePreflight.bind(o),o.dismissAnnouncement=o.dismissAnnouncement.bind(o),o.firstNameLastInitial=o.firstNameLastInitial.bind(o),o.isRegisteredWith=o.isRegisteredWith.bind(o),o.isOwner=o.isOwner.bind(o),o.isAdmin=o.isAdmin.bind(o),o.owns=o.owns.bind(o),o.canManage=o.canManage.bind(o),o.hasLogin=o.hasLogin.bind(o),o.hasParticipantReporting=o.hasParticipantReporting.bind(o),o.phoneNumber=o.phoneNumber.bind(o),o.isPhoneNumberVerified=o.isPhoneNumberVerified.bind(o),o.toJSON=o.toJSON.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"url",value:function(){return this.isNew()?"/users":"/my/profile"}},{key:"initialize",value:function(e){this.include(c.default),this.include(p.default),this.paymentMethod=new a.default,this.groups=new s.default,this.groups.user=this,this.polls=new l.default,this.polls.user=this,this.responses=new u.default}},{key:"clear",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clear",this).apply(this,arguments),this.paymentMethod.clear(),this.responses.reset(),this.groups.reset(),this.polls.reset()}},{key:"liveChannel",value:function(){return(0,v.default)("users").segment(this.id.toString()).segment("polls/current.json").toString()}},{key:"liveParams",value:function(){var e={};return this.firehose_token&&(e.firehose_token=this.firehose_token),e}},{key:"livePreflight",value:function(){var e=this;return h.default.ajax({dataType:"json",url:"/api/tokens/current_poll",type:"GET",data:{presenter_id:this.id}}).done(function(t){e.firehose_token=t.firehose_token})}},{key:"dismissAnnouncement",value:function(){return this.sync("update",this,{url:"/profile/read_announcement",type:"PUT"})}},{key:"firstNameLastInitial",value:function(){return this.get("first_name")+" "+(this.get("last_name")||"").slice(0,1)+"."}},{key:"isRegisteredWith",value:function(e){var t=void 0;t=f.default.isNumber(e)?e:e.get("account_id");var n=this.get("member_of_account_ids");return f.default.include(n,t)}},{key:"isOwner",value:function(){return"account owner"===this.get("role")}},{key:"isAdmin",value:function(){return"account administrator"===this.get("role")}},{key:"owns",value:function(e){return!f.default.isUndefined(this.get("id"))&&(f.default.isNumber(e)?e:e.get("owner_id")||e.get("user_id"))===this.get("id")}},{key:"canManage",value:function(e){return this.owns(e)||(this.isAdmin()||this.isOwner())&&e.get("account_id")===this.get("account_id")}},{key:"hasLogin",value:function(){return this.get("login").length>0}},{key:"hasParticipantReporting",value:function(){return this.get("participant_reporting")}},{key:"phoneNumber",value:function(){return this.get("phone_number")}},{key:"isPhoneNumberVerified",value:function(){return this.phoneNumber()&&this.phoneNumber()===this.get("phone_number")}},{key:"toJSON",value:function(){return this.isNew()?(0,d.rootKey)("user",this.attributes):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toJSON",this).apply(this,arguments)}},{key:"parse",value:function(e){null==e&&(e={});var t=e;return null!=e.user&&(t=e.user),null!=t.payment_method_id&&this.paymentMethod.set({id:t.payment_method_id}),t}}],[{key:"initClass",value:function(){this.prototype.defaults={role:"presenter"}}}]),t}();y.initClass(),y.sendRegistrationReminder=function(e,t){return h.default.ajax({type:"POST",url:(0,v.default)("/api/users").segment(""+e).segment("remind").toString(),dataType:"text",data:{registration_url:t}})},y.sendPasswordReset=function(e){return h.default.ajax({type:"POST",url:"/api/password_resets",dataType:"text",data:{email:e}})},y.checkForExistence=function(e){return h.default.ajax({type:"HEAD",url:"/api/users/search?login_or_email="+encodeURIComponent(e),ssl:!0})},y.samlAjax=function(e){return h.default.ajax({url:"/saml_check.json",data:{email_login:e},ssl:!0})},t.default=y},eHe5:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg id='Layer_1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='151.3px' height='104px' viewBox='0 0 151.3 104' xml:space='preserve'>\n  <title>vote-mcp</title>\n  <g>\n    <rect x='33.4' y='15' width='84.6' height='29.1' style='fill:#60E2DC;'></rect>\n    <rect x='33.4' y='59.9' width='53.4' height='29.1' style='fill:#4F4F4F;'></rect>\n  </g>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},eaou:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n("SXII"),r=l(n("9nM1")),o=l(n("rdLu")),a=l(n("sFe/")),s=l(n("Vvyd"));function l(e){return e&&e.__esModule?e:{default:e}}var u=null;t.default=function(t){return{firehoseConnect:function(e){return null==e&&(e={}),t._canRetryFirehoseConnection=!0,e.multiplex?this.firehoseConnectMultiplexed(e):this.firehoseConnectSingle(e)},firehoseConnectMultiplexed:function(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u?u.subscribe(i.path,{message:i.message,params:i.params}):(u=new s.default({uri:r.default.get("firehose_url"),ssl:r.default.get("firehose_ssl"),disconnected:i.disconnected,connected:i.connected,error:i.error,failed:i.failed,subscriptionFailed:i.subscriptionFailed,longPoll:{url:r.default.get("firehose_url").protocol("").path(i.path).toString()},channels:(e={},t=i.path,n={message:i.message,params:i.params},t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)})).connect()},firehoseConnectSingle:function(e){return null==e&&(e={}),t.firehoseConsumer=new Firehose.Consumer({uri:r.default.get("firehose_url").path(e.path),ssl:r.default.get("firehose_ssl"),message:e.message,disconnected:e.disconnected,connected:e.connected,error:e.error,failed:e.failed,params:e.params,subscriptionFailed:e.subscriptionFailed,longPoll:{url:r.default.get("firehose_url").protocol("").path(e.path).toString()}}),t.firehoseConsumer.connect()},firehoseDisconnect:function(){return t.firehoseConsumer?null!=t.firehoseConsumer?t.firehoseConsumer.stop():void 0:u?u.unsubscribe(o.default.result(t,"liveChannel")):void 0},livePoll:function(e){if(null==e&&(e={}),t.type()){var n=(0,i.pluralize)(2,t.type());return e.path="/"+n+"/"+t.get("permalink")+".json",e.multiplex=!0,t.live(e)}},live:function(e){return null==e&&(e={}),e.path||(e.path=o.default.result(t,"liveChannel")),e.params||(e.params=t.liveParams),t.firehoseConnect({path:e.path,message:function(n){return t._handleLiveMessage(n,e)},disconnected:e.disconnected,connected:e.connected,error:e.error,failed:e.failed,multiplex:e.multiplex,params:e.params,subscriptionFailed:t._firehoseReconnect})},_handleLiveMessage:function(e,n){if(!(e&&e.error&&t._handleFirehoseError(e))&&(t._canRetryFirehoseConnection=!0,!1!==t.silenced)){var r=(0,i.popRootKey)(e);if(t.id===(null!=r?r.id:void 0)&&!(t.has("updated_at")&&r.updated_at&&(0,a.default)(t.get("updated_at")).diffMilliseconds(r.updated_at)>=0))return;var o=null!=n.filterLiveResponse?n.filterLiveResponse(e):e;return n.multiplex?"function"==typeof t.processLiveResponse&&t.processLiveResponse(o,n):"function"==typeof t.processLiveResponse&&t.processLiveResponse(o),t.trigger("liveResponse",e)}},die:function(){return t.firehoseDisconnect()},silence:function(e){null==e&&(e=!0),t.silenced=!0===e},_handleFirehoseError:function(e){switch(null!=e.error?e.error.type:void 0){case"UnauthorizedSubscription":case"ExpiredSubscription":return t._firehoseReconnect(),!0}return!1},_firehoseReconnect:function(){t._canRetryFirehoseConnection?(t._canRetryFirehoseConnection=!1,(null!=t.livePreflight?t.livePreflight():e.Deferred().resolve()).always(function(){t.firehoseDisconnect(),t.firehoseConsumer?t.firehoseConsumer.connect():u&&u.connect()})):t.trigger("firehose:authorization:error")}}}}).call(t,n("7t+N"))},ecTP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n("+B0W")),a=u(n("TicV")),s=u(n("rdLu")),l=u(n("hBlz"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.isSegmented=o.isSegmented.bind(o),o.showInstructions=o.showInstructions.bind(o),o.showChart=o.showChart.bind(o),o.showingInstructions=o.showingInstructions.bind(o),o.showingCorrectness=o.showingCorrectness.bind(o),o.toggleCorrectness=o.toggleCorrectness.bind(o),o.toJSON=o.toJSON.bind(o),o.setChartType=o.setChartType.bind(o),o.enableSegmentation=o.enableSegmentation.bind(o),o.disableSegmentation=o.disableSegmentation.bind(o),o.getColorRGBA=o.getColorRGBA.bind(o),o.getColorHex=o.getColorHex.bind(o),o.getColorARGB=o.getColorARGB.bind(o),o.processLiveResponse=o.processLiveResponse.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"url",value:function(){return(0,l.default)("/polls").segment(this.poll.permalink()).segment("flash_options.json").toString()}},{key:"isNew",value:function(){return!1}},{key:"isSegmented",value:function(){return!!this.has("chartType")&&0===this.get("chartType").indexOf("team")}},{key:"showInstructions",value:function(e){null==e&&(e={});return e.type="PUT",this.save({displayMode:"optionsTable"},e)}},{key:"showChart",value:function(e){var t=void 0;(null==e&&(e={}),this.showingInstructions())?t=(this.get("chartType")||"")+"chart":t="optionsTable";return e.type="PUT",this.save({displayMode:t},e)}},{key:"showingInstructions",value:function(){return"optionsTable"===this.get("displayMode")}},{key:"showingCorrectness",value:function(){return this.get("showTeamCorrectness")}},{key:"toggleCorrectness",value:function(e){return null==e&&(e={}),e.type="PUT",this.save({showTeamCorrectness:!this.get("showTeamCorrectness")},e)}},{key:"toJSON",value:function(){return{flash_options:function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toJSON",this).apply(this,arguments)}}},{key:"setChartType",value:function(e){var t,n,i,r=this.isSegmented();return(e=e.toLowerCase()).match(/bar/i)?this.set({displayMode:r?"teamBarChart":"barchart",chartType:r?"teamBar":"bar"}):e.match(/col/i)?this.set({displayMode:r?"teamColChart":"colchart",chartType:r?"teamCol":"col"}):e.match(/donut/i)?this.set({displayMode:e+"chart",chartType:e}):(t=console,n="warn",i=function(t){return t.warn("'"+e+"' isn't a valid chart type")},void 0!==t&&null!==t&&"function"==typeof t[n]?i(t,n):void 0)}},{key:"enableSegmentation",value:function(){if(this.get("chartType").match(/bar/i)){if(this.set({chartType:"teamBar"}),!this.showingInstructions())return this.set({displayMode:"teamBarChart"})}else if(this.get("chartType").match(/col/i)&&(this.set({chartType:"teamCol"}),!this.showingInstructions()))return this.set({displayMode:"teamColChart"})}},{key:"disableSegmentation",value:function(){if(this.set({chartType:this.get("chartType").replace("team","").toLowerCase()}),!this.showingInstructions())return this.set({displayMode:this.get("displayMode").replace("team","").toLowerCase()})}},{key:"getColorRGBA",value:function(e,t){var n;if(null==t&&(t=1),n=a.default.intToHex(this.get(e))){var r=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/.exec(n),o=Array.from(Array.from(r.slice(1,4)).map(function(e){return parseInt(e,16)})),s=i(o,3);return"rgba("+s[0]+", "+s[1]+", "+s[2]+", "+t+")"}}},{key:"getColorHex",value:function(e){return a.default.intToHex(this.get(e))}},{key:"getColorARGB",value:function(e,t){var n=void 0;return null==t&&(t=1),(n=a.default.intToHex(this.get(e)))?"#"+(t=Math.floor(255*t).toString(16))+n.slice(1):void 0}},{key:"parse",value:function(e){return e&&(s.default.isUndefined(e.headerLogoPlacement)||e.headerLogoPlacement||(e.headerLogoPlacement="center")),e}},{key:"processLiveResponse",value:function(e){var t,n=this;if(null==this.throttledUpdate&&(this.throttledUpdate=s.default.throttle(function(e){if(!n.isSaving)return n.set(e)},1e3)),(t=e.flash_options)&&null!=this.poll&&!this.poll.displayPanel)return this.throttledUpdate(t)}}],[{key:"initClass",value:function(){this.prototype.defaults={segmentationSizedByPercentage:!0}}}]),t}();c.initClass(),t.default=c},eo6Q:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=p(n("x4Pe")),a=p(n("XDnp")),s=p(n("jtaX")),l=p(n("1mPk")),u=p(n("sj5z")),c=p(n("G9FE"));function p(e){return e&&e.__esModule?e:{default:e}}var d=new e.Collection([{activity:"Multiple choice",id:"multiple-choice"},{activity:"Word cloud",id:"word-cloud"},{activity:"Q&A",id:"up-down-vote"},{activity:"Rank order",id:"rank-order"},{activity:"Clickable image",id:"clickable-image"},{activity:"Open ended text",id:"open-ended-text"}]),f=function(e){e.model.collection&&e.$label.text(e.model.collection.indexOf(e.model)+1)},h=function(e,t){e.$_toggleModifier(null,e.className,"placeholder",t)},v=function(e,t){var n=void 0;switch(t.type()){case"multiple_choice_poll":n=new a.default({model:t,showGrading:e.showGrading,showUpload:e.showUpload,showAltText:e.showAltText,instructionsImage:e.instructionsImage});break;case"ranking_poll":n=new a.default({model:t});break;case"clickable_image":n=new l.default({model:t,showGrading:e.showGrading,showUpload:e.showUpload,showAltText:e.showAltText});break;default:n=new s.default({model:t})}return e.editorView&&e.editorView.remove(),e.editorView=n,e.editorView.on("view:action",function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trigger("view:action",t.type()+":"+n,i)}),e.$editor.html(n.render().$el)},g=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.extend(this,(0,o.default)(this)),i.defaults(n,{showGrading:!1,showUpload:!0,showAltText:!1,instructionsImage:!1,activities:{}}),i.defaults(n.activities,{"multiple-choice":!0,"word-cloud":!0,"up-down-vote":!0,"rank-order":!0,"clickable-image":!0,"open-ended-text":!0}),this.showGrading=n.showGrading,this.showAltText=n.showAltText,this.instructionsImage=n.instructionsImage,this.activity=n.activity,this.collection=n.collection;var r=d.filter(function(e){return n.activities[e.id]});this.dropdown=new u.default({collection:new e.Collection(r),placeholderText:"Select a question type",labelKey:"activity",defaultId:null,autoDisable:!1}),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model.collection,"remove reorder",i.partial(f,this)),this.listenTo(this.dropdown,"select",function(e){return function(e,t){h(e,null==t),e.model.setType(t);var n=e.model.getPoll();"multiple-choice"!==t&&"rank-order"!==t||n.mcpOptions.length||n.mcpOptions.set([new PollEv.Model.MCPOption,new PollEv.Model.MCPOption]),e.$_toggleModifier(null,e.className+"__editor-container","active",null!=t),n&&v(e,n),e.model.hasChanged("type")&&(null===e.model.previous("type")?e.trigger("view:action","add_activity",{type:t}):e.trigger("view:action","change_type",{type:t,previousType:e.model.previous("type")}))}(t,e.get("id"))})}},{key:"render",value:function(){return this.$el.html(this.template()),this.$selector=this.$_element("selector"),this.$selector.append(this.dropdown.render().$el),this.$label=this.$_element("label"),this.$options=this.$_element("options"),this.$editor=this.$_element("editor"),this.$editorContainer=this.$_element("editor-container"),this.dropdown.select(this.model.get("type")),h(this,null==this.model.get("type")),f(this),this}},{key:"className",get:function(){return"component-editor-activity-transformer"}},{key:"template",get:function(){return c.default}},{key:"events",get:function(){return{"click .component-editor-activity-transformer__delete-expanded":function(){var e;(e=this).model.collection.remove(e.model),e.trigger("view:action","delete",{type:e.model.getPoll().type()})},updateindex:function(e,t){!function(e,t){var n=e.model.collection.indexOf(e.model);e.model.collection.models.splice(n,1),e.model.collection.models.splice(t,0,e.model),e.model.collection.trigger("reorder")}(this,t)}}}}]),n}();t.default=g}).call(t,n("32HH"),n("rdLu"))},eshN:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("6L1a"),a=n("Lxn6"),s=n("SXII"),l=c(n("lQcO")),u=c(n("iMry"));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.navTo=o.navTo.bind(o),o.preLoad=o.preLoad.bind(o),o.postRender=o.postRender.bind(o),o.action=o.action.bind(o),o.toggleActionState=o.toggleActionState.bind(o),o._switchMode=o._switchMode.bind(o),o._handleVisibilityChange=o._handleVisibilityChange.bind(o),o._handleFullscreen=o._handleFullscreen.bind(o),o._handleLogin=o._handleLogin.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,l.default),r(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments),this.header=e.header,this.footer=e.footer,this.model=e.model,this.settings=e.settings,this.app=e.app,this.header.renderNav((0,u.default)()),this.header.showFilterPolls(!1);var t=this.app.settings.get("actionLabel");if(t){var i=1;"screenshot"===t&&this.model.polls&&(i=this.model.polls.length);var r=this.app.settings.createActionButtonText(i,t);this.footer.renderActionLabel(r),this.footer.actionEl.toggleVisibility(!0),this.footer.$cancel.toggleVisibility(!1),this.toggleActionState()}else this.footer.hideActions(!0);this.url=function(e){var t=e.app.user.isLoggedIn()&&e.app.user.canManage(e.model),n="hidden";o.env.get("nativeAPI")||(n=o.env.get("office")?"office":o.env.has("cordova")?"tablet":"webpresenter");var i={presenter_app:!0,controls:n,hide:"activate_tooltip",platform:o.env.get("office")?"agave":"web_presenter"};return t||(i.display="user_login"),o.env.get("viz_url").protocol(o.env.get("secure_protocol")).path(""+e.model.showUrl()).query(i).toString()}(this,this.model),this.isFullscreen=!1,this.listenTo(this.footer,"action",this.action),this.listenTo(this.app.bindingLayer,"slidesInsertable",this.toggleActionState)}},{key:"navTo",value:function(t){var n=e.history;t?this.app.navigate(t):n.history.length>1?this.app.navigateBack():this.app.navigate("")}},{key:"preLoad",value:function(){this.$frame.toggleVisibility(!1),this.app.trigger("spinner:show")}},{key:"postRender",value:function(){this.app.trigger("spinner:hide"),this.$frame.toggleVisibility(!0),(0,a.fireNotification)(this)}},{key:"action",value:function(){var e=this,t=[],n=[],r=[],o=this.app.settings.get("actionLabel");if("screenshot"===o)this.model.polls?this.model.polls.forEach(function(i){t.push(i.cleanTitle()),n.push((0,a.getScreenshotUrl)(e.app.env,i))}):(t.push(this.model.cleanTitle()),n.push((0,a.getScreenshotUrl)(this.app.env,this.model)));else{var l=this.app.presenterView.formatForMultipleNativeInsert([this.model]),u=i(l,3);t=u[0],n=u[1],r=u[2]}var c="Inserting "+(0,s.pluralize)(t.length,o,{includeNumber:t.length>1})+"...";this.app.trigger("showFakeProgress",t.length,c);var p=this.app.settings.get("actionEvent");this.app.trigger("insert",p,t,n,r)}},{key:"toggleActionState",value:function(e){this.footer.toggleAction(this.app.bindingLayer.slidesInsertable()&&!this.settings.disables("insert")),this.footer.hideActions(!this.app.settings.showInsert())}},{key:"_switchMode",value:function(e){o.env.get("nativeAPI")||this.app.user.isLoggedIn()&&this.app.user.canManage(this.model)&&(e||(e=(o.env.has("office")?o.env.get("office").isPresenting():void 0)||this.isFullscreen?"present":"edit"),this.trigger("change:mode",e),o.env.has("cordova")?(o.env.get("cordova").fullscreen("present"===e),"present"===e&&this.postToFrame("slide:start")):"present"===e?(this.postToFrame("controls:hide"),o.env.has("office")&&!o.env.get("office").isVisible()||this.postToFrame("slide:start")):this.postToFrame("controls:show"),this.resize())}},{key:"_handleVisibilityChange",value:function(){this._switchMode()}},{key:"_handleFullscreen",value:function(e){this.isFullscreen=e[1],this._switchMode(this.isFullscreen?"present":"edit")}},{key:"_handleLogin",value:function(){var e=this;this.app.session.start().done(function(){e.app.user.isLoggedIn()&&e.app.trigger("native:api:login")})}},{key:"postMessageEvents",get:function(){var e=this;return{finishedLoading:function(t){return e._switchMode(t)},toggleFullscreen:function(){return e._handleFullscreen.apply(e,arguments)},loginComplete:this._handleLogin()}}},{key:"appEvents",get:function(){return{"office:change:mode":function(e){this._switchMode(e)},"office:change:visibility":function(){this._handleVisibilityChange()}}}}]),n}();t.default=p}).call(t,n("32HH"))},fcnF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=p(n("+B0W")),a=p(n("7r57")),s=p(n("MBh1")),l=p(n("uD56")),u=p(n("hBlz")),c=n("SXII");function p(e){return e&&e.__esModule?e:{default:e}}var d,f=(d=void 0,(f=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.validate=o.validate.bind(o),o.hasValue=o.hasValue.bind(o),o.cleanUp=o.cleanUp.bind(o),o.displayValue=o.displayValue.bind(o),o.percentageOfMax=o.percentageOfMax.bind(o),o.percentageOfMinMaxDifference=o.percentageOfMinMaxDifference.bind(o),o.ordinalRank=o.ordinalRank.bind(o),o.percentageOfTotal=o.percentageOfTotal.bind(o),o.toJSON=o.toJSON.bind(o),o.isCorrect=o.isCorrect.bind(o),o.responseUrl=o.responseUrl.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(e){return null==e&&(e={}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.include(s.default),this.include(a.default),this.initKeyword(),e.uploader&&(this.uploader=e.uploader,this.uploadId=e.uploadId),this.include(l.default)}},{key:"validate",value:function(e,t){var n=this.validateKeyword({allowBlank:!0,sessionKeyword:null!=this.collection?this.collection.poll.get("simple_keywords"):void 0});return void 0!==n?n:e.points&&!d.test(e.points)?"Invalid points":void 0}},{key:"hasValue",value:function(){return this.has("value")&&this.get("value").trim().length>0}},{key:"cleanUp",value:function(){return h(null!=this.collection?this.collection.poll:void 0,function(e){return e.off()}),null!=this.mcpOptions&&this.mcpOptions.off(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"cleanUp",this).apply(this,arguments)}},{key:"displayValue",value:function(){return this.isLatex()?this.latexEquation():this.isImage()?this.imageUrl():(0,c.cleanString)(this.get("value"))}},{key:"percentageOfMax",value:function(){var e=void 0,t=this.get("results_count");return t&&null!=this.collection?"ranking_poll"===h(null!=this.collection?this.collection.poll:void 0,function(e){return e.type()})?((e=this.collection.length)-t)/(e-1)*100:t/(e=this.collection.highestResult())*100:0}},{key:"percentageOfMinMaxDifference",value:function(){var e;if(this.collection){var t=this.collection.highestResult()-this.collection.lowestResult();if(t&&(e=this.get("results_count"))){var n=(e-this.collection.lowestResult())/t*100;return"ranking_poll"===h(null!=this.collection?this.collection.poll:void 0,function(e){return e.type()})?100-n:n}}}},{key:"ordinalRank",value:function(){return null!=this.collection?this.collection.ordinalRank(this):void 0}},{key:"percentageOfTotal",value:function(){return this.get("results_count")/(null!=this.collection?this.collection.poll.get("results_count"):void 0)*100}},{key:"toJSON",value:function(){return this.pick(this.modelProperties)}},{key:"isCorrect",value:function(){return this.has("correct_response")?this.get("correct_response"):this.get("correct")}},{key:"responseUrl",value:function(){var e=this.collection.poll.get("permalink");return(0,u.default)("/").segment(this.collection.poll.type()+"s").segment(e).segment("options").segment(this.id.toString()).segment("results.json").toString()}}],[{key:"initClass",value:function(){d=/^-?\d{0,3}(\.\d{1,2})?$/,this.prototype.modelProperties=["id","value","keyword","correct_response","points","alt_text"]}}]),t}()).initClass(),f);function h(e,t){return void 0!==e&&null!==e?t(e):void 0}t.default=f},frds:function(e,t,n){"use strict";(function(e){var t;(t=e).fn.toggleModifier=function(e,n){return n?t(this).attr(e,""):t(this).removeAttr(e)}}).call(t,n("7t+N"))},fxyI:function(e,t,n){"use strict";(function(e,n,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=function(e,t,n){var i=e.viewClass(t);switch(o(e.viewOptions)){case"function":n=e.viewOptions(t,n);break;case"object":n=e.viewOptions}var r=new i(Object.assign({},n,{model:t}));return r.$el.data("modelCid",t.cid),e.listenTo(r,"all",e.trigger),r},s=function(e){var t=[],n=e.collection.map(function(n){var i=a(e,n).render();return t.push(i.$el),i});e.$el.append(t),e.trigger("reset",n)},l=function(t){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,i.View),r(o,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.viewClass=e.viewClass,this.viewOptions=e.viewOptions}},{key:"render",value:function(){var t=this;return s(this),this.listenTo(this.collection,"add",function(e,n,i){return function(e,t,n){var i=a(e,t,n).render(),r=t.collection.indexOf(t),o=e.$el.children().get(r);o?i.$el.insertBefore(o):e.$el.append(i.$el),e.trigger("add",i)}(t,e,i)}),this.listenTo(this.collection,"reset",function(){return s(t)}),this.listenTo(this.collection,"sort",function(){return function(t){var i=t.$el.children(),r=e.indexBy(i,function(e){return n(e).data("modelCid")}),o=!1,a=t.collection.reduce(function(e,a){var s=i[t.collection.indexOf(a)];return a.cid!==n(s).data("modelCid")&&(o=!0),e.push(r[a.cid]),e},[]);if(o){var s=n(a).detach();t.$el.append(s),t.trigger("sort")}}(t)}),this}},{key:"remove",value:function(){return this.collection.each(function(e){return e.trigger("remove",e)}),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this),this}},{key:"className",get:function(){return this._className||"component-list"},set:function(e){this._className=e}}]),o}();t.default=l}).call(t,n("rdLu"),n("7t+N"),n("32HH"))},"fy/z":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-clickable-image__builder__regions-container'>\n  <div class='component-editor-clickable-image__builder__regions'>\n    <img class='component-editor-clickable-image__builder__regions--image' alt='clickable image' draggable='false'>\n  </div>\n  <div class='component-editor-clickable-image__builder__actions'>\n    <button class='component-editor-clickable-image__builder__delete'>Delete</button>\n    <input class='component-editor-clickable-image__builder__image-alt' title='Alternative text' placeholder='Alternative text' name='option-description' maxlength='255'>\n  </div>\n</div>\n<div class='component-editor-clickable-image__builder__region-editor'>\n  <h2 class='component-editor-clickable-image__builder__region-editor__title'>Click anywhere on the image to track how many clicks that region receives.</h2>\n  <div class='component-editor-clickable-image__builder__region-editor__names'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},gFIx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=["webkit","Moz","ms","O"],r={},o=p(d(a()),"animation");function a(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function s(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}var l,u=(l=a("style",{type:"text/css"}),s(document.getElementsByTagName("head")[0],l),l.sheet||l.styleSheet);function c(e,t,n,i){var a=["opacity",t,~~(100*e),n,i].join("-"),s=.01+n/i*100,l=Math.max(1-(1-e)/t*(100-s),e),c=o.substring(0,o.indexOf("Animation")).toLowerCase(),p=c&&"-"+c+"-"||"";return r[a]||(u.insertRule("@"+p+"keyframes "+a+"{0%{opacity:"+l+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}100%{opacity:"+l+"}}",0),r[a]=1),a}function p(e,t){var n,r,o=e.style;if(void 0!==o[t])return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<i.length;r++)if(void 0!==o[n=i[r]+t])return n}function d(e,t){for(var n in t)e.style[p(e,n)||n]=t[n];return e}function f(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var h={lines:9,length:3,width:9,radius:0,color:"#f66",speed:1,trail:42,opacity:1/8,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",hwaccel:!0},v=function e(t){if(!this.spin)return new e(t);this.opts=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}(t||{},e.defaults,h)};v.defaults={},v.prototype={spin:function(e){this.stop();var t,n,i=this,r=i.opts,s=i.el=d(a(0,{className:r.className}),{position:"relative",zIndex:r.zIndex}),l=r.radius+r.length+r.width;if(e&&(e.insertBefore(s,e.firstChild||null),n=f(e),t=f(s),d(s,{left:("auto"===r.left?n.x-t.x+(e.offsetWidth>>1):r.left+l)+"px",top:("auto"===r.top?n.y-t.y+(e.offsetHeight>>1):r.top+l)+"px"})),i.lines(s,i.opts),!o){var u=0,c=r.fps,p=c/r.speed,h=(1-r.opacity)/(p*r.trail/100),v=p/r.lines;!function e(){u++;for(var t=r.lines;t;t--){var n=Math.max(1-(u+t*v)%p*h,r.opacity);i.opacity(s,r.lines-t,n,r)}i.timeout=i.el&&setTimeout(e,~~(1e3/c))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,t){var n,i=0;function r(e,n,i){return d(a(),{position:"absolute",width:t.length*i+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate(-90deg) translate("+t.radius+"px,0)",borderRadius:(t.width>>1)+"px"})}for(var l=0,u=0;i<t.lines;i++){switch(i%3){case 0:l=1.5,u+=10;break;case 1:l=9;break;case 2:l=5}n=d(a(),{position:"absolute",top:1+~(t.width/2)+"px",left:10*i+u+1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:o&&c(t.opacity,t.trail,i,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&s(n,d(r("#000","0 0 4px #000",l),{top:"2px"})),s(e,s(n,r(t.color,"0 0 1px rgba(0,0,0,.1)",l)))}return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}},t.default=v},gTJo:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n("x4Pe")),a=s(n("+W7k"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(t){var n=void 0,i=e.reduce(t.model.polls.pluck("results_count"),function(e,t){return(t||0)+e},0);switch(!0){case 0===i:i="No",n="responses";break;case 1===i:n="response";break;case i>=1e6:i="1M+",n="responses";break;default:n="responses"}"number"==typeof i&&(i=PollEv.Util.commaFormat(i)),t.$_element("header").find(".component-activity-selector__row-count__count").text(i+" "),t.$_element("header").find(".component-activity-selector__row-count__label").text(n)},u=function(e){if(e.$polls.find(".component-activity-selector__poll__activate").attr("tabindex",-1),e.options.activatable){var t=e.model.get("current");e.$_toggleModifier(null,e.className,"activated",!!t),t?e.model.live({multiplex:!0}):e.model.die()}},c=function(e){e.$_element("title__polls-count").text(e.model.polls.length),e.$_element("title__link").attr({title:PollEv.Util.cleanString(e.model.get("title"))+" - "+e.model.polls.length+" questions"})},p=function(e){var t=e.model.get("title"),n=PollEv.Util.cleanString(t),i=PollEv.Util.Latex.isLatex(t),r=e.$_element("title__link");r.attr({href:e.model.showUrl(),title:n+" - "+e.model.polls.length+" questions"}),i?PollEv.Util.Latex.renderInto(r,t):r.text(n)},d=function(e){e.$el.attr("data-id",e.model.id),e.$el.attr("data-type","competition"),e.$el.attr("data-user-id",e.model.get("owner_id")),e.$el.attr("data-position",e.model.get("position"))},f=function(e,t){e.$el.toggleClass(e.className+"--hover","focusin"===t.type),e.$polls.find("input:checkbox, a, button:not(.component-activity-selector__poll__activate)").attr("tabindex",-1)},h=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),r(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this.model instanceof PollEv.Model.Competition))throw new Error("`opts.model` argument must exist, and it must be a competition model.");e.extend(this,(0,o.default)(this)),this.options=e.defaults(t,this.defaults),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"change:current",e.partial(u,this)),this.listenTo(this.model,"change:title",e.partial(p,this)),this.listenTo(this.model,"change",e.partial(d,this)),this.listenTo(this.model.polls,"change:results_count",e.partial(l,this)),this.listenTo(this.model.polls,"add",e.partial(c,this)),this.listenTo(this.model.polls,"remove",e.partial(c,this))}},{key:"render",value:function(){var e;return this.$el.html(this.template()),this.$checkbox=this.$_element("header").find("input:checkbox"),(e=this).options.addable||e.$_element("add-question").remove(),e.options.activatable||e.$_element("activate").remove(),e.options.duplicatable||e.$_element("duplicate").remove(),e.options.editable||e.$_element("edit").remove(),e.options.shareable||e.$_element("share").remove(),e.options.selectable||e.$checkbox.remove(),e.options.convertible||e.$_element("convert").remove(),this.$el.data("model",this.model),this.$polls=this.$_element("polls"),p(this),c(this),d(this),u(this),l(this),function(e){e.$_toggleModifier(null,e.className,"empty",!e.model.polls.length)}(this),this}},{key:"remove",value:function(){this.model.die(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-activity-selector__competition"}},{key:"template",get:function(){return a.default}},{key:"events",get:function(){return{"click .component-activity-selector__competition__header input:checkbox":function(e){var t,n;n=(t=this).$checkbox.is(":checked"),t.$polls.find("input[type='checkbox']:enabled").prop("checked",n)},"focus .component-activity-selector__competition__header input:checkbox":function(e){f(this,e)},"blur .component-activity-selector__competition__header input:checkbox":function(e){f(this,e)},"focus .component-activity-selector__competition__header a":function(e){f(this,e)},"blur .component-activity-selector__competition__header a":function(e){f(this,e)},"focus .component-activity-selector__competition__header button":function(e){f(this,e)},"blur .component-activity-selector__competition__header button":function(e){f(this,e)}}}},{key:"defaults",get:function(){return{activatable:!1,addable:!1,blockLink:!0,convertible:!1,deletable:!0,duplicatable:!0,editable:!1,selectable:!0,shareable:!1,poll:{}}}}]),n}();t.default=h}).call(t,n("rdLu"),n("32HH"))},geHz:function(e,t,n){"use strict";(function(e){var t;(t=e).fn.toggleVisibility=function(e){return t(this).toggleClass("hidden",!e)}}).call(t,n("7t+N"))},gh83:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-notification__icon'></div>\n<div class='component-notification__message'></div>\n<button class='component-notification__dismiss-btn' title='Close'></button>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},hErT:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-activity-selector__survey__header'>\n  <div class='component-activity-selector__grabber'></div>\n  <input type='checkbox' title='Select this survey'>\n  <div class='component-activity-selector__survey__icon'></div>\n  <button class='component-activity-selector__survey__arrow-icon' aria-label='Toggle collapse'></button>\n  <span class='component-activity-selector__survey__title'>\n    <a class='component-activity-selector__survey__title__link' href=''></a>\n    <span class='component-activity-selector__survey__title__polls-count'></span>\n  </span>\n  <button class='component-activity-selector__survey__convert'>Convert to group</button>\n  <button class='component-activity-selector__survey__add-question'>Add question</button>\n  <button class='component-activity-selector__survey__share'>Share</button>\n  <button class='component-activity-selector__survey__edit'>Edit</button>\n  <button class='component-activity-selector__survey__duplicate'>Duplicate</button>\n  <button class='component-activity-selector__survey__activate' title='Activate this survey' aria-label='Activate'></button>\n  <div class='component-activity-selector__row-count component-activity-selector__survey__responses'>\n    <span class='component-activity-selector__row-count__count'></span>\n    <span class='component-activity-selector__row-count__label'></span>\n  </div>\n  <div class='component-activity-selector__survey__status-icon'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},hKAP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=v(n("+B0W")),o=v(n("tIMv")),a=v(n("eaou")),s=v(n("rdLu")),l=v(n("32HH")),u=v(n("9nM1")),c=n("SXII"),p=v(n("I+9x")),d=v(n("GNNG")),f=v(n("ecTP")),h=v(n("hBlz"));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.liveChannel=o.liveChannel.bind(o),o.processLiveResponse=o.processLiveResponse.bind(o),o.visualSettings=o.visualSettings.bind(o),o.flashOptions=o.flashOptions.bind(o),o.type=o.type.bind(o),o.remainingVotes=o.remainingVotes.bind(o),o.percentageVotesUsed=o.percentageVotesUsed.bind(o),o.permalink=o.permalink.bind(o),o.start=o.start.bind(o),o.stop=o.stop.bind(o),o.toggleState=o.toggleState.bind(o),o.toggleSmsEnabled=o.toggleSmsEnabled.bind(o),o.toggleWebEnabled=o.toggleWebEnabled.bind(o),o.toggleRegisteredParticipantsOnly=o.toggleRegisteredParticipantsOnly.bind(o),o.toggleEditableAnswers=o.toggleEditableAnswers.bind(o),o.toggleMaxVotes=o.toggleMaxVotes.bind(o),o.toggleAnonymous=o.toggleAnonymous.bind(o),o.toggle=o.toggle.bind(o),o.isActivated=o.isActivated.bind(o),o.isStarted=o.isStarted.bind(o),o.isStopped=o.isStopped.bind(o),o.isMaxedOut=o.isMaxedOut.bind(o),o.isWebEnabled=o.isWebEnabled.bind(o),o.isWebRespondable=o.isWebRespondable.bind(o),o.isWebRespondableFor=o.isWebRespondableFor.bind(o),o.isGlobalKeywordsEnabled=o.isGlobalKeywordsEnabled.bind(o),o.hasMaximumResponses=o.hasMaximumResponses.bind(o),o.url=o.url.bind(o),o._urlBase=o._urlBase.bind(o),o.webVotingPath=o.webVotingPath.bind(o),o.webVotingUrl=o.webVotingUrl.bind(o),o.showUrl=o.showUrl.bind(o),o.editUrl=o.editUrl.bind(o),o.copyUrl=o.copyUrl.bind(o),o.duplicateUrl=o.duplicateUrl.bind(o),o.undo=o.undo.bind(o),o.undoUrl=o.undoUrl.bind(o),o.clearUrl=o.clearUrl.bind(o),o.deleteResultsUrl=o.deleteResultsUrl.bind(o),o.responseHistoryUrl=o.responseHistoryUrl.bind(o),o.sendToListUrl=o.sendToListUrl.bind(o),o.resultsUrl=o.resultsUrl.bind(o),o.screenshotUrl=o.screenshotUrl.bind(o),o.toJSON=o.toJSON.bind(o),o.shouldHideKeywords=o.shouldHideKeywords.bind(o),o.cleanTitle=o.cleanTitle.bind(o),o.clearResults=o.clearResults.bind(o),o.deleteResults=o.deleteResults.bind(o),o.refreshArchives=o.refreshArchives.bind(o),o.requiresRegistration=o.requiresRegistration.bind(o),o.setAsCurrent=o.setAsCurrent.bind(o),o.toggleSimpleKeywords=o.toggleSimpleKeywords.bind(o),o.activate=o.activate.bind(o),o.deactivate=o.deactivate.bind(o),o.getTypeOption=o.getTypeOption.bind(o),o.setTypeOption=o.setTypeOption.bind(o),o.unsetTypeOption=o.unsetTypeOption.bind(o),o.isSimpleKeywords=o.isSimpleKeywords.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(){var e=this;return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.include(a.default),this.include(o.default),this.archives=new p.default,this.archives.url="/my/polls/"+this.get("permalink")+"/archives",this.initSubModel("type_options"),this.initSubModel("presenter"),this.listenTo(this.flashOptions(),"change",function(t){return s.default.mapObject(t.changed,function(t,n){return e.trigger("change:flash_options:"+n,e.flashOptions(),t)})})}},{key:"liveChannel",value:function(){return(0,c.pluralize)(2,this.type())+"/"+this.get("permalink")+"/firehose.json"}},{key:"processLiveResponse",value:function(e){if(e[this.type()]){var t=e[this.type()].position;if(t!==this.get("position"))return this.set("position",t)}}},{key:"isGraded",value:function(){return!1}},{key:"hasAlphaNumericKeyword",value:function(){return!1}},{key:"hasCustomGlobalKeyword",value:function(){return!1}},{key:"supportsModeration",value:function(){return!1}},{key:"visualSettings",value:function(){return this._visualSettings||(this._visualSettings=new d.default),this._visualSettings.poll=this,this._visualSettings}},{key:"flashOptions",value:function(){return this._flashOptions||(this._flashOptions=new f.default),this._flashOptions.poll=this,this._flashOptions}},{key:"type",value:function(e){return e||(this.has("type")?this.get("type"):this.defaultType)}},{key:"remainingVotes",value:function(e){return Math.max((this.get("max_votes")||1/0)-e,0)}},{key:"percentageVotesUsed",value:function(e){return e/this.get("max_votes")*100}},{key:"permalink",value:function(){return this.get("permalink")}},{key:"start",value:function(e){return this.toggle("state",e,"opened")}},{key:"stop",value:function(e){return this.toggle("state",e,"closed")}},{key:"toggleState",value:function(e){var t="opened"===this.get("state")?"closed":"opened";return this.toggle("state",e,t)}},{key:"toggleSmsEnabled",value:function(e){return this.toggle("sms_enabled",e)}},{key:"toggleWebEnabled",value:function(e){return this.toggle("web_enabled",e)}},{key:"toggleRegisteredParticipantsOnly",value:function(e,t){return null==t&&(t={}),this.toggle("registered_participants_only",t,e)}},{key:"toggleEditableAnswers",value:function(e,t){return null==t&&(t={}),this.toggle("editable_answers",t,e)}},{key:"toggleMaxVotes",value:function(e,t,n){return null==n&&(n={}),"unlimited"===e?this.toggle("max_votes_select",n,"unlimited"):this.toggle("max_votes",n,t)}},{key:"toggleAnonymous",value:function(e,t){return null==t&&(t={}),this.toggle("anonymous",t,e)}},{key:"toggle",value:function(e,t,n){null==t&&(t={});var i={};return i[e]=null!=n?n:!this.get(e),(0,c.deepDefaults)(t,{processData:!0,patch:!0,data:{},headers:{Prefer:"return=minimal"}}),t.data[this.type()]=i,this.save(i,t)}},{key:"isActivated",value:function(){return this.get("current")}},{key:"isStarted",value:function(){return"opened"===this.get("state")}},{key:"isStopped",value:function(){return"closed"===this.get("state")}},{key:"isMaxedOut",value:function(){return"maxed_out"===this.get("state")}},{key:"isWebEnabled",value:function(){return this.get("web_enabled")}},{key:"isWebRespondable",value:function(){return this.isStarted()&&this.isWebEnabled()}},{key:"isWebRespondableFor",value:function(e){return!this.hasMaximumResponses(e)&&this.isWebRespondable()}},{key:"isGlobalKeywordsEnabled",value:function(){return this.get("sms_enabled")&&!this.get("simple_keywords")}},{key:"hasMaximumResponses",value:function(e){return!!this.get("max_votes")&&("function"==typeof e.resultsForPoll?e.resultsForPoll(this,!1).size():void 0)>=this.get("max_votes")}},{key:"url",value:function(){var e="/"+(0,c.pluralize)(2,this.type()),t=this.get("permalink");return this.isNew()&&!t?e:e+"/"+t+".json"}},{key:"_urlBase",value:function(){var e=(0,c.pluralize)(2,this.type()),t=this.attributes.permalink;return(0,h.default)("/").segment(e).segment(t)}},{key:"webVotingPath",value:function(){return this.webVotingUrl()}},{key:"webVotingUrl",value:function(){return this._urlBase().segment("web").toString()}},{key:"showUrl",value:function(){return this._urlBase().toString()}},{key:"editUrl",value:function(){return this._urlBase().segment("edit").toString()}},{key:"copyUrl",value:function(){return this._urlBase().segment("copy").toString()}},{key:"duplicateUrl",value:function(){return this._urlBase().segment("duplicate").toString()}},{key:"undo",value:function(){return l.default.ajax({url:this.undoUrl(),type:"delete"})}},{key:"undoUrl",value:function(){return(0,h.default)("/api/polls").segment(this.id.toString()).segment("results").toString()}},{key:"clearUrl",value:function(){return this._urlBase().segment("results/archive").toString()}},{key:"deleteResultsUrl",value:function(){return this._urlBase().segment("results").toString()}},{key:"responseHistoryUrl",value:function(){return this._urlBase().segment("results").toString()}},{key:"sendToListUrl",value:function(){return this._urlBase().segment("send_to_list").toString()}},{key:"resultsUrl",value:function(){var e=this.get("permalink");return(0,h.default)("/polls").segment(e).segment("results").toString()}},{key:"screenshotUrl",value:function(e){return null==e&&(e={}),!0===e&&(e={attachment:!0}),this._urlBase().absoluteTo(u.default.get("poll_renderer_url")).query(e).toString()}},{key:"toJSON",value:function(e){var t=this;null==e&&(e={}),s.default.defaults(e,{root:!0});var n={},i=e.root?(n[t.type()]={},n[t.type()]):(n.type=t.type(),n);return s.default.extend(i,this.pick(this.modelProperties)),n}},{key:"shouldHideKeywords",value:function(){var e=this.attributes.sms_enabled,t=this.attributes.web_enabled,n=this.attributes.current,i=this.attributes.simple_keywords,r=this.attributes.web_address,o="closed"===this.attributes.state,a=!e&&!t,l=!e&&t&&!s.default.isNull(r),u=!n&&i,c=!this.flashOptions().get("showKeywords"),p=this.flashOptions().has("teamPollArchiveId")&&0!==this.flashOptions().get("teamPollArchiveId");return o||a||l||u||c||p}},{key:"cleanTitle",value:function(e){null==e&&(e={}),e=s.default.defaults(e,{emoji:"image"});var t=this.get("title");return(0,c.cleanString)(t,e)}},{key:"clearResults",value:function(e){var t=this;null==e&&(e={});var n=s.default.wrap(e.success,function(n,i,r,o){return!!t.set(t.parse(i,e),e)&&("function"==typeof n&&n(t,i,o),t.trigger("clear"))});return e.success=n,e.url=e.url||this.clearUrl(),this.sync("delete",this,e)}},{key:"deleteResults",value:function(e){return null==e&&(e={}),e.url||(e.url=this.deleteResultsUrl()),this.clearResults(e)}},{key:"refreshArchives",value:function(){var e=this;return this.archives.models.length&&s.default.each(this.archives.pluck("id"),function(t){return e.archives.remove(e.archives.get(t))},this),this.archives.fetch()}},{key:"parse",value:function(e){return null==e&&(e={}),e=(0,c.popRootKey)(e)}},{key:"requiresRegistration",value:function(){return!!this.get("registered_participants_only")}},{key:"onScreenUrl",value:function(){return"/api/activation"}},{key:"setAsCurrent",value:function(e){return null==e&&(e={}),e.type="PUT",null==e.url&&(e.url=this.onScreenUrl()),e.data={type:"poll",uid:this.get("permalink")},e.processData=!0,this.sync("create",this,e)}},{key:"toggleSimpleKeywords",value:function(e){return this.toggle("simple_keywords")}},{key:"activate",value:function(){var e=this,t={type:"PUT",url:this.onScreenUrl(),data:{type:"poll",uid:this.get("permalink")},processData:!0};return this.sync("create",this,t).done(function(){e.presenter.set({active:!0}),e.set({current:!0})})}},{key:"deactivate",value:function(){var e=this,t={};return this.presenter?t.user_id=this.presenter.get("id"):t.user_id=this.get("owner_id"),this.sync("delete",this,{url:this.onScreenUrl(),processData:!0,data:t}).done(function(){e.presenter.set({active:!1}),e.set({current:!1})})}},{key:"getTypeOption",value:function(e){return this.typeOptions.get(e)}},{key:"setTypeOption",value:function(e,t){return this.typeOptions.set(e,t)}},{key:"unsetTypeOption",value:function(e){return this.typeOptions.unset(e)}},{key:"isSimpleKeywords",value:function(){return this.get("simple_keywords")}}],[{key:"initClass",value:function(){this.prototype.defaults={web_enabled:!0,web_address:"PollEv.com"},this.prototype.modelProperties=["anonymous","competition_id","confirmation_type","custom_confirmation_message","display_state","flash_options","group_id","max_votes","owner_id","permalink","position","registered_participants_only","session_keyword_format","simple_keywords","sms_enabled","start_at","state","stop_at","survey_id","title","type_options","web_enabled"]}},{key:"fetchByPermalink",value:function(e){return l.default.ajax({url:(0,h.default)("/api/polls").segment(e).toString(),method:"GET"})}}]),t}();g.initClass(),t.default=g},hfDJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("ILqe"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ajax=this.ajax.bind(this),this.nextAjax=n,t.csrf||(t.csrf={}),this.tokens=t.csrf.tokens||(t.csrf.tokens={})}return r(e,[{key:"ajax",value:function(e){var t=this,n=this.nextAjax(e),i=a.default.hostFromUrl(e.url);return a.default.domainExpectsCsrfToken(this.tokens,i)&&!e.firehose&&n.done(function(e,n,r){var o=r.getResponseHeader("X-CSRF-Token");o&&(t.tokens[i]=o)}),n}}]),e}();t.default=s},iFDI:function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},iMry:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<span class='header--polls-link icon nav-symbol' data-glyph='arrow-left'></span>\n<a class='nav-label' js-nav-to-selector js-nav-label href='#'>Back</a>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"iT1+":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<ul class='filter-polls--utilities'>\n  <li class='element-search-box filter-polls--search-utility' m-right>\n    <input class='filter-polls--search-input' type='text' js-search-polls placeholder='Search...'>\n    <div class='element-search-box__search'></div>\n    <button class='element-search-box__clear' js-clear-search></button>\n    <span class='filter-polls--search-spinner hidden icon spin' data-glyph='spinner'></span>\n  </li>\n  <li class='filter-polls--select-utility hidden'>\n    <button js-select-polls>\n      <span class='filter-polls--select icon' data-glyph='ok'></span>\n    </button>\n    <div class='filter-polls--select-tip-content'>\n      Select:\n      <a class='filter-polls--select-all' href='#'>All</a>\n      <a class='filter-polls--select-none' href='#'>None</a>\n      <a class='filter-polls--select-started' href='#'>Unlocked</a>\n      <a class='filter-polls--select-stopped' href='#'>Locked</a>\n    </div>\n  </li>\n  <li class='filter-polls--sorting-utility hidden'>\n    <button js-sort-polls>\n      <span class='filter-polls--sorting icon' data-glyph='sort-desc'></span>\n      <span class='filter-polls--sorting-name'></span>\n    </button>\n    <div class='tip-content'>\n      Sort:\n      <a class='filter-polls--sorting-option-default' href='#'>My Order</a>\n      <a class='filter-polls--sorting-option-alpha' href='#'>Alphabetical</a>\n      <a class='filter-polls--sorting-option-date' href='#'>Date Created</a>\n    </div>\n  </li>\n</ul>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},iZVq:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("geHz");var o=s(n("40hA")),a=s(n("iT1+"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"initialize",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.user=this.model;var i=this.user;this.groups=i.groups,this.polls=i.polls,this.options=e.defaults(n),this.searchPolls=e.debounce(function(e){t._searchPolls(e)},350)}},{key:"render",value:function(){return this.renderTemplate(),this}},{key:"toggleClear",value:function(e){this.$(".filter-polls--search-remove").toggleVisibility(e),this.$(".filter-polls--search").toggleVisibility(!e),this.trigger("filter-polls:clear")}},{key:"extractRegex",value:function(e){return e.length>1&&"/"===e[0]&&"/"===e[e.length-1]&&e.substring(1,e.length-1)}},{key:"_searchPolls",value:function(e){var t=this,n=i(e.currentTarget),r=n.val().trim(),o=r.length;this.toggleSpinner(!0);var a=function(e){var n=t.extractRegex(e);return n&&(e=n),PollEv.Util.regexSearch(e)};this.toggleClear(!0),this.fetchComplete||!1===this.options.fetch?o>1?(this.toggleSpinner(!1),this.user.groups.trigger("filter",a(r))):(this.toggleClear(!1),this.toggleSpinner(!1),this.reset()):this.polls.fetch().done(function(){t.fetchComplete=!0,t.toggleSpinner(!1),r=n.val().trim(),t.user.groups.trigger("filter",a(r))})}},{key:"reset",value:function(){this.user.groups.trigger("reset")}},{key:"clearSearch",value:function(){this.$(".filter-polls--search-input").val(""),this.toggleSpinner(!1),this.toggleClear(!1),this.reset()}},{key:"toggleSpinner",value:function(e){this.$(".filter-polls--search-spinner").toggleVisibility(e)}},{key:"template",get:function(){return a.default}},{key:"className",get:function(){return"filter-polls--header"}},{key:"events",get:function(){return{"input [js-search-polls]":function(e){i(e.currentTarget).val().trim().length>1&&this.toggleSpinner(!0),this.searchPolls(e)},"click [js-clear-search]":"clearSearch"}}}]),n}();t.default=l}).call(t,n("rdLu"),n("7t+N"))},"ieM/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("ui+V")),o=a(n("hBlz"));function a(e){return e&&e.__esModule?e:{default:e}}var s=Math.pow(2,19),l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.urlRoot=o.urlRoot.bind(o),o.put=o.put.bind(o),o.upVote=o.upVote.bind(o),o.downVote=o.downVote.bind(o),o.unVote=o.unVote.bind(o),o.promote=o.promote.bind(o),o.unpromote=o.unpromote.bind(o),o.feature=o.feature.bind(o),o.unfeature=o.unfeature.bind(o),o.isPinned=o.isPinned.bind(o),o.unapprove=o.unapprove.bind(o),o.isUnapproved=o.isUnapproved.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"urlRoot",value:function(){var e,t=this.get("permalink")||(void 0!==(e=null!=this.collection?this.collection.poll:void 0)&&null!==e?function(e){return e.get("permalink")}(e):void 0);return(0,o.default)("/polls").segment(t).segment("results").toString()}},{key:"put",value:function(e){return this.save(null,{type:"PUT",url:(0,o.default)(this.url()).segment(e).toString()})}},{key:"upVote",value:function(){return this.put("upvote")}},{key:"downVote",value:function(){return this.put("downvote")}},{key:"unVote",value:function(){return this.put("unvote")}},{key:"promote",value:function(){return this.put("promote")}},{key:"unpromote",value:function(){return this.put("unpromote")}},{key:"feature",value:function(){return this.put("feature")}},{key:"unfeature",value:function(){return this.put("unfeature")}},{key:"isPinned",value:function(){return this.get("score")>=s}},{key:"unapprove",value:function(){return this.save({approved:!1})}},{key:"isUnapproved",value:function(){return!1===this.get("approved")}}]),t}();t.default=l},igOP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("+B0W"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"url",value:function(){return"/vote.json"}}]),t}();t.default=s},ivl9:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n("Lxn6"),l=n("rLwZ"),u=(o=l)&&o.__esModule?o:{default:o},c=n("6L1a");function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=function(){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.bindEvents=this.bindEvents.bind(this),this.bindObjects=this.bindObjects.bind(this),this.updatePlaceholder=this.updatePlaceholder.bind(this),this.insertPolls=this.insertPolls.bind(this),this.insertSurveys=this.insertSurveys.bind(this),this.insertImagesByUrl=this.insertImagesByUrl.bind(this),this.masterSlideWidth=this.masterSlideWidth.bind(this),this.masterSlideHeight=this.masterSlideHeight.bind(this),this.slidesInsertable=this.slidesInsertable.bind(this),e.extend(this,i.Events),this.app=n,c.env.has("nativeAPI")&&(this.bindEvents(),this.bindObjects()),this.legacyVersion="legacy version",this.downloader=new u.default}return a(t,[{key:"bindEvents",value:function(){var e=this;this.listenTo(this.app,"insert",function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];switch(t){case"polls":case"activities":e.insertPolls.apply(e,p(Array.from(i||[])));break;case"surveys":e.insertSurveys.apply(e,p(Array.from(i||[])));break;case"images":e.insertImagesByUrl.apply(e,p(Array.from(i||[])))}}),this.listenTo(this.app,"native:api:close",this.closeWindow),this.listenTo(this.app,"native:api:login",this.login),this.listenTo(this.app,"native:api:logout",this.logout),this.listenTo(this.app,"updatePlaceholder",this.updatePlaceholder)}},{key:"bindObjects",value:function(){var e=this,t=c.env.get("nativeAPI");return this.presentationEvents=t.presentationEvents,null!=this.presentationEvents?this.presentationEvents.subscribe("slidesInsertable",function(t){return e.trigger("slidesInsertable",t),e.slidesInsertable()}):void 0}},{key:"getVersion",value:function(){var e=null;try{e=c.env.get("nativeAPI").presentation.apiVersion()}catch(t){e=this.legacyVersion}return e}},{key:"updatePlaceholder",value:function(t){var n=this;switch(this.getVersion()){case this.legacyVersion:case"1.2.0":case"2.0.0":case"2.1.0":case"2.2.0":this.app.log("Updating placeholders not supported on binding layer versions less than 2.3.0"),c.env.get("nativeAPI").webApp.close();break;default:r.when(this.downloader.downloadImages([t])).done(function(t){n.images=e.map(t,s.getBase64)}).fail(function(){n.images=[""]}).always(function(){c.env.get("nativeAPI").presentation.updatePlaceholderByBytes(n.images[0]),c.env.get("nativeAPI").webApp.close()})}}},{key:"insertPolls",value:function(t,n,i){var o=this;switch(this.getVersion()){case this.legacyVersion:return null!=c.env.get("nativeAPI").presentation.insertSlides?(c.env.get("nativeAPI").presentation.insertSlides(t,n,""),c.env.get("nativeAPI").webApp.close()):(e.each(t,function(e,i){return c.env.get("nativeAPI").presentation.insertSlide(t[i],n[i],"")}),c.env.get("nativeAPI").webApp.close());case"1.2.0":return c.env.get("nativeAPI").presentation.insertSlides(t,n,""),c.env.get("nativeAPI").webApp.close();default:return r.when(this.downloader.downloadImages(i)).done(function(t){o.images=e.map(t,s.getBase64)}).fail(function(){o.images=new Array(t.length).join(",").split(",")}).always(function(){null!=window.macWebApp&&(t=e.map(t,function(e){return e.replace(/\\/g,"\\\\")})),c.env.get("nativeAPI").presentation.insertImageSlidesByBytes(t,n,o.images),c.env.get("nativeAPI").webApp.close()})}}},{key:"insertSurveys",value:function(e,t,n){return this.insertPolls(e,t,n)}},{key:"insertImagesByUrl",value:function(e,t){switch(this.getVersion()){case this.legacyVersion:this.app.log("insertImageSlidesByUrl not supported on legacy versions");break;case"1.2.0":c.env.get("nativeAPI").presentation.insertImageSlidesByUrl(e,t);break;default:c.env.get("nativeAPI").presentation.insertImageSlidesByUrl(e,t)}return c.env.get("nativeAPI").webApp.close()}},{key:"closeWindow",value:function(){c.env.has("nativeAPI")&&c.env.get("nativeAPI").webApp.close()}},{key:"login",value:function(e){switch(this.getVersion()){case this.legacyVersion:case"1.2.0":case"2.0.0":case"2.1.0":return c.env.get("nativeAPI").presentation.login();default:return c.env.get("nativeAPI").presentation.login(e)}}},{key:"logout",value:function(){return c.env.get("nativeAPI").presentation.logout()}},{key:"masterSlideWidth",value:function(){if(!c.env.has("nativeAPI"))return-1;switch(this.getVersion()){case this.legacyVersion:case"1.2.0":return-1;default:return c.env.has("nativeAPI")&&this.slidesInsertable()?c.env.get("nativeAPI").presentation.masterSlideWidth():-1}}},{key:"masterSlideHeight",value:function(){if(null==c.env.get("nativeAPI"))return-1;switch(this.getVersion()){case this.legacyVersion:case"1.2.0":return-1;default:return c.env.has("nativeAPI")&&this.slidesInsertable()?c.env.get("nativeAPI").presentation.masterSlideHeight():-1}}},{key:"slidesInsertable",value:function(){if(!this.app.settings.showInsert())return!1;if(null==c.env.get("nativeAPI"))return!0;switch(this.getVersion()){case this.legacyVersion:case"1.2.0":case"2.0.0":return!0;default:return!c.env.has("nativeAPI")||c.env.get("nativeAPI").presentation.slidesInsertable()}}}]),t}();t.default=d}).call(t,n("rdLu"),n("32HH"),n("7t+N"))},j4Z6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n("NAQ3")),o=u(n("9nM1")),a=u(n("hBlz")),s=u(n("32HH")),l=u(n("7t+N"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.authenticate=this.authenticate.bind(this),this.getCachedOrNewToken=this.getCachedOrNewToken.bind(this),this.logout=this.logout.bind(this),this.ppxClient=this.ppxClient.bind(this),this.post=this.post.bind(this),this.get=this.get.bind(this),this.token=t}return i(e,null,[{key:"initClass",value:function(){this.prototype.url="/api/participant_auth_token",this.prototype.logoutUrl="/api/participant_auth_token/logout"}}]),i(e,[{key:"authenticate",value:function(){var e=this,t=l.default.Deferred();return this.getCachedOrNewToken().then(function(n){e.post(n).then(t.resolve,t.reject)}).fail(t.reject),t.promise()}},{key:"getCachedOrNewToken",value:function(){var e=l.default.Deferred();return null!=this.token?e.resolve({token:this.token}):this.get().then(e.resolve,e.reject),e.promise()}},{key:"logout",value:function(){return this.get(this.logoutUrl)}},{key:"ppxClient",value:function(){if(this._ppxClient)return this._ppxClient;var e=o.default.get("api_url").path("/ppx_proxy");return this._ppxClient=r.default.buildClientConstructor(e.toString()),this._ppxClient}},{key:"post",value:function(e){return s.default.ajax({dataType:"json",method:"POST",url:this.url,data:e})}},{key:"get",value:function(e){return e||(e=this.url),l.default.ajax({dataType:"json",url:(0,a.default)(e).absoluteTo(o.default.get("api_url").toString()).toString(),xhr:this.ppxClient()})}}]),e}();c.initClass(),t.default=c},jtaX:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=p(n("x4Pe")),s=p(n("coW0")),l=p(n("9gpq")),u=p(n("qM++")),c=p(n("n0i+"));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){e.$_element("keyword input").prop("disabled",!e.showCustomGlobalKeywords);var t=e.className+"__keyword--hidden";return e.model.isSimpleKeywords()?e.$_element("keyword").addClass(t):(e.$_element("keyword").removeClass(t),f(e))},f=function(e){var t=e.model.get("keyword");return e.$_element("keyword").find("input").val(t)},h=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),o(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.extend(this,(0,a.default)(this),(0,s.default)(this)),r.defaults(e,{showKeywords:!1,showCustomGlobalKeywords:!1}),this.showKeywords=e.showKeywords,this.showCustomGlobalKeywords=e.showCustomGlobalKeywords,this.title=new l.default({model:this.model}),this.listenTo(this.model,"change:simple_keywords",r.partial(d,this)),this.listenTo(this.model,"change:keyword",this.validateGlobalKeyword)}},{key:"render",value:function(){return this.$el.html(this.template()),this.$keyword=this.$_element("keyword"),this.$keywordStatus=this.$_element("keyword__status"),this.$el.prepend(this.title.render().$el),this.showKeywords&&d(this),this}},{key:"validate",value:function(){return new u.default(this.model).validate()}},{key:"remove",value:function(){this.title.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-editor-open-ended"}},{key:"template",get:function(){return c.default}},{key:"events",get:function(){return{"keyup .component-editor-open-ended__keyword input":function(t){!function(t,n){if(!t.model.isSimpleKeywords())t.model.set("keyword",e.trim(e(n.target).val()))}(this,t)}}}}]),n}();t.default=h}).call(t,n("7t+N"),n("32HH"),n("rdLu"))},kW5K:function(e,t){(function(){PollEv.env.set({root_url:"https://presenter.polleverywhere.com",api_url:"https://www.polleverywhere.com",cdn_url:"//d11v1n883duxnd.cloudfront.net/assets/",firehose_url:"https://firehose-production.polleverywhere.com",firehose_ssl:true,secure_protocol:"https",image_bucket_url:"https://staging-image-bucket.ops.pe",slide_server_url:"https://api.liveslides.com",viz_url:"https://viz.polleverywhere.com",nginx_proxy_path:"",proxy_enabled:!0,logging_enabled:!0,ga_tracking_id:"",ddag_url:"",revision:"4da5157bc6d31d7bd3428f30e9f855b6d109af23",cutlass_base_url:"https://production-cutlass.polleverywhere.com",__no_comma:!0})}).call(window)},kXW4:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n("x4Pe")),s=l(n("5gTJ"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=void 0,n=e.model.get("results_count")||0;if("maxed_out"===e.model.get("state"))t="Full ("+n+")",n="";else switch(!0){case 0===n:n="No",t="responses";break;case 1===n:t="response";break;case n>=1e6:n="1M+",t="responses";break;default:t="responses"}"number"==typeof n&&(n=PollEv.Util.commaFormat(n)),e.$(".component-activity-selector__row-count__count").text(n+" "),e.$(".component-activity-selector__row-count__label").text(t)},c=function(e){if(e.options.activatable){var t=e.model.get("current");e.$el.toggleClass(e.className+"--activated",!!t);var n=e.$_element("activate");t?(e.model.live({multiplex:!0}),n.attr({title:"Deactivate this poll","aria-label":"Deactivate this poll"})):(e.model.die(),n.attr({title:"Activate this poll","aria-label":"Activate this poll"}))}},p=function(e){switch(e.$el.toggleClass(e.className+"--closed",!1),e.$el.toggleClass(e.className+"--maxed-out",!1),e.$el.toggleClass(e.className+"--no-results",!1),e.model.get("state")){case"closed":e.$el.toggleClass(e.className+"--closed",!0);break;case"maxed_out":e.$el.toggleClass(e.className+"--maxed-out",!0);break;case"open":0===e.model.get("results_count")?e.$el.toggleClass(e.className+"--no-results",!0):e.$el.toggleClass(e.className+"--no-results",!1)}},d=function(e){e.$el.attr("data-id",e.model.id),e.$el.attr("data-type","poll"),e.$el.attr("data-position",e.model.get("position"))},f=function(e,t){e.$el.toggleClass(e.className+"--hover","focusin"===t.type)},h=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),o(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.model)throw new Error("ActivitySelector.Poll requires an activity model");i.extend(this,(0,a.default)(this)),this.options=i.defaults(e,this.defaults),this.listenTo(this.model,"change:current",i.partial(c,this)),this.listenTo(this.model,"change:state",i.partial(p,this)),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,{change:i.partial(d,this)}),this.listenTo(this.model,"change:results_count",i.partial(u,this))}},{key:"render",value:function(){var e;return this.$el.html(this.template()),this.$el.data("model",this.model),this.$el.toggleClass(this.className+"--"+r.dasherize(this.model.type()),!0),this.$_element("title__link").attr({href:this.model.showUrl()}),this.$_element("responses").attr({href:this.model.resultsUrl()}),(e=this).options.activatable||e.$_element("activate").remove(),e.options.duplicatable||e.$_element("duplicate").remove(),e.options.editable||e.$_element("edit").remove(),e.options.shareable||e.$_element("share").remove(),e.options.selectable||e.$("input:checkbox").remove(),d(this),function(e){var t=e.model.get("title"),n=PollEv.Util.Latex.isLatex(t),i=e.$_element("title__link");i.attr({title:e.model.cleanTitle()}),n?PollEv.Util.Latex.renderInto(i,t):i.html(e.model.cleanTitle())}(this),p(this),c(this),u(this),function(e){e.$_toggleModifier(null,e.className,"anonymous",e.model.get("anonymous"))}(this),this}},{key:"remove",value:function(){this.model.die(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-activity-selector__poll"}},{key:"template",get:function(){return s.default}},{key:"events",get:function(){return{"focus input":function(e){f(this,e)},"blur input":function(e){f(this,e)},"focus a":function(e){f(this,e)},"blur a":function(e){f(this,e)},"focus button":function(e){f(this,e)},"blur button":function(e){f(this,e)}}}},{key:"defaults",get:function(){return{activatable:!0,deletable:!0,duplicatable:!0,editable:!0,selectable:!0,shareable:!0}}}]),n}();t.default=h}).call(t,n("32HH"),n("rdLu"),n("xok8"))},l1oh:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("6L1a"),s=v(n("hKAP")),l=v(n("Y8hB")),u=v(n("40hA")),c=v(n("oqD+")),p=n("Lxn6"),d=v(n("9Wve")),f=v(n("V6F1")),h=v(n("iMry"));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e,t){return void 0!==e&&null!==e?t(e):void 0},y=function(e,t){var n=t?"Insert":"Save";e.activityCreator.$create.text(n)},m=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.render=o.render.bind(o),o.renderSettings=o.renderSettings.bind(o),o.toggleButtonState=o.toggleButtonState.bind(o),o.insertActionAllowed=o.insertActionAllowed.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,u.default),o(n,[{key:"initialize",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settings=this.app.settings,this.header=new f.default,this.assignmentModel=n.assignmentModel;var o={model:this.model,pickerMode:"short",showGrading:!!g(this.app.user.get("features"),function(e){return e.grading}),showUpload:this.app.settings.showUpload()},a=g(this.app.user.get("features"),function(e){return e.activities});a&&(o.pickerActivities={"multiple-choice":a.multiple_choice_polls,"word-cloud":a.free_text_polls,"up-down-vote":a.discourses,"rank-order":a.ranking_polls,"clickable-image":a.clickable_images,"open-ended-text":a.free_text_polls,survey:a.surveys}),this.assignmentModel instanceof l.default?i.defaults(o,{pickerPreset:"basicQuestions",addLabel:"Add another question",dropdown:{placeholderText:"Assign question to a survey"}}):i.defaults(o,{defaultGroup:this.assignmentModel,groups:this.app.user.groups}),this.activityCreator=new c.default(o),this.assignmentModel instanceof l.default&&this.activityCreator.dropdown.collection.add(this.assignmentModel),this.listenTo(this.app.bindingLayer,"slidesInsertable",this.toggleButtonState),this.listenTo(this.activityCreator,"create",function(n,o,a){t.activityCreator.$create.prop("disabled",!0);var u=function(t,n,i){var r=i instanceof s.default?"polls":i instanceof l.default?"surveys":void 0;if(-1===(null!=n?n.get("id"):void 0)&&(n=null),r&&n){var o={target_type:("function"==typeof n.type?n.type():void 0)||"group",target_id:n.get("id"),target_user_id:t.app.user.get("id")};return e.ajax("/api/"+r+"/"+i.get("id")+"/position",{method:"PUT",data:JSON.stringify(o),contentType:"application/json"})}}(t,o,n);r.when(u).then(function(){t.app.trigger("view:action","activity_creator:action",{description:"presenter app create poll",pollType:n.type(),referrer:t.app.history.previousURL()});var e=["Created"];e.push(n.cleanTitle()),o&&(e.push("in"),e.push(o.get("name")));var r,a=n.cleanTitle().toString().replace(/[\\]/g,"\\$&");if(t.insertActionAllowed()){var s=t.settings.createInsertProgressMsg(1,"activity");t.app.trigger("showFakeProgress",1,s),t.app.trigger("insert","polls",[a],[(0,p.getActivityUrl)(t.app.env,n)],[(0,p.getPlaceholderCdnUrl)(t.app.env,n,{placeholderFormat:(0,p.capableOfSmallPlaceholders)()?"tiny":"original",aspectRatio:t.app.bindingLayer.masterSlideWidth()/t.app.bindingLayer.masterSlideHeight()})])}else i.defer(function(){return t.app.trigger("success",e.join(" "),3e3)}),(r=t).app.history.previousURL()?r.app.navigateBack():r.app.navigate("polls")})}),this.listenTo(this.activityCreator,"error",function(e,n){g(t.$("[class*=--error]")[0],function(e){return e.scrollIntoView()}),t.app.trigger("error",e,3e3)})}},{key:"render",value:function(){return this.renderTemplate(),this.header.render(),this.header.renderNav((0,h.default)()),this.$header=this.$("[js-header]"),this.$content=this.$("[js-content]"),this.$header.html(this.header.$el),this.$content.append(this.activityCreator.render().$el),this.activityCreator.$create.text("Insert"),this.renderSettings(),this.app.trigger("spinner:hide"),(0,p.fireNotification)(this),this}},{key:"renderSettings",value:function(){y(this,a.env.has("nativeAPI")&&this.insertActionAllowed()),this.header.renderNavLabel("Back")}},{key:"toggleButtonState",value:function(e){y(this,e.data)}},{key:"insertActionAllowed",value:function(){return!(this.assignmentModel instanceof l.default)&&(this.app.bindingLayer.slidesInsertable()&&!this.settings.disables("insert"))}},{key:"className",get:function(){return"activity-creator"}},{key:"template",get:function(){return d.default}}]),n}();t.default=m}).call(t,n("32HH"),n("rdLu"),n("7t+N"))},lMcM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("32HH")),o=a(n("hBlz"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=void 0,u=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return l||(l=o,o.ios=o.ios.bind(o)),s(o,l)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Model),i(t,[{key:"get",value:function(e){var n=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,e);return n&&/_url$/i.test(e)&&(n=(0,o.default)(n)),n}},{key:"ios",value:function(){return"ios"===this.get("platform")}},{key:"defaults",get:function(){return{root_url:(0,o.default)().host()?"//"+(0,o.default)().host():"https://pollev.com",api_url:(0,o.default)().host()?"//"+(0,o.default)().host():"https://www.polleverywhere.com",ssl:"https:"===(0,o.default)().protocol(),firehose_url:"//firehose.polleverywhere.com",secure_protocol:"https",image_url_regex:/^https?:\/\/.+\/[^/?]+\.(?:png|jpe?g|gif|image)\??\S*/i,image_file_regex:/^https?:\/\/.+\/([^/?]+\.(?:png|jpe?g|gif))\??\S*/i,uploaded_image_regex:/^https?:\/\/s3.amazonaws.com\/polleverywhere-images\/.*/i,image_bucket_url:"https://upload-images.polleverywhere.com",poll_renderer_url:"https://poll-renderer.polleverywhere.com",nginx_proxy_path:"",mobile_url:"https://pollev.com",token_auth_enabled:!1}}}]),t}();t.default=u},lQcO:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},s=u(n("40hA")),l=u(n("D7ky"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.render=o.render.bind(o),o.renderFrameUrl=o.renderFrameUrl.bind(o),o.resize=o.resize.bind(o),o.remove=o.remove.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),o(n,[{key:"initialize",value:function(){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments),this.url=new e("about:blank"),this.loadingFrame=i.Deferred(),this.debouncedResize=r.debounce(this.resize.bind(this),100),i(window).on("resize",this.debouncedResize)}},{key:"render",value:function(){var e=this;return this.$frame=this.generateFrame(),this.$el.append(this.$frame),this.preLoad(),this.renderFrameUrl(),i.when(this.loadingFrame).done(function(){e.postRender()}),this}},{key:"generateFrame",value:function(){return i("<iframe>").attr("id","frame--content").attr("scrolling","no").attr("allowfullscreen","")}},{key:"renderFrameUrl",value:function(){var e=this;this.$frame.on("load",function(){e.loadingFrame.resolve()}),this.$frame.attr("src",this.url),this.resize(),this.loadingFrame=i.Deferred()}},{key:"preLoad",value:function(){}},{key:"postRender",value:function(){}},{key:"resize",value:function(){var e=this.$el.width(),t=this.$el.height();e&&t?(this.$frame.width(e),this.$frame.height(t)):r.delay(this.debouncedResize,250)}},{key:"remove",value:function(){this.stopListeningToFrames(),i(window).off("resize",this.debouncedResize),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).apply(this,arguments)}},{key:"className",get:function(){return"frame"}},{key:"mixins",get:function(){return[l.default]}}]),n}();t.default=c}).call(t,n("hBlz"),n("7t+N"),n("rdLu"))},lRlZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("40hA")),o=a(n("WJKY"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.render=o.render.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"render",value:function(){return this.renderTemplate(),this}},{key:"template",get:function(){return o.default}},{key:"className",get:function(){return"flashinit"}}]),t}();t.default=s},m8iG:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 22 22"><defs><path id="error-a" d="M11,2.38574287 C10.2534176,2.38574287 9.50683663,2.74023437 9.08251988,3.44921875 L0.999024125,16.9575199 C0.13964775,18.3862301 1.240723,20.25 2.9111335,20.25 L19.0834958,20.25 C20.759277,20.25 21.8603523,18.3862301 21.006348,16.9575199 L12.9174801,3.44921875 C12.4931648,2.74023437 11.7465824,2.38574287 11,2.38574287 Z"></path><path id="error-c" d="M10.3017585,7.875 L11.6767585,7.875 L11.6767585,14.75 L10.3017585,14.75 L10.3017585,7.875 Z M10.3017585,16.125 L11.6767585,16.125 L11.6767585,17.5 L10.3017585,17.5 L10.3017585,16.125 Z"></path></defs><g fill="none" fill-rule="evenodd"><mask id="error-b" fill="#fff"><use xlink:href="#error-a"></use></mask><use fill="#000" xlink:href="#error-a"></use><g fill="#642520" mask="url(#error-b)"><rect width="51" height="51" transform="translate(-11 -11)"></rect></g><path fill="#FFF" d="M11,3.7392585 C11.2846676,3.7392585 11.5693366,3.87890625 11.7412116,4.15820312 L19.8247074,17.6611335 C20.1630866,18.225098 19.7871094,18.875 19.0834958,18.875 L2.9111335,18.875 C2.21289063,18.875 1.83691475,18.225098 2.17529263,17.6611335 L10.2587898,4.15820312 C10.4306648,3.87890625 10.7153324,3.7392585 11,3.7392585 Z"></path><mask id="error-d" fill="#fff"><use xlink:href="#error-c"></use></mask><use fill="#642520" xlink:href="#error-c"></use><g fill="#642520" mask="url(#error-d)"><rect width="51" height="51" transform="translate(-13 -11)"></rect></g></g></svg>'},mBL5:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n("Hf0w")),o=l(n("6+dm")),a=l(n("rdLu")),s=l(n("32HH"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.default),i(n,[{key:"url",value:function(){return"/api/referral_codes"}},{key:"bulkCreateUrl",value:function(){return e(this.url()).segment("bulk_create").toString()}},{key:"personalCode",value:function(){return this.find(function(e){return!e.has("recipient")})}},{key:"recipientCodes",value:function(){return this.filter(function(e){return e.has("recipient")})}},{key:"bulkCreate",value:function(e,t){var n=this;return null==e&&(e=[]),null==t&&(t=""),s.default.ajax({url:this.bulkCreateUrl(),method:"post",data:{emails:e,message:t}}).done(function(e){if(a.default.each(e.successes,function(e){return n.add(e)}),!a.default.isEmpty(e.errors))return n.trigger("bulk_create:errors",e.errors)})}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),n}();u.initClass(),t.default=u}).call(t,n("hBlz"))},mDEm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("+B0W")),o=s(n("rdLu")),a=s(n("hBlz"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.url=n.url.bind(n),null==e&&(e={}),n.user=e.user,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"url",value:function(){return(0,a.default)("/api/users").segment(this.user.id.toString()).segment("labs").toString()}},{key:"isNew",value:function(){return!1}},{key:"save",value:function(e,n){return null==e&&(e={}),null==n&&(n={}),o.default.extend(n,{patch:!0}),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"save",this).call(this,e,n)}}]),t}();t.default=l},mGsf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Write=t.Util=t.Retry=t.Read=void 0;var i=s(n("hfDJ")),r=s(n("685t")),o=s(n("ILqe")),a=s(n("5JUa"));function s(e){return e&&e.__esModule?e:{default:e}}t.Read=i.default,t.Retry=r.default,t.Util=o.default,t.Write=a.default},moqC:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-multiple-choice__options'></div>\n<div class='component-editor-multiple-choice__add'>\n  <button tabindex='-1'></button>\n  <div class='component-editor-multiple-choice__error'>\n    <small></small>\n  </div>\n</div>\n<div class='component-editor-multiple-choice__grading component-editor-multiple-choice__grading--hidden'>\n  <label>\n    <input type='checkbox' name='weighted_grading_enabled'>\n    Assign points to different options\n  </label>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},mypn:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,l=1,u={},c=!1,p=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},i=function(e){o.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(r=p.documentElement,i=function(e){var t=p.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,i(l),l++},d.clearImmediate=f}function f(e){delete u[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n("DuR2"),n("W2nU"))},"n0i+":function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-open-ended__keyword component-editor-open-ended__keyword--hidden'>\n  <input placeholder='Keyword'>\n  <div class='component-editor-open-ended__keyword__status'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},n9xQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={xhrFields:{},headers:{},dataType:"json",type:"GET"}},nQeZ:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg id='Layer_1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='512px' height='512px' viewBox='0 0 512 512' xml:space='preserve'>\n  <title>more</title>\n  <circle cx='128' cy='256' r='32' fill='#4F4F4F' opacity='.7'></circle>\n  <circle cx='256' cy='256' r='32' fill='#4F4F4F' opacity='.7'></circle>\n  <circle cx='384' cy='256' r='32' fill='#4F4F4F' opacity='.7'></circle>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},nwPj:function(e,t){e.exports={name:"@polleverywhere/core",version:"4.8.2",main:"index.js",files:["lib","vendor","helpers"],scripts:{version:"npm version",prepublishOnly:"bin/check-private.js && npm run check-no-linked && yarn check",postpublish:"git push --follow-tags","check-no-linked":"test -z $(find node_modules -maxdepth 1 -type l)",test:"karma start --browsers ChromeHeadlessNoSandbox --reporters progress,coverage","test:debug":"karma start --single-run=false --browsers Chrome","test:ci":"karma start --browsers ChromeHeadlessNoSandbox --reporters dots,junit,coverage",lint:"eslint lib spec","lint:fix":"eslint lib spec --fix",ci:"yarn run lint && (yarn run test:ci || true)",coverage:"open tmp/coverage/html/index.html",precommit:"lint-staged"},"lint-staged":{"*.js":["yarn lint"]},peerDependencies:{"@polleverywhere/backbone":"1.4.0-pollev-1","firehose-client":"^1.3.1","imgix-core-js":"^1.0.7",jquery:"^3.2.1",underscore:"^1.8.3","underscore.string":"^3.3.4",urijs:"^1.18.9",xdate:"^0.8.0"},repository:{type:"git",url:"git://github.com/polleverywhere/core.git"},devDependencies:{"@polleverywhere/backbone":"1.4.0-pollev-1","@polleverywhere/js-config":"^1.2.0","babel-core":"^6.26.0","babel-loader":"^7.1.2","babel-plugin-istanbul":"^4.1.5","babel-plugin-transform-class-properties":"^6.24.1","babel-preset-env":"^1.6.1",eslint:"^4.16.0","eslint-config-standard":"^11.0.0-beta.0","eslint-plugin-import":"^2.8.0","eslint-plugin-node":"^5.2.1","eslint-plugin-promise":"^3.6.0","eslint-plugin-standard":"^3.0.1","firehose-client":"^1.3.1",husky:"^0.14.3","imgix-core-js":"^1.0.7","imports-loader":"^0.7.1",istanbul:"^0.4.5","jasmine-core":"^2.9.1","jasmine-reporters":"^2.1.1",jquery:"^3.3.1",karma:"^2.0.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-junit-reporter":"^1.2.0","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^2.0.9","lint-staged":"^7.0.3",puppeteer:"^1.1.1",underscore:"1.8.3","underscore.string":"^3.3.4",urijs:"1.18.9",webpack:"^3.10.0",xdate:"^0.8.0"},dependencies:{"@polleverywhere/babel-preset-pe":"^1.1.1"}}},oA9N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("32HH")),o=a(n("0e/L"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.responseCount=o.responseCount.bind(o),o.maxResponseCount=o.maxResponseCount.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Collection),i(t,[{key:"responseCount",value:function(e){return null==e&&(e={}),this.segmentingOption.responseCount(e)}},{key:"maxResponseCount",value:function(e){return null==e&&(e={}),this.segmentingOption.maxResponseCount(e)}}],[{key:"initClass",value:function(){this.prototype.model=o.default}}]),t}();s.initClass(),t.default=s},oEzV:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='legal-docs--main'></div>\n<div class='legal-docs--footer'>\n  <button class='back-btn' js-back>Back</button>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},oSng:function(e,t){},oiOx:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-clickable-image__builder__region-name-handle'>\n  <label class='component-editor-clickable-image__builder__region-name__correctness' aria-label='Correctness'>\n    <input type='checkbox'>\n    <span class='component-editor-clickable-image__builder__region-name__correctness__checkbox' role='checkbox' aria-checked='false' tabindex='0'></span>\n  </label>\n  <div class='component-editor-clickable-image__builder__region-name__id'></div>\n  <input class='component-editor-clickable-image__builder__region-name__input' placeholder='Region name'>\n  <button class='component-editor-clickable-image__builder__region-name__trash'></button>\n</div>\n<div class='component-editor-clickable-image__builder__region-name__points component-editor-clickable-image__builder__region-name__points--hidden'>\n  <label>\n    <span>Points</span>\n    <input placeholder='0' type='number'>\n  </label>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},"oqD+":function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=b(n("x4Pe")),s=b(n("tRaw")),l=b(n("/BHC")),u=b(n("sj5z")),c=b(n("xB7D")),p=b(n("qM++")),d=b(n("XDnp")),f=b(n("1mPk")),h=b(n("jtaX")),v=b(n("bevw")),g=b(n("Oeb2")),y=b(n("LchT")),m=b(n("SN4m"));function b(e){return e&&e.__esModule?e:{default:e}}var _={Validator:p.default,MultipleChoice:d.default,ClickableImage:f.default,OpenEnded:h.default,Survey:v.default,Competition:g.default},w=m.default,k=function(e){(e.comboBox||e.dropdown).$el.toggle(!!e.groups.length)},O=function(e){return e.useComboBox?e.comboBox.getSelected():e.dropdown.getSelected()},P=function(e){var t=[];for(var n in w){var i=w[n],r=new PollEv.Model[i.model]({activity_type:n,activity_validator:i.validator||n,shared_title:!!i.shared_title,shared_title_image:!!i.shared_title_image});i.clear(r),t.push(e.activities.add(r))}return t},E=function(t,n){var i=w[n],r=-1!==["multiple-choice","survey","clickable-image","competition"].indexOf(n)&&t.showGrading,o={model:t.activities.findWhere({activity_type:n}),showGrading:r,showUpload:t.showUpload,showAltText:t.showAltText,instructionsImage:!0};"survey"===n&&(o.activities=t.pickerActivities);var a=new _[i.view](o);return t.editorView&&t.editorView.remove(),t.editorView=a,t.editorView.on("view:action",function(i,r){null==r&&(r={}),n=e.underscored(n),t.trigger("view:action",n+":"+i,r)}),t.$editor.html(a.render().$el)},T=function(e){return e.activities.findWhere({active_activity:!0})},x=function(e,t){var n=[];return t.mcpOptions.each(function(e){if(!e.hasValue())return n.push(e)}),t.mcpOptions.remove(n)},S=function(e,t,n){e.trigger("error",t,n)},j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.View),o(t,[{key:"initialize",value:function(){var e,t,n,o=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=s,i.extend(this,(0,a.default)(this)),i.defaults(this.options,{groups:new r.Collection,showGrading:!1,showUpload:!0,showAltText:!1,defaultGroup:null,pickerMode:null,pickerPreset:"activity",pickerActivities:{"multiple-choice":!0,"word-cloud":!0,"up-down-vote":!0,"rank-order":!0,"clickable-image":!0,"open-ended-text":!0,survey:!0},addLabel:"Add another activity",dropdown:{},comboBox:{},groupSelector:"dropdown"}),this.groups=s.groups,this.showGrading=s.showGrading,this.showUpload=s.showUpload,this.showAltText=s.showAltText,this.defaultGroup=s.defaultGroup,this.pickerActivities=s.pickerActivities,this.useComboBox="combobox"===s.groupSelector,this.activities=new r.Collection,this.comboBox=this.useComboBox?(e=this,t=i.defaults(e.options.comboBox,{label:function(e){return e.get("name")},placeholderText:"Assign activity to a group",filter:function(e,t){return e.length?t.filter(e,["name"]):t.clearFilter()},defaultModelId:e.defaultGroup?e.defaultGroup.id:-1}),(n=new l.default(t)).collection.set(e.groups.models,{remove:!0}),n):null,this.dropdown=this.useComboBox?null:function(e){var t=i.defaults(e.options.dropdown,{collection:e.groups,placeholderText:"Assign activity to a group",labelKey:"name",defaultId:e.defaultGroup?e.defaultGroup.id:-1});return new u.default(t)}(this),this.picker=new c.default(c.default.PRESETS[s.pickerPreset]({mode:s.pickerMode,activities:this.pickerActivities})),P(this),this.listenTo(this.activities,"invalid",i.debounce(i.partial(S,this),50,!0)),this.listenTo(this.activities,"error",function(e){return o.trigger("error",e)}),this.listenTo(this.groups,"update",i.partial(k,this)),this.listenTo(this.activities,"change:title",function(e,t){o.activities.each(function(n){n!==e&&n.get("shared_title")&&n.set({title:t})})}),this.listenTo(this.activities,"change:flash_options:instructionImageUrl",function(e,t){o.activities.each(function(n){n!==e&&n.get("shared_title_image")&&n.flashOptions().set({instructionImageUrl:t})})}),this.listenTo(this.activities,"change:flash_options:chartShowInstructionsImage",function(e,t){o.activities.each(function(n){n!==e&&n.get("shared_title_image")&&n.flashOptions().set({chartShowInstructionsImage:t})})}),this.listenTo(this.picker,"select",function(e,t){var n,i;null==t&&(t={}),e&&"picker:toggle-drawer"!==e.identifier&&(n=o,i=e.identifier,n.activities.each(function(e){return e.set({active_activity:i===e.get("activity_type")})}),E(o,e.identifier),o.trigger("view:action","change_type",{type:e.identifier,isSynonym:"drawer"===t.placement}))}),this.listenTo(this.dropdown||this.comboBox,"select",function(e){o.trigger("view:action","change_group")}),this.listenTo(this,"focus",function(){o.$el.find([".component-editor-multiple-choice__title:visible",".component-editor-open-ended__title:visible",".component-editor-clickable-image__title:visible",".component-editor-survey__title:visible"].join(",")).focus()})}},{key:"render",value:function(){var e,t;this.$el.html(this.template()),this.$groupSelector=this.$_element("group-selector"),this.$editor=this.$_element("editor"),this.$create=this.$_element("create"),this.$addActivity=this.$_element("add-activity"),e=this,t=this.options.addLabel,e.$addActivity.text(t),this.$_element("picker").append(this.picker.render().$el),this.$groupSelector.append((this.comboBox||this.dropdown).render().$el),this.model&&function(e,t){var n=void 0,i=void 0;switch(t.type()){case"multiple_choice_poll":n=e.activities.findWhere({activity_type:"multiple-choice"}),"donut"===(t.get("flash_options")||{}).chartType&&(n=e.activities.findWhere({activity_type:"donut-chart"}));var r=(i=t.mcpOptions).some(function(e){return!(!e.get("value")||!e.get("value").length)}),o=r?i.models:[new PollEv.Model.MCPOption,new PollEv.Model.MCPOption];n.mcpOptions.reset(o),n.mcpOptions.each(function(e){e.collection=n.mcpOptions});break;case"ranking_poll":n=e.activities.findWhere({activity_type:"rank-order"}),o=(r=(i=t.mcpOptions).some(function(e){return!(!e.get("value")||!e.get("value").length)}))?i.models:[new PollEv.Model.MCPOption,new PollEv.Model.MCPOption],n.mcpOptions.reset(o);break;case"clickable_image":(n=e.activities.findWhere({activity_type:"clickable-image"})).setTypeOption("imageUrl",t.getTypeOption("imageUrl")),n.regions.set(t.regions.models);break;case"discourse":n=e.activities.findWhere({activity_type:"up-down-vote"});break;case"free_text_poll":n="wordcloud"===(t.get("flash_options")&&t.get("flash_options").fancyThemeEffect)?e.activities.findWhere({activity_type:"word-cloud"}):e.activities.findWhere({activity_type:"open-ended-text"});break;case"survey":(n=e.activities.findWhere({activity_type:"survey"})).polls.set(t.polls.map(function(e){return new s.default({poll:e,survey:n})}),{add:!0,remove:!0,merge:!1})}n.set({title:t.get("title"),active_activity:!0})}(this,this.model);var n=T(this)&&T(this).get("activity_type")||i.findKey(this.pickerActivities,function(e,t){return e});return this.picker.select(n),E(this,n),this}},{key:"reset",value:function(){return this.activities.reset(),P(this),this.picker.select(this.picker.getSelected())}},{key:"create",value:function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=T(this);if(this.trigger("view:action","create",{clear:n,type:i.get("activity_type")}),i.set((e=O(this))instanceof PollEv.Model.Group?{group_id:e.get("id")}:e instanceof PollEv.Model.Competition?{competition_id:e.get("id")}:e instanceof PollEv.Model.Survey?{survey_id:e.get("id")}:void 0),this.validate()){var r=void 0;switch(this.$_element("actions").find("button").prop("disabled",!0),/^(?!(?:survey|competition))/i.test(i.get("activity_validator"))&&i.set(i.flashOptions().toJSON()),i.get("activity_validator")){case"survey":case"competition":i.polls.each(function(e){if("multiple-choice"===e.get("type"))return x(0,e.getPoll())}),r=i.save(null,{silent:!0});break;case"multiple-choice":case"rank-order":if(x(0,i),!i.mcpOptions.length)return void i.trigger("error:emptyOptions");r=i.save();break;default:r=i.save()}return r.then(function(e){var i=PollEv.Util.activityFactory(e);t.trigger("create",i,O(t),n),n&&(t.reset(),t.trigger("focus"))},function(e,n){var i="There was a problem creating your poll.",r=e.responseJSON;if(r&&r.group){t.groups.trigger("error");var o=O(t);o.trigger("error",r.group[0]),i+=" Group "+o.get("name")+" "+r.group[0]+"."}t.trigger("error",i,{xhr:e})}).always(function(){t.$_element("actions").find("button").prop("disabled",!1)})}}},{key:"validate",value:function(){return new _.Validator(T(this)).validate()}},{key:"className",get:function(){return"component-activity-creator"}},{key:"template",get:function(){return y.default}},{key:"events",get:function(){return{"click .component-activity-creator__add-activity:not(:disabled)":function(){this.create(!0)},"click .component-activity-creator__create:not(:disabled)":function(){this.create(!1)}}}}]),t}();t.default=j}).call(t,n("xok8"),n("rdLu"),n("32HH"))},p1Pd:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-picker__btn js-select' tabindex='"+function(e,t){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/"/g,"&quot;")}(function(e){switch(e){case null:case void 0:return"";case!0:case!1:return""+e;default:return e}}(0))+"' role='button'>\n  <div class='component-picker__image-container'>\n    <div class='component-picker__image'></div>\n  </div>\n  <div class='component-picker__title'></div>\n</div>"),e.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},p2wS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ajax=this.ajax.bind(this),this.nextAjax=n}return r(e,[{key:"ajax",value:function(e,t){"object"===(void 0===e?"undefined":i(e))&&(e=(t=e).url);return t||(t={}),t.url=e,t.type=t.method||t.type||"GET",this.nextAjax(t)}}]),e}();t.default=o},pH9f:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-simple-survey__intro'>\n  <input class='component-editor-simple-survey__title' type='text' placeholder='Enter a survey title'>\n  <input class='component-editor-simple-survey__subtitle' type='text' placeholder='Enter a subtitle'>\n  <div class='component-editor-simple-survey__description'></div>\n</div>\n<div class='component-editor-simple-survey__polls'></div>\n<div class='component-editor-simple-survey__confirmation'>\n  <div class='component-editor-simple-survey__icon'></div>\n  <div class='component-editor-simple-survey__message' contenteditable='true'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},pKTL:function(e,t,n){"use strict";(function(e,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{setupAgaveSSO:function(){e.delegate("click",".login--sso a",function(t){t.preventDefault(),a(e,t.target.href)})}}};var r=function(e,t){var n=JSON.parse(t.message);if(e.ssoDialog.close(),"success"===n.state)return o(e.app,n.token);e.app.trigger("error","Unable to login"),"undefined"!=typeof Rollbar&&Rollbar&&Rollbar.warning("Failed to login via SSO",{message:n.message})},o=function(t,n){return t.session._started=!1,t.session.authToken().token=n,t.session.start().always(function(){return e.history.loadUrl("/")})},a=function(e,t){Office.context.ui.displayDialogAsync(n().protocol("").path("sso/index.html").query({url:t}).hash("").toString(),{height:40,width:40},function(t){if("failed"===t.status){e.app.trigger("error","Unable to login");try{Rollbar&&Rollbar.warning("Failed to open popup",{data:t.error})}catch(e){}}else e.ssoDialog=t.value,e.ssoDialog.addEventHandler(Microsoft.Office.WebExtension.EventType.DialogMessageReceived,i.partial(r,e))})}}).call(t,n("32HH"),n("hBlz"),n("rdLu"))},pVUE:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg width='150' height='104' viewBox='0 0 150 104' xmlns='http://www.w3.org/2000/svg'>\n  <title>vote-wc</title>\n  <g fill='none' fill-rule='evenodd'>\n    <g fill='#60E2DC'>\n      <path d='M24.6 13.8h4.2l4.9 15.6H30l-1-3.7h-4.8l-1 3.7h-3.6l5-15.6zm.4 9.1h3.3l-.4-1.4c-.4-1.6-.9-3.4-1.3-5h-.1c-.4 1.6-.8 3.5-1.2 5l-.3 1.4zM34 17.5h3.5l1.1 5.5c.2 1.2.3 2.3.5 3.5h.1c.2-1.2.4-2.4.7-3.5l1.3-5.5h3l1.3 5.5c.3 1.2.5 2.3.7 3.5h.1c.2-1.2.3-2.3.6-3.5l1.1-5.5h3.3l-2.8 11.9h-4.1l-1.1-4.7c-.2-1.1-.4-2.2-.6-3.5h-.1c-.2 1.3-.4 2.4-.6 3.5l-1.1 4.7h-4L34 17.5zM52.6 23.4c0-3.8 2.7-6.2 5.6-6.2 3.4 0 5 2.5 5 5.7 0 .6-.1 1.3-.1 1.6H56c.3 1.7 1.5 2.5 3.1 2.5.9 0 1.7-.3 2.6-.8l1.2 2.1c-1.2.8-2.8 1.3-4.2 1.3-3.5 0-6.1-2.3-6.1-6.2zm7.7-1.3c0-1.3-.6-2.2-2-2.2-1.1 0-2.1.7-2.3 2.2h4.3zM64.7 28l1.6-2.2c1.1.8 2.1 1.2 3.1 1.2 1.1 0 1.5-.4 1.5-1 0-.8-1.2-1.1-2.4-1.6-1.4-.6-3.1-1.5-3.1-3.5 0-2.2 1.8-3.7 4.5-3.7 1.8 0 3.2.7 4.2 1.5l-1.6 2.1c-.9-.6-1.7-1-2.5-1-.9 0-1.3.3-1.3.9 0 .8 1.1 1.1 2.3 1.5 1.5.6 3.2 1.4 3.2 3.6s-1.7 3.8-4.9 3.8c-1.7 0-3.5-.6-4.6-1.6zM75.6 23.4c0-3.9 2.8-6.2 5.8-6.2s5.8 2.3 5.8 6.2c0 3.9-2.8 6.2-5.8 6.2s-5.8-2.2-5.8-6.2zm8 0c0-2.1-.7-3.4-2.2-3.4-1.5 0-2.2 1.3-2.2 3.4 0 2.1.7 3.4 2.2 3.4 1.4 0 2.2-1.3 2.2-3.4zM89.6 17.5h2.9l.2 1.5h.1c1-1 2-1.8 3.6-1.8 1.7 0 2.7.7 3.3 2 1.1-1.1 2.2-2 3.7-2 2.6 0 3.7 1.8 3.7 4.8v7.4h-3.5v-6.9c0-1.7-.5-2.2-1.5-2.2-.6 0-1.3.4-2 1.1v8h-3.5v-6.9c0-1.7-.5-2.2-1.5-2.2-.6 0-1.3.4-2 1.1v8h-3.5V17.5zM109.4 23.4c0-3.8 2.7-6.2 5.6-6.2 3.4 0 5 2.5 5 5.7 0 .6-.1 1.3-.1 1.6h-7.1c.3 1.7 1.5 2.5 3.1 2.5.9 0 1.7-.3 2.6-.8l1.2 2.1c-1.2.8-2.8 1.3-4.2 1.3-3.5 0-6.1-2.3-6.1-6.2zm7.6-1.3c0-1.3-.6-2.2-2-2.2-1.1 0-2.1.7-2.3 2.2h4.3z'></path>\n    </g>\n    <g fill='#4F4F4F'>\n      <path d='M5.4 58.1L7 56.2c1.1 1.1 2.6 1.8 4.1 1.8 1.8 0 2.7-.8 2.7-2 0-1.3-1-1.7-2.4-2.3l-2.2-.9C7.7 52.2 6 50.9 6 48.6c0-2.5 2.2-4.4 5.3-4.4 1.8 0 3.6.8 4.8 2L14.7 48c-1-.8-2.1-1.3-3.4-1.3-1.5 0-2.5.7-2.5 1.8 0 1.2 1.2 1.7 2.5 2.2l2.1.9c1.8.8 3.2 2 3.2 4.2 0 2.5-2.1 4.6-5.6 4.6-2 0-4.1-.8-5.6-2.3zM18.1 48.4h2.8l1.4 6.1c.2 1.1.4 2.2.6 3.4h.1c.2-1.1.5-2.3.7-3.4l1.5-6.1h2.5l1.6 6.1c.3 1.1.5 2.2.8 3.4h.1c.2-1.1.4-2.2.6-3.4l1.4-6.1h2.6l-3 11.7h-3.3l-1.4-5.5c-.3-1.1-.5-2.2-.7-3.4h-.1c-.2 1.2-.4 2.3-.7 3.4l-1.3 5.5h-3.2l-3-11.7zM36.3 54.3c0-3.8 2.7-6.2 5.4-6.2 3.2 0 4.9 2.3 4.9 5.6 0 .5 0 1.1-.1 1.3H39c.2 2.1 1.6 3.3 3.5 3.3 1 0 1.9-.3 2.7-.9l.9 1.7c-1.1.7-2.5 1.3-4 1.3-3.3 0-5.8-2.3-5.8-6.1zm7.8-1.2c0-1.8-.8-2.9-2.4-2.9-1.4 0-2.6 1-2.8 2.9h5.2zM48.4 54.3c0-3.8 2.7-6.2 5.4-6.2 3.2 0 4.9 2.3 4.9 5.6 0 .5 0 1.1-.1 1.3h-7.5c.2 2.1 1.6 3.3 3.5 3.3 1 0 1.9-.3 2.7-.9l.9 1.7c-1.1.7-2.5 1.3-4 1.3-3.3 0-5.8-2.3-5.8-6.1zm7.9-1.2c0-1.8-.8-2.9-2.4-2.9-1.4 0-2.6 1-2.8 2.9h5.2zM61.4 56.1v-5.6h-1.7v-2.1l1.8-.1.3-3.2h2.3v3.2h3v2.2h-3v5.6c0 1.4.5 2.1 1.6 2.1.4 0 .9-.1 1.2-.3l.5 2c-.6.2-1.5.4-2.4.4-2.6.1-3.6-1.6-3.6-4.2z'></path>\n    </g>\n    <g opacity='.7' fill='#4F4F4F'>\n      <path d='M39.6 71.3H51v2.8h-8v5.4h6.9v2.8H43v7.9h-3.4M53.4 85v-9h3.3v8.5c0 2.3.7 3.2 2.2 3.2 1.2 0 2.1-.6 3.2-2V76h3.3v14.2h-2.7l-.3-2.1h-.1c-1.2 1.5-2.6 2.4-4.6 2.4-2.9.1-4.3-1.9-4.3-5.5zM69.7 76h2.8l.2 1.9h.1c1.3-1.2 2.7-2.3 4.7-2.3 3 0 4.4 2.1 4.4 5.7v8.9h-3.3v-8.5c0-2.3-.7-3.2-2.2-3.2-1.2 0-2.1.6-3.2 1.8v9.9h-3.3V76h-.2z'></path>\n    </g>\n    <g opacity='.7' fill='#4F4F4F'>\n      <path d='M77.7 68.6v-3.4c0-2.1.6-3.7 2.5-3.7.9 0 1.9.5 2.2 1.3h.1c.3-1 1-1.8 2.4-1.8 2.1 0 3 1.7 3 3.9v3.7H77.7zm4-3.4c0-1.1-.5-1.6-1.2-1.6-.8 0-1.1.5-1.1 1.6v1.1h2.3v-1.1zM86 65c0-1.2-.4-1.9-1.4-1.9-.9 0-1.2.6-1.2 1.9v1.3H86V65zM83.9 59.9c-2.5 0-4-1.8-4-3.6 0-2.2 1.6-3.3 3.7-3.3.4 0 .8 0 1 .1v4.6c1.1-.2 1.6-1 1.6-2 0-.6-.2-1.1-.5-1.7l1.4-.8c.5.8.9 1.8.9 2.7 0 2.3-1.5 4-4.1 4zm-.8-5c-.8 0-1.5.4-1.5 1.3 0 .7.5 1.3 1.5 1.5v-2.8zM86.9 52.1l-1.4-1c.5-.7.8-1.3.8-2s-.2-1-.6-1c-.5 0-.7.8-1 1.6-.4.9-1 2-2.3 2-1.4 0-2.4-1.2-2.4-2.9 0-1.2.5-2 1-2.7l1.4 1c-.4.6-.6 1.1-.6 1.6 0 .6.2.9.6.9.5 0 .7-.7 1-1.5.4-1 .9-2.1 2.3-2.1s2.5 1.1 2.5 3.1c-.2 1.1-.7 2.2-1.3 3zM85 44.6h-3.1v1h-1.7l-.1-1.2-2-.3v-1.9h2v-1.8h1.8v1.8H85c.9 0 1.2-.4 1.2-1 0-.2-.1-.5-.2-.7l1.7-.4c.1.4.3 1 .3 1.7 0 2.1-1.2 2.8-3 2.8z'></path>\n    </g>\n    <g fill='#4F4F4F'>\n      <path d='M95.7 44.1c0-3.7 2.5-5.8 5.4-5.8 1.6 0 2.8.7 3.5 1.4l-1.3 1.6c-.6-.5-1.1-.9-2.1-.9-1.7 0-2.9 1.3-2.9 3.6s1 3.6 3.1 3.6c.5 0 .9-.1 1.2-.3v-1.9h-1.8v-2h4.1v5.1c-.8.7-2.1 1.3-3.7 1.3-3.2 0-5.5-2-5.5-5.7zM106.8 41.1h2l.2 1.5h.1c.6-1.1 1.5-1.7 2.4-1.7.5 0 .8.1 1 .2l-.4 2.2c-.3-.1-.6-.1-.9-.1-.6 0-1.4.4-1.9 1.6v4.9h-2.5v-8.6zM113 45.4c0-2.7 2-4.4 4-4.4 2.4 0 3.6 1.8 3.6 4.1 0 .4-.1.9-.1 1.1h-5.1c.2 1.2 1.1 1.8 2.2 1.8.6 0 1.2-.2 1.8-.6l.8 1.5c-.9.6-2 1-3 1-2.4-.1-4.2-1.7-4.2-4.5zm5.4-.9c0-.9-.4-1.6-1.4-1.6-.8 0-1.5.5-1.6 1.6h3zM121.7 47.2c0-1.8 1.4-2.7 4.8-3.1-.1-.7-.4-1.2-1.3-1.2-.7 0-1.4.3-2.2.8l-1-1.7c1.1-.6 2.3-1.1 3.6-1.1 2.2 0 3.4 1.2 3.4 3.8v4.8h-2l-.2-.9h-.1c-.7.6-1.5 1.1-2.5 1.1-1.5.1-2.5-1-2.5-2.5zm4.7-.1v-1.5c-1.8.2-2.4.7-2.4 1.4 0 .5.4.8 1 .8.6.1 1-.2 1.4-.7zM131.1 46.5v-3.4h-1.2v-1.9l1.3-.1.3-2.2h2.1v2.2h2v2h-2v3.4c0 1 .4 1.3 1.1 1.3.3 0 .6-.1.8-.2l.4 1.8c-.4.1-1.1.3-1.9.3-2.1.1-2.9-1.2-2.9-3.2z'></path>\n    </g>\n    <g fill='#60E2DC'>\n      <path d='M99.9 69.6c0-5.1 3.2-8.2 7.1-8.2 2 0 3.5.9 4.5 2l-1.5 1.8c-.8-.8-1.7-1.4-3-1.4-2.6 0-4.4 2.2-4.4 5.7 0 3.6 1.7 5.7 4.3 5.7 1.4 0 2.5-.6 3.3-1.6l1.5 1.7c-1.3 1.5-2.9 2.3-4.9 2.3-3.8.1-6.9-2.8-6.9-8zM113.5 71.6c0-3.9 2.7-6.2 5.6-6.2 2.9 0 5.6 2.2 5.6 6.2 0 3.9-2.7 6.1-5.6 6.1-3 0-5.6-2.3-5.6-6.1zm8.3 0c0-2.4-1.1-3.9-2.8-3.9-1.7 0-2.7 1.6-2.7 3.9s1 3.9 2.7 3.9c1.8-.1 2.8-1.6 2.8-3.9zM126.6 71.6c0-3.9 2.7-6.2 5.6-6.2 2.9 0 5.6 2.2 5.6 6.2 0 3.9-2.7 6.1-5.6 6.1-3 0-5.6-2.3-5.6-6.1zm8.3 0c0-2.4-1.1-3.9-2.8-3.9-1.7 0-2.7 1.6-2.7 3.9s1 3.9 2.7 3.9c1.8-.1 2.8-1.6 2.8-3.9zM140.5 74.4V60.5h2.7v14c0 .7.3.9.6.9h.4l.4 2.1c-.3.1-.8.2-1.5.2-1.9 0-2.6-1.3-2.6-3.3z'></path>\n    </g>\n  </g>\n</svg>"),e.join("\n")}.call(e)}}.call(this)},qE8w:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=d(n("x4Pe")),s=d(n("gh83")),l=d(n("H62l")),u=d(n("m8iG")),c=d(n("Jo8S")),p=d(n("EmhH"));function d(e){return e&&e.__esModule?e:{default:e}}var f={info:l.default,error:u.default,warning:c.default,success:p.default},h=function(t,n,r){if(e.defaults(r,{autoHideAfter:t.options.autoHideAfter,type:"notice",autoLink:t.options.autoLink,linkTarget:t.options.linkTarget}),t.$_toggleModifier(null,t.className,"error","error"===r.type),t.$_toggleModifier(null,t.className,"warning","warning"===r.type),t.$_toggleModifier(null,t.className,"info","info"===r.type),t.$_toggleModifier(null,t.className,"success","success"===r.type),r.autoLink?(t.$message.html(PollEv.Util.autolink(n)),!1===r.linkTarget?t.$message.find("a").removeAttr("target"):e.isString(r.linkTarget)&&t.$message.find("a").attr("target",r.linkTarget)):t.$message.html(n),r.icon){var o=i("<span></span>").addClass("icon").attr("data-glyph",r.icon);t.$_element("icon").empty().append(o)}else t.$_element("icon").empty();"banner-alert"!==t.options.mode&&"toast"!==t.options.mode||t.$_element("icon").append(f[r.type]),t.$_toggleModifier(null,t.className,"hidden",!1),v(t,r.autoHideAfter)},v=function(e,t){t<0||(clearTimeout(e.hideTimeout),e.hideTimeout=setTimeout(function(){e.$_toggleModifier(null,e.className,"hidden",!0),e.trigger("dismiss")},t))},g=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,e.extend(this,(0,a.default)(this)),e.defaults(this.options,this.defaults),this.$_toggleModifier(null,this.className,"hidden",!0)}},{key:"render",value:function(){return this.$el.html(this.elementTpl()),this.$message=this.$_element("message"),this.$_toggleModifier(null,this.className,"with-transition",!0),this.options.mode&&this.$_toggleModifier(null,this.className,this.options.mode),this}},{key:"notice",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.defaults(n,{type:"info"}),h(this,t,n)}},{key:"error",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.defaults(n,{type:"error"}),h(this,t,n)}},{key:"warning",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.defaults(n,{type:"warning"}),h(this,t,n)}},{key:"success",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.defaults(n,{type:"success"}),h(this,t,n)}},{key:"dismiss",value:function(){v(this,0)}},{key:"remove",value:function(){clearTimeout(this.hideTimeout),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-notification"}},{key:"elementTpl",get:function(){return s.default}},{key:"defaults",get:function(){return{autoHideAfter:4e3,mode:!1,closeOnClick:!0,autoLink:!1}}},{key:"events",get:function(){return{click:function(){this.options.closeOnClick&&this.dismiss()},"click .component-notification__dismiss-btn":"dismiss"}}}]),n}();t.default=g}).call(t,n("rdLu"),n("7t+N"),n("32HH"))},qFj3:function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.extend(this,n.Events),this.bindEvents=this.bindEvents.bind(this),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.app=i,this.bindEvents()}return i(t,[{key:"bindEvents",value:function(){this.listenTo(this.app,"login",this.login),this.listenTo(this.app,"logout",this.logout)}},{key:"login",value:function(){var e=this;this.app.session.start().done(function(){if(e.app.user.isLoggedIn())return e.app.trigger("native:api:login",e.app.user.get("login"))})}},{key:"logout",value:function(){var e=this;this.app.session.destroy().done(function(){if(!e.app.user.isLoggedIn())return e.app.trigger("native:api:logout")})}}]),t}();t.default=r}).call(t,n("rdLu"),n("32HH"))},qLzu:function(e,t,n){(function(e){(function(){PollEv.env.set("rollbar_access_token",e.env.ROLLBAR_ACCESS_TOKEN),PollEv.env.set("hotjar_id",e.env.HOTJAR_ID),PollEv.env.set("hotjar_accounts",e.env.HOTJAR_ACCOUNTS)}).call(window)}).call(t,n("W2nU"))},"qM++":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i={title:function(e){var t={model:e,prop:"title"},n=/(?:survey|competition)/i.test(e.type())?e.type()+" title":"question",i=e.get("title")&&e.get("title").length||0;i>500?(t.message=PollEv.Util.capitalize(n)+" exceeds 500 characters.",t.invalid="maxLength"):0===i&&(t.message="Please enter a "+n+".",t.invalid="hasValue");var r=!t.message;return r||e.trigger("invalid",t.message,t),r},options:function(t){var n={model:t,prop:"options"},i=e.some(t.mcpOptions.models,function(e){return e.hasValue()}),r=!t.mcpOptions.length,o=!1;t.mcpOptions.models.forEach(function(e){(e.get("value")&&e.get("value").length)>255&&(o=!0,n.invalid="maxCharLength",n.message="Response option exceeds 255 characters",e.trigger("invalid",n.message,n))});var a=void 0;return i&&!o?a=!0:o?a=!1:r?(n.invalid="hasOptions",n.message="Question must have 1 response option",a=!1):(n.invalid="hasOptions",n.message="Question must have 1 response option",t.mcpOptions.first().trigger("invalid",n.message,n),a=!1),a||t.trigger("invalid",n.message,n),a},regionNameLength:function(e){var t={model:e,prop:"name"},n=!0;return e.regions.each(function(e){e.isOtherRegion()||(e.getName()&&e.getName().length||0)>200&&(t.invalid="maxLength",t.message="exceeds 200 characters",e.trigger("invalid",t.message,t),n=!1)}),n},image:function(e){var t={model:e,prop:"imageUrl"},n=!!e.getTypeOption("imageUrl");return t.invalid="hasImage",t.message="Image required",n||e.trigger("invalid",t.message,t),n},correctness:function(e){var t=!0,n={model:e};return e instanceof PollEv.Model.MultipleChoicePoll&&(e.mcpOptions.hasCorrect()||(t=!1,n.invalid="correct_response",n.message="At least one option must be marked correct.",e.trigger("invalid",n.message,n))),(e instanceof PollEv.Model.Survey||e instanceof PollEv.Model.Competition)&&e.polls.select(function(e){return e.get("type")}).map(function(e){return e.getPoll()}).map(function(e){return e.mcpOptions||e.regions}).forEach(function(e){e.hasCorrect()||(t=!1,n.invalid="correct_response",n.message="At least one option must be marked correct.",e.poll.trigger("invalid",n.message,n))}),t||e.trigger("invalid",n.message,n),t}},r={"multiple-choice":["title","options"],"word-cloud":["title"],"up-down-vote":["title"],"rank-order":["title","options"],"clickable-image":["title","image","regionNameLength"],"open-ended-text":["title"],survey:["title"],competition:["title","correctness"]},o=function(t){return e.every(t,function(e){return new a(e).validate()})},a=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.activity=n,this.validations=e.defaults(i,r)}return n(t,[{key:"validate",value:function(){var t=void 0,n=this.activity.get("activity_validator")||this.activity.get("activity_type");if(!this.validations[n])return!1;var r=function(t){var n=!0,r=t.activity.get("activity_validator")||t.activity.get("activity_type");return t.validations[r].map(function(r){n=e.isString(r)?i[r](t.activity)&&n:r(t.activity)&&n}),n&&t.activity.isValid()}(this);if(/(?:survey|competition)/i.test(n)){var a=this.activity.polls.map(function(e){return e.getPoll()});t=o(e.compact(a))}else t=!0;return r&&t}}]),t}();t.default=a}).call(t,n("rdLu"))},qQrg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("qo6o")),o=s(n("Hf0w")),a=s(n("eBus"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.search=o.search.bind(o),o.params=o.params.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(){this.filter=new r.default}},{key:"url",value:function(){return"/api/account/users"}},{key:"search",value:function(e){return this.fetch({data:{search:e}})}},{key:"params",value:function(e){return null!=e?this.filter.set(e):this.filter.attributes}}],[{key:"initClass",value:function(){this.prototype.model=a.default}}]),t}();l.initClass(),t.default=l},qblT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("Hf0w")),o=s(n("rdLu")),a=n("SXII");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.reset=o.reset.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"reset",value:function(e,t){var n=this;null==e&&(e=[]),null==t&&(t={});var i=this.filter(function(e){return e.isNew()});this.remove(i,t);var r=this.pluck("id"),s=o.default.map(e,function(e){return e.id||(0,a.popRootKey)(e).id}),l=o.default.without.apply(this,[r].concat(s));(0,o.default)(l).each(function(e){return n.remove(n.get(e),t)}),this.add(e,o.default.extend({merge:!0},t,{validate:!1}));var u=!1;if(r.length>0&&JSON.stringify(s)!==JSON.stringify(r)){var c=o.default.map(e,function(e,t){return n.get(e.id||(0,a.popRootKey)(e).id)});o.default.each(c,function(e,t){n.models[t]=e}),u=!0}return!l.length&&r.length===s.length&&u&&(t.silent||this.trigger("reorder",this,t)),t.silent||this.trigger("reset",this,t),this}}]),t}();t.default=l},qo6o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("32HH"),a=(i=o)&&i.__esModule?i:{default:i};var s={page:1,search:"",order:"",direction:""},l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.resetSearchParams=o.resetSearchParams.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Model),r(t,[{key:"resetSearchParams",value:function(){return this.clear().set(s)}}],[{key:"initClass",value:function(){this.prototype.defaults=s}}]),t}();l.initClass(),t.default=l},rLwZ:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("Lxn6");var s=function(){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.extend(this.prototype,i.Events),this.app=n}return o(t,[{key:"downloadImages",value:function(t){var n=r.Deferred(),i=e.map(t,a.retrievePlaceholderUrl);return r.when.apply(r,i).done(function(){var t=arguments,i=e.map(t,a.getDataURI);r.when.apply(r,i).done(function(){var e=arguments;n.resolve(e)}).fail(n.reject)}).fail(n.reject),n}}]),t}();t.default=s}).call(t,n("rdLu"),n("32HH"),n("7t+N"))},riwD:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("6L1a"),a=u(n("1YsL")),s=u(n("20yK")),l=u(n("iMry"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.header=t.header,this.footer=t.footer,this.appRouter=t.appRouter,this.editorView=b.call(this,this.model.type()),this.header.renderNav((0,l.default)()),this.header.showFilterPolls(!1),this.footer.renderActionLabel(d.footerActionLabel),this.footer.actionEl.toggleVisibility(!0),this.footer.$cancel.toggleVisibility(!0),this.footer.toggleAction(!1),this.footer.hideActions(!1),this.listenTo(this.footer,"cancel",this.cancelEdit),this.listenTo(this.footer,"action",this.submitEdit),this.listenToOnce(this.model,"change",function(){e.footer.toggleAction(!0)}),o.env.get("logging_enabled")&&this.listenTo(this.model,"change",f("model change"))}},{key:"render",value:function(){return this.appRouter.trigger("spinner:hide"),this.$el.html(this.editorView.render().$el),this}},{key:"remove",value:function(){this.editorView.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"cancelEdit",value:function(){h.call(this)?this.appRouter.trigger("native:api:close"):this.appRouter.navigateBack()}},{key:"submitEdit",value:function(){var e;this.appRouter.trigger("view:action","edit:action",{description:"presenter app edit poll",referrer:this.appRouter.history.previousURL()}),this.appRouter.trigger("spinner:show");var t=[];return"survey"===this.model.type()?t.push.apply(t,c(v.call(this,this.model))):t.push.apply(t,c(g.call(this,this.model))),t.length?(e=i).when.apply(e,t).then(y.bind(this),m.bind(this)):i.Deferred().resolve()}},{key:"className",get:function(){return d.className},set:function(e){throw new Error('Default "className" property cannot be changed.')}}]),n}();t.default=p;var d={className:"activity-editor",footerActionLabel:"Save",saveSuccessMessage:"Successfully saved changes.",saveErrorMessage:"Cannot save changes to this activity.",saveError404Message:"Cannot save changes because this activity does not exist."},f=function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];this.appRouter.log("[Event] ActivityEditor #"+e,n)}},h=function(){return o.env.has("nativeAPI")&&1===this.appRouter.history.length},v=function(e){var t=this,n=[];return e.hasChanged()&&n.push(e.save()),e.polls.forEach(function(e){n.push.apply(n,c(g.call(t,e)))}),n},g=function(e){var t=[];return t.push(e.save()),e.flashOptions().hasChanged()&&t.push(e.flashOptions().save()),t},y=function(){if(h.call(this)){this.appRouter.trigger("showFakeProgress",1,"Updating activity...");var e=this.appRouter.presenterView.formatForMultipleNativeInsert([this.model])[2];this.appRouter.trigger("updatePlaceholder",e[0])}else this.appRouter.trigger("success",d.saveSuccessMessage),this.cancelEdit();for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n},m=function(e){var t=d.saveErrorMessage;return 404===e.status?t=d.saveError404Message:e.responseText&&e.responseText.length>20&&(t=e.responseText),t=this.appRouter.settings.createErrorMsg(t),this.appRouter.trigger("spinner:hide"),this.appRouter.trigger("error",t),i.Deferred().reject(e)},b=function(e){var t=null,n=this.appRouter.user.get("features"),i=this.appRouter.user.get("labs"),r={model:this.model,showKeywords:!1,showCustomGlobalKeywords:!1,showGrading:!!n.grading,showWeightedGrading:!1,showInstructionsImage:!0,showAltText:!!i.alt_text};if("survey"===e){var o=Object.assign(r,{defaultSubtitle:"From "+this.appRouter.user.fullName(),defaultConfirmationMessage:"All done!\n\nThanks for responding."});t=new s.default(o)}else t=new a.default(r);return t}}).call(t,n("32HH"),n("7t+N"))},ryUu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("xUp4"),n("geHz");var r=s(n("40hA")),o=s(n("BWO0")),a=s(n("LaYC"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.authorization=e.authorization,this.jumpRoute=e.jumpRoute}},{key:"render",value:function(){this.renderTemplate();var e=PollEv.Util.paramsFromLocation()||{};return e.email&&this.$(".username").val(e.email),this}},{key:"cancel",value:function(){this._clearEmailError(),this.app.navigateBack()}},{key:"sendPasswordReset",value:function(e){var t=this;e.preventDefault(),this._clearEmailError();var n=this.$(".username").val().trim();return n?(this.app.trigger("spinner:show"),PollEv.Model.User.sendPasswordReset(n).done(function(){t._passwordResetSuccess(n)}).fail(function(e){t._passwordResetFail(e,n)}).always(function(){t.app.trigger("spinner:hide"),t.submitting=!1})):this._showEmailError("Email cannot be blank")}},{key:"_clearEmailError",value:function(e){this.$(".username").removeClass("invalid"),this.$("[js-username-validation-message]").text("")}},{key:"_showEmailError",value:function(e){this.$(".username").addClass("invalid"),this.$("[js-username-validation-message]").text(e)}},{key:"_passwordResetSuccess",value:function(e){var t=this;this.app.once("route",function(){t.app.trigger("success","A password reset email has been sent to "+e)}),this.app.navigateBack()}},{key:"_passwordResetFail",value:function(e,t){if(404===e.status)this._showEmailError("Account not found");else{var n=JSON.parse(e.responseText);this.app.trigger("error",(null!=n.error?n.error.message:void 0)||"Unknown error occurred")}}},{key:"bodyClass",get:function(){return"login"}},{key:"template",get:function(){return this._template||(0,a.default)({LogoTpl:o.default})},set:function(e){this._template=e}},{key:"title",get:function(){return"Reset account password"}},{key:"events",get:function(){return{"click button.cancel":"cancel","click button.send-email":"sendPasswordReset"}}}]),t}();t.default=l},"sFe/":function(e,t,n){var i;
/**
 * @preserve XDate v@VERSION
 * Docs & Licensing: http://arshaw.com/xdate/
 */!function(n,r,o,a){var s=0,l=1,u=2,c=3,p=4,d=5,f=6,h=7,v=864e5,g=["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds","Day","Year"],y=["Years","Months","Days"],m=[12,31,24,60,60,1e3,1],b=new RegExp("(([a-zA-Z])\\2*)|(\\((('.*?'|\\(.*?\\)|.)*?)\\))|('(.*?)')"),_=n.UTC,w=n.prototype.toUTCString,k=O.prototype;function O(){return function(e,t){var i,r=t.length;q(t[r-1])&&(i=t[--r],t=V(t,0,r));if(r)if(1==r){var o=t[0];o instanceof n?e[0]=new n(o.getTime()):!function(e){return"number"==typeof e}(o)?o instanceof O?e[0]=function(e){var t=new n(e[0].getTime());P(e)&&(t.toString=w);return t}(o):W(o)&&(e[0]=new n(0),e=function(e,t,i){for(var r,o=O.parsers,a=0;a<o.length;a++)if(r=o[a](e,t,i))return r;return i[0]=new n(e),i}(o,i||!1,e)):e[0]=new n(o)}else e[0]=new n(_.apply(n,t)),i||(e[0]=z(e[0]));else e[0]=new n;q(i)&&E(e,i);return e}(this instanceof O?this:new O,arguments)}function P(e){return e[0].toString===w}function E(e,t,i){var r;return t?P(e)||(i&&(e[0]=(r=e[0],new n(_(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())))),e[0].toString=w):P(e)&&(e[0]=i?z(e[0]):new n(e[0].getTime())),e}function T(e,t,n,i,r){var o,a=B(F,e[0],r),c=B(U,e[0],r),p=!1;2==i.length&&q(i[1])&&(p=i[1],i=[n]),o=t==l?(n%12+12)%12:a(l),c(t,i),p&&a(l)!=o&&(c(l,[a(l)-1]),c(u,[D(a(s),a(l))]))}function x(e,t,n){e=e.clone().setUTCMode(!0,!0),t=O(t).setUTCMode(!0,!0);var i=0;if(n==s||n==l){for(var o=f;o>=n;o--)i/=m[o],i+=F(t,!1,o)-F(e,!1,o);n==l&&(i+=12*(t.getFullYear()-e.getFullYear()))}else if(n==u){var a=e.toDate().setUTCHours(0,0,0,0),c=t.toDate().setUTCHours(0,0,0,0);i=r.round((c-a)/v)+(t-c-(e-a))/v}else i=(t-e)/[36e5,6e4,1e3,1][n-3];return i}function S(e){return t=e(s),i=e(l),o=e(u),a=new n(_(t,i,o)),c=C(j(t,i,o)),r.floor(r.round((a-c)/v)/7)+1;var t,i,o,a,c}function j(e,t,i){var r=new n(_(e,t,i));return r<C(e)?e-1:r>=C(e+1)?e+1:e}function C(e){var t=new n(_(e,0,4));return t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+6)%7),t}function M(e,t,n,i){var r=B(F,e,i),o=B(U,e,i);n===a&&(n=j(r(s),r(l),r(u)));var c=C(n);i||(c=z(c)),e.setTime(c.getTime()),o(u,[r(u)+7*(t-1)])}function A(e,t,n,i,r){var o=O.locales,a=o[O.defaultLocale]||{},s=B(F,e,r);return n=(W(n)?o[n]:n)||{},R(e,t,function(e){if(i)for(var t=(e==h?u:e)-1;t>=0;t--)i.push(s(t));return s(e)},function(e){return n[e]||a[e]},r)}function R(e,t,n,i,r){for(var o,a,s="";o=t.match(b);)s+=t.substr(0,o.index),o[1]?s+=L(e,o[1],n,i,r):o[3]?(a=R(e,o[4],n,i,r),parseInt(a.replace(/\D/g,""),10)&&(s+=a)):s+=o[7]||"'",t=t.substr(o.index+o[0].length);return s+t}function L(e,t,n,i,r){for(var o,s=t.length,l="";s>0;)(o=I(e,t.substr(0,s),n,i,r))!==a?(l+=o,s=(t=t.substr(s)).length):s--;return l+t}function I(e,t,n,i,o){var a=O.formatters[t];if(W(a))return R(e,a,n,i,o);if("function"==typeof a)return a(e,o||!1,i);switch(t){case"fff":return K(n(f),3);case"s":return n(d);case"ss":return K(n(d));case"m":return n(p);case"mm":return K(n(p));case"h":return n(c)%12||12;case"hh":return K(n(c)%12||12);case"H":return n(c);case"HH":return K(n(c));case"d":return n(u);case"dd":return K(n(u));case"ddd":return i("dayNamesShort")[n(h)]||"";case"dddd":return i("dayNames")[n(h)]||"";case"M":return n(l)+1;case"MM":return K(n(l)+1);case"MMM":return i("monthNamesShort")[n(l)]||"";case"MMMM":return i("monthNames")[n(l)]||"";case"yy":return(n(s)+"").substring(2);case"yyyy":return n(s);case"t":return N(n,i).substr(0,1).toLowerCase();case"tt":return N(n,i).toLowerCase();case"T":return N(n,i).substr(0,1);case"TT":return N(n,i);case"z":case"zz":case"zzz":return o?"Z":function(e,t){var n=e.getTimezoneOffset(),i=n<0?"+":"-",o=r.floor(r.abs(n)/60),a=r.abs(n)%60,s=o;"zz"==t?s=K(o):"zzz"==t&&(s=K(o)+":"+K(a));return i+s}(e,t);case"w":return S(n);case"ww":return K(S(n));case"S":var v=n(u);return v>10&&v<20?"th":["st","nd","rd"][v%10-1]||"th"}}function N(e,t){return e(c)<12?t("amDesignator"):t("pmDesignator")}function $(e){return!isNaN(e[0].getTime())}function F(e,t,n){return e["get"+(t?"UTC":"")+g[n]]()}function U(e,t,n,i){e["set"+(t?"UTC":"")+g[n]].apply(e,i)}function z(e){return new n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function D(e,t){return 32-new n(_(e,t,32)).getUTCDate()}function H(e){return function(){return e.apply(a,[this].concat(V(arguments)))}}function B(e){var t=V(arguments,1);return function(){return e.apply(a,t.concat(V(arguments)))}}function V(e,t,n){return o.prototype.slice.call(e,t||0,n===a?e.length:n)}function G(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function W(e){return"string"==typeof e}function q(e){return"boolean"==typeof e}function K(e,t){for(t=t||2,e+="";e.length<t;)e="0"+e;return e}k.length=1,k.splice=o.prototype.splice,k.getUTCMode=H(P),k.setUTCMode=H(E),k.getTimezoneOffset=function(){return P(this)?0:this[0].getTimezoneOffset()},G(g,function(e,t){k["get"+e]=function(){return F(this[0],P(this),t)},8!=t&&(k["getUTC"+e]=function(){return F(this[0],!0,t)}),t!=h&&(k["set"+e]=function(e){return T(this,t,e,arguments,P(this)),this},8!=t&&(k["setUTC"+e]=function(e){return T(this,t,e,arguments,!0),this},k["add"+(y[t]||e)]=function(e,n){return function e(t,n,i,o){i=Number(i);var a=r.floor(i);t["set"+g[n]](t["get"+g[n]]()+a,o||!1);a!=i&&n<f&&e(t,n+1,(i-a)*m[n],o)}(this,t,e,n),this},k["diff"+(y[t]||e)]=function(e){return x(this,e,t)}))}),k.getWeek=function(){return S(B(F,this,!1))},k.getUTCWeek=function(){return S(B(F,this,!0))},k.setWeek=function(e,t){return M(this,e,t,!1),this},k.setUTCWeek=function(e,t){return M(this,e,t,!0),this},k.addWeeks=function(e){return this.addDays(7*Number(e))},k.diffWeeks=function(e){return x(this,e,u)/7},O.parsers=[function(e,t,i){var r=e.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/);if(r){var o=new n(_(r[1],r[3]?r[3]-1:0,r[5]||1,r[7]||0,r[8]||0,r[10]||0,r[12]?1e3*Number("0."+r[12]):0));return r[13]?r[14]&&o.setUTCMinutes(o.getUTCMinutes()+("-"==r[15]?1:-1)*(60*Number(r[16])+(r[18]?Number(r[18]):0))):t||(o=z(o)),i.setTime(o.getTime())}}],O.parse=function(e){return+O(""+e)},k.toString=function(e,t,n){return e!==a&&$(this)?A(this,e,t,n,P(this)):this[0].toString()},k.toUTCString=k.toGMTString=function(e,t,n){return e!==a&&$(this)?A(this,e,t,n,!0):this[0].toUTCString()},k.toISOString=function(){return this.toUTCString("yyyy-MM-dd'T'HH:mm:ss(.fff)zzz")},O.defaultLocale="",O.locales={"":{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],amDesignator:"AM",pmDesignator:"PM"}},O.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:"yyyy-MM-dd'T'HH:mm:ss(.fff)zzz"},G(["getTime","valueOf","toDateString","toTimeString","toLocaleString","toLocaleDateString","toLocaleTimeString","toJSON"],function(e){k[e]=function(){return this[0][e]()}}),k.setTime=function(e){return this[0].setTime(e),this},k.valid=H($),k.clone=function(){return new O(this)},k.clearTime=function(){return this.setHours(0,0,0,0)},k.toDate=function(){return new n(this[0].getTime())},O.now=function(){return(new n).getTime()},O.today=function(){return(new O).clearTime()},O.UTC=_,O.getDaysInMonth=D,void 0!==e&&e.exports&&(e.exports=O),(i=function(){return O}.apply(t,[]))===a||(e.exports=i)}(Date,Math,Array)},sNMB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("SXII"),o=s(n("fcnF")),a=s(n("rdLu"));function s(e){return e&&e.__esModule?e:{default:e}}var l,u=(l=void 0,(u=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.initialize=o.initialize.bind(o),o.contains=o.contains.bind(o),o.resolveOverlaps=o.resolveOverlaps.bind(o),o.revertIfInvalid=o.revertIfInvalid.bind(o),o.outsideContainer=o.outsideContainer.bind(o),o.isOtherRegion=o.isOtherRegion.bind(o),o.containsRelativeXY=o.containsRelativeXY.bind(o),o.relativeWidth=o.relativeWidth.bind(o),o.relativeHeight=o.relativeHeight.bind(o),o.respondWithCoord=o.respondWithCoord.bind(o),o.center=o.center.bind(o),o.size=o.size.bind(o),o.bounds=o.bounds.bind(o),o.overlaps=o.overlaps.bind(o),o.updateValue=o.updateValue.bind(o),o.setName=o.setName.bind(o),o.getName=o.getName.bind(o),o.toJSON=o.toJSON.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(){var e=this;return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.on("change:value",function(){return delete e.regionMatches})}},{key:"validate",value:function(e){if(e.points&&!l.test(e.points))return"Invalid points"}},{key:"contains",value:function(e){var n=new t({value:e+"|0.1%x0.1%"});return this.overlaps(n)}},{key:"resolveOverlaps",value:function(e){var t=this;return e.each(function(e){if(t.overlaps(e))return t.separateFrom(e),t.trigger("reposition")})}},{key:"revertIfInvalid",value:function(e){var t=this,n=!1;return this.collection.collidableRegions(this).each(function(i){(t.overlaps(i)||t.outsideContainer())&&(t.set({value:e}),t.trigger("reposition"),n=!0)}),n}},{key:"outsideContainer",value:function(){var e=this.bounds();return e.left<0||e.right>100||e.top<0||e.bottom>100}},{key:"isOtherRegion",value:function(){return this.get("value")===t.CLICKABLE_REGION_OTHER}},{key:"containsRelativeXY",value:function(e,t,n,i){if(this.isOtherRegion())return!1;var r=e*n,o=t*i,a=this.relativeX()/100*n,s=this.relativeY()/100*i,l=this.relativeWidth()/100*n,u=this.relativeHeight()/100*i;return r>a&&r<a+l&&o>s&&o<s+u}},{key:"relativeWidth",value:function(){if(null==this.regionMatches&&(this.regionMatches=c(this.get("value"),function(e){return e.match(r.CLICKABLE_REGION_REGEX)})),(null!=this.regionMatches?this.regionMatches.length:void 0)>4)return parseFloat(this.regionMatches[4])}},{key:"relativeHeight",value:function(){if(null==this.regionMatches&&(this.regionMatches=c(this.get("value"),function(e){return e.match(r.CLICKABLE_REGION_REGEX)})),(null!=this.regionMatches?this.regionMatches.length:void 0)>5)return parseFloat(this.regionMatches[5])}},{key:"respondWithCoord",value:function(e,t){return this.respond("region: "+100*e+"%,"+100*t+"%")}},{key:"center",value:function(){return{x:this.relativeX()+this.relativeWidth()/2,y:this.relativeY()+this.relativeHeight()/2}}},{key:"size",value:function(){return{width:this.relativeWidth(),height:this.relativeHeight()}}},{key:"bounds",value:function(){return{left:this.relativeX(),right:this.relativeX()+this.relativeWidth(),top:this.relativeY(),bottom:this.relativeY()+this.relativeHeight()}}},{key:"overlaps",value:function(e){if(e.isOtherRegion()||this.isOtherRegion())return!1;var t=this.bounds(),n=t.left,i=t.right,r=t.top,o=t.bottom,a=e.bounds(),s=a.left,l=a.right,u=a.top,c=a.bottom;return!(s>i||l<n||u>o||c<r)}},{key:"separateFrom",value:function(e){var t=1.05,n=e.size(),i=n.width,r=n.height,o=e.center(),a=o.x,s=o.y,l=this.size(),u=l.width,c=l.height,p=this.center(),d=p.x,f=p.y,h=this.bounds(),v=h.left,g=h.top,y=(u+i)/2-Math.abs(d-a),m=(c+r)/2-Math.abs(f-s);return m>y?(d<=a&&(t=-t),v+=t*y,this.updateValue({x:v})):(f<=s&&(t=-t),g+=t*m,this.updateValue({y:g}))}},{key:"updateValue",value:function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o=e.name,a=this.bounds(),s=this.size();return null==t&&(t=a.left),null==n&&(n=a.top),null==i&&(i=s.width),null==r&&(r=s.height),null==o&&(o=this.getName()),this.set({value:"region: "+t+"%,"+n+"%|"+i+"%x"+r+"%#"+o})}},{key:"setName",value:function(e){var t=this.get("value");return this.set({value:t.replace(/#.*$/,"")+"#"+e}),this.trigger("rename")}},{key:"getName",value:function(){if(null==this.regionMatches&&(this.regionMatches=c(this.get("value"),function(e){return e.match(r.CLICKABLE_REGION_REGEX)})),(null!=this.regionMatches?this.regionMatches.length:void 0)>5)return this.regionMatches[6]}},{key:"toJSON",value:function(){return a.default.pick(this.attributes,"_destroy","id","value","correct_response","points")}}],[{key:"initClass",value:function(){this.CLICKABLE_REGION_OTHER="region:other",this.CLICKABLE_REGION_DEFAULT_WIDTH=65,this.CLICKABLE_REGION_DEFAULT_HEIGHT=65,this.CLICKABLE_REGION_MIN_WIDTH=20,this.CLICKABLE_REGION_MIN_HEIGHT=20,l=/^-?\d{0,3}(\.\d{1,2})?$/,this.CLICKABLE_REGION_REGEX=r.CLICKABLE_REGION_REGEX}}]),t}()).initClass(),u);function c(e,t){return void 0!==e&&null!==e?t(e):void 0}t.default=u},sOR5:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},sRg9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n("9nM1")),o=a(n("32HH"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.user=t.user,this.hasChanged=this.hasChanged.bind(this),this.fetchState=this.fetchState.bind(this),this.putState=this.putState.bind(this),this.start=this.start.bind(this)}return i(e,[{key:"hasChanged",value:function(){var e=this.states.currentState,t=this.states.priorState;return e.index!==t.index||e.status!==t.status}},{key:"fetchState",value:function(e){return this.states.priorState=this.states.currentState,this.states.currentState={presenting:e.isPresenting(),index:e.currentSlide(),slides_count:e.totalSlides(),title:e.title(),notes:e.notes(),poll_url:e.pollUrl()},this.states.currentState}},{key:"putState",value:function(){if(this.user)return o.default.ajax({url:r.default.get("api_url").segment("api/presentations").segment(this.user.get("id").toString()).segment("sync").toString(),contentType:"application/json",processData:!1,data:JSON.stringify({presentation:this.states.currentState}),type:"PUT"})}},{key:"start",value:function(e){var t=this;this.presentation=e,setInterval(function(){if(t.fetchState(t.presentation),t.hasChanged())return t.putState()},500)}}],[{key:"initClass",value:function(){this.prototype.states={currentState:{},priorState:{}}}}]),e}();s.initClass(),t.default=s},sVCF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n("+B0W")),o=u(n("9nM1")),a=u(n("j4Z6")),s=u(n("rdLu")),l=u(n("7t+N"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return i.authenticate=i.authenticate.bind(i),i.destroy=i.destroy.bind(i),i.configure=i.configure.bind(i),i.start=i.start.bind(i),i.started=i.started.bind(i),i.stopped=i.stopped.bind(i),i.loadProfile=i.loadProfile.bind(i),i.authenticateWithToken=i.authenticateWithToken.bind(i),i.authToken=i.authToken.bind(i),i.authEvents=i.authEvents.bind(i),i.user=e,i.participant=n,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,null,[{key:"initClass",value:function(){this.prototype.url="/api/sessions"}}]),i(t,[{key:"authenticate",value:function(e,t){var n={login:e,password:t};return this.authEvents(this.sync("create",this,{url:this.url,attrs:n}))}},{key:"destroy",value:function(){var e=this,t=void 0;t=o.default.get("token_auth_enabled")?this.authToken().logout():l.default.when();var n=this.stopped();return this.sync("delete",this,null).done(function(){return e.user.clear(),e.participant.clear(),e._started=null,e.trigger("session:stopped"),n.resolve()}),l.default.when(n,t)}},{key:"configure",value:function(e,t){return this.user.set(e,{parse:!0}),this.participant.set(t,{parse:!0}),this._stopped=null,this.trigger("session:started")}},{key:"startWithProfile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.started(),r=o.default.get("token_auth_enabled")||null!=this.authToken().token;return!n.skipAuthToken&&s.default.isEmpty(e.user)&&r?this.authenticateWithToken().fail(function(){return t.configure(e.user,e.participant)}).always(function(){return i.resolve()}):(this.configure(e.user,e.participant),i.resolve()),i}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.started();return this.loadProfile().done(function(i){e.startWithProfile(i,t).then(n.resolve).fail(n.reject)}).fail(n.reject),n}},{key:"started",value:function(){return this._started||(this._started=l.default.Deferred())}},{key:"stopped",value:function(){return this._stopped||(this._stopped=l.default.Deferred())}},{key:"loadProfile",value:function(){var e=this,t=0;return l.default.Deferred(function n(i){return e.sync("read",e,{url:"/api/profile"}).fail(function(e){return!e.status&&t<3?(t+=1,setTimeout(function(){return n(i)},2e3*t)):i.reject.apply(this,arguments)}).then(function(){return i.resolve.apply(this,arguments)})})}},{key:"authenticateWithToken",value:function(){return this.authEvents(this.authToken().authenticate())}},{key:"authToken",value:function(){return this._authToken||(this._authToken=new a.default)}},{key:"authEvents",value:function(e){var t=this,n=l.default.Deferred();return e.fail(function(e){return t.trigger("authentication:fail",e),n.reject(e)}).done(function(){return t.trigger("authentication:success"),t.loadProfile().done(function(e){return t.configure(e.user,e.participant),n.resolve(e)})}),n.promise()}}]),t}();c.initClass(),t.default=c},sdTK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("+B0W")),o=s(n("oA9N")),a=s(n("fcnF"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.parse=o.parse.bind(o),o.responseCount=o.responseCount.bind(o),o.maxResponseCount=o.maxResponseCount.bind(o),o.percentOfMaxResponseCount=o.percentOfMaxResponseCount.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.set({segments:new o.default(this.get("options")),mcpOption:new a.default(this.get("this_option"))}),this.get("segments").segmentingOption=this}},{key:"parse",value:function(e,t){return null==e&&(e={}),this.get("segments")||this.set({segments:new o.default}),e.options&&this.get("segments").reset(e.options,t),this.get("mcpOption")||this.set({mcpOption:new a.default}),e.this_option&&this.get("mcpOption").set(e.this_option,t),e}},{key:"responseCount",value:function(e){null==e&&(e={}),null==e.includeNonResponses&&(e.includeNonResponses=!1);var t=this.get("total_results");return e.includeNonResponses||(t-=this.get("no_responses")),t}},{key:"maxResponseCount",value:function(e){return null==e&&(e={}),this.collection.maxResponseCount(e)}},{key:"percentOfMaxResponseCount",value:function(e){return null==e&&(e={}),this.responseCount(e)/this.maxResponseCount(e)}}]),t}();t.default=l},seBF:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push('<svg xmlns="http://www.w3.org/2000/svg"  x="0px" y="0px" width="512px" height="512px" viewBox="0 0 512 512">\n<path fill=#4f4f4f d="M129.2,62.6L129.2,62.6c0-9.4,7.6-17,17-17h228.4c9.4,0,17,7.6,17,17v0c0,9.4-7.6,17-17,17H146.2 C136.8,79.6,129.2,72,129.2,62.6z"/>\n<path fill=#4f4f4f d="M406.1,237.3L274.2,107.4c-3.1-4.4-8.1-7.2-13.9-7.2h0c-3.1,0-6,0.8-8.5,2.3c-1.7,0.8-3.4,1.9-4.8,3.4L112.6,237.3 c-6.6,6.6-6.6,17.4,0,24v0c6.6,6.6,17.4,6.6,24,0l106.7-103.9V442c0,9.4,7.6,17,17,17h0c9.4,0,17-7.6,17-17V158.4l104.7,103 c6.6,6.6,17.4,6.6,24,0l0,0C412.8,254.7,412.8,244,406.1,237.3z"/>\n</svg>'),e.join("\n")}.call(e)}}.call(this)},sj5z:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n("0CPz")),s=u(n("Fr92")),l=u(n("x4Pe"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.getSelected();e.$select.find("option").removeAttr("selected"),e.$select.find("option[value="+t.id+"]").prop("selected",!0),e.$select.find("option[value="+t.id+"]").attr("selected","selected"),f(e,!1),e.trigger("select",t)},p=function(e){var t=1===e.collection.length&&e.autoDisable?e.collection.first():e.collection.get(e.defaultId);return t?e.select(t.id,{silent:!0}):e.$placeholderOption.prop("selected",!0)},d=function(t){var n=1===t.collection.length&&t.autoDisable;t.$select.children().remove(),t.$select.append(function(t){var n=t.$placeholderOption=e(t.optionTpl());n.text(t.placeholderText),n.prop("disabled",!0);var i=t.collection.map(function(n){var i=e(t.optionTpl());return i.text(n.get(t.labelKey)),i.val(n.id),i});return i.splice(0,0,n),i}(t)),t.$select.prop("disabled",n),p(t)},f=function(e,t){e.$_toggleModifier(null,e.className,"error",t)},h=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),o(n,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.extend(this,(0,l.default)(this)),r.defaults(t,{collection:new i.Collection,labelKey:"value",defaultId:null,placeholderText:"Choose an option",autoDisable:!0}),this.collection=t.collection,this.labelKey=t.labelKey,this.defaultId=t.defaultId,this.placeholderText=t.placeholderText,this.autoDisable=t.autoDisable,this.listenTo(this.collection,"error",function(){return f(e,!0)})}},{key:"render",value:function(){return this.$el.html(e(this.selectTpl())),this.$select=this.$_element("select"),d(this),this.listenTo(this.collection,"update reset change",r.partial(d,this)),this}},{key:"getSelected",value:function(){return this.collection.get(this.$select.val())}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.collection.get(e);return this.$select.find("[value='"+e+"']").prop("selected",!0),!!n&&(t.silent||c(this),n)}},{key:"reset",value:function(){p(this)}},{key:"className",get:function(){return"component-dropdown"}},{key:"selectTpl",get:function(){return a.default}},{key:"optionTpl",get:function(){return s.default}},{key:"events",get:function(){return{"change select":function(){c(this)}}}}]),n}();t.default=h}).call(t,n("7t+N"),n("32HH"),n("rdLu"))},t1IT:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-editor-competition__activities'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},tIMv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("32HH")),r=a(n("rdLu")),o=n("xok8");function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return{initSubModel:function(t){var n=(0,o.camelize)(t),a=e[n]=new i.default.Model(e.get(t));e.listenTo(a,"change",function(n){r.default.each(n.changedAttributes(),function(n,i){return e.trigger("change:"+t+":"+i,n)});var i=[];i[t]=n.changedAttributes(),e.set(i,{silent:!0})}),e.on("change:"+t,function(){return a.set(e.get(t))})}}}},tKiV:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push(""+function(e){switch(e){case null:case void 0:return"";case!0:case!1:return""+e;default:return e}}(this.LogoTpl())),e.push("<p class='login--prompt' js-login-prompt></p>\n<div class='login--tabs'>\n  <button class='login--tab' js-tab-login>\n    Log in\n  </button>\n  <button class='login--tab' js-tab-signup>\n    Sign up\n  </button>\n</div>\n<div class='login--tab-container'>\n  <form method='post' novalidate action='javascript:void(0)'>\n    <div class='form-field-container'>\n      <div class='login__label'>\n        <label class='username--prompt' for='login-username'>Email or username</label>\n        <span class='hidden icon login--icon' js-icon data-glyph='mail'></span>\n      </div>\n      <input class='login--input username' id='login-username' name='username' type='text' m-no-icon autocapitalize='off' required minlength='3'>\n    </div>\n    <div class='hidden login--sso' role='alert'></div>\n    <div class='field--password form-field-container'>\n      <label for='login-password'>Password</label>\n      <span class='validation-message' id='js-password-validation-message'></span>\n      <span class='hidden icon login--icon' js-icon data-glyph='key'></span>\n      <input class='login--input password' id='login-password' name='password' m-no-icon type='password' aria-describedby='js-password-validation-message' required minlength='7'>\n    </div>\n    <div class='account-creation form-field-container hidden'>\n      <label for='login-first-name'>First name</label>\n      <span class='validation-message' id='js-first-name-validation-message'></span>\n      <span class='hidden icon login--icon' js-icon data-glyph='user'></span>\n      <input class='first-name login--input' id='login-first-name' name='first-name' m-no-icon type='text' required aria-describedby='js-first-name-validation-message'>\n    </div>\n    <div class='account-creation form-field-container hidden'>\n      <label for='login-last-name'>Last name</label>\n      <span class='validation-message' id='js-last-name-validation-message'></span>\n      <span class='hidden icon login--icon' js-icon data-glyph='user'></span>\n      <input class='last-name login--input' id='login-last-name' name='last-name' m-no-icon type='text' required aria-describedby='js-last-name-validation-message'>\n    </div>\n    <div class='account-creation hidden login__opt-ins'></div>\n    <div class='hidden login--errors'></div>\n    <div class='form-actions-container'>\n      <div class='login--buttons'>\n        <button class='create-account login--button' type='button' disabled='disabled'>\n          Create account\n        </button>\n        <button class='create-session login--button' m-float-right type='submit'>\n          Log in\n        </button>\n      </div>\n    </div>\n    <div class='account-creation hidden login--legal'>\n      <p>\n        I understand that I can withdraw my consent at any time and the withdrawal\n        will not affect the lawfulness of the consent before its withdrawal, as\n        described in the\n        <a href='https://www.polleverywhere.com/privacy-policy' target='_blank' js-see-privacy-policy data-pe-link='privacy'>\n          Poll Everywhere Privacy Policy\n        </a>\n        <span>.</span>\n      </p>\n    </div>\n    <div class='account-login login--reset'>\n      <p class='hidden' js-forgot-password>\n        <a class='reset-password' href='javascript:void(0)'>Reset your password</a>\n      </p>\n    </div>\n    <div class='account-login hidden login--legal'>\n      <a href='https://www.polleverywhere.com/terms' target='_blank' js-see-terms data-pe-link='terms'>\n        Terms\n      </a>\n      <a href='https://www.polleverywhere.com/privacy-policy' target='_blank' js-see-privacy-policy data-pe-link='privacy'>\n        Privacy\n      </a>\n    </div>\n  </form>\n</div>"),e.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"").replace(/[\s\n]*\u0091/gm,"").replace(/\u0092[\s\n]*/gm,"")}.call(e)}}.call(this)},tRaw:function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=["add","remove","destroy"],o=["add","remove"],a=function(t,n,i){if(!e.contains(o,i)&&n===t.getPoll()){for(var r=arguments.length,a=Array(r>3?r-3:0),s=3;s<r;s++)a[s-3]=arguments[s];return t.trigger.apply(t,[i].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array.from(a))))}},s=function(t){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,n.Model),i(o,[{key:"initialize",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=void 0;for(var s in this.polls=new n.Collection,this.polls.activity=i.activity,this.on("all",function(n,i){e.contains(r,n)&&i===t&&t.polls.invoke("trigger",n)}),this.activityTypes){var l=this.activityTypes[s];(o=new PollEv.Model[l.model](l.defaults)).set({activity_type:s}),this.polls.add(o),this.listenTo(o,"all",e.partial(a,this,o))}if(i.poll)if(this.setTitle(i.poll.get("title")),"wordcloud"===(i.poll.get("flash_options")&&i.poll.get("flash_options").fancyThemeEffect))this.setType("word-cloud"),this.getPoll().set(i.poll.attributes);else for(var u in this.activityTypes){var c=this.activityTypes[u];"word-cloud"!==u&&c.model===PollEv.Util.classify(i.poll.type())&&(this.setType(u),this.getPoll().set(i.poll.attributes),"rank-order"!==u&&"multiple-choice"!==u||(this.getPoll().mcpOptions=i.poll.mcpOptions))}this.on("change:title",function(e,n){return t.setTitle(n)})}},{key:"setType",value:function(e){this.polls.each(function(t){return t.set({active_activity:t.get("activity_type")===e})}),this.set({type:e})}},{key:"getPoll",value:function(){return this.polls.findWhere({activity_type:this.get("type")})}},{key:"toJSON",value:function(){var e={},t=this.getPoll();return t&&(Object.assign(e,t.toJSON({root:!1})),!e.hasOwnProperty("flash_options")&&(e.flash_options={}),Object.assign(e.flash_options,t.flashOptions().toJSON().flash_options)),e}},{key:"setTitle",value:function(e){return this.polls.each(function(t){return t.set({title:e})})}},{key:"get",value:function(e){return"type"!==e?this.getPoll()&&this.getPoll().get(e):function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"get",this).call(this,e)}},{key:"save",value:function(){try{return this.getPoll().save()}catch(e){throw Error("Activity Transformer has no active type to save")}}},{key:"flashOptions",value:function(){var e=this.getPoll();return e?e.flashOptions():new n.Model}},{key:"defaults",get:function(){return{type:null}}},{key:"activityTypes",get:function(){return{"multiple-choice":{model:"MultipleChoicePoll"},"open-ended-text":{model:"FreeTextPoll"},"word-cloud":{model:"FreeTextPoll",defaults:{flash_options:{fancyThemeEffect:"wordcloud"}}},"up-down-vote":{model:"Discourse"},"rank-order":{model:"RankingPoll"},"clickable-image":{model:"ClickableImage"}}}}]),o}();t.default=s}).call(t,n("rdLu"),n("32HH"))},tckz:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg id='Layer_1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='151.3px' height='104px' viewBox='0 0 151.3 104' xml:space='preserve'>\n  <title>vote-rp</title>\n  <g>\n    <path style='fill:#60E2DC;' d='M109.6,38H41.7c-2.5,0-4.4-2-4.4-4.4v-6.7c0-2.5,2-4.4,4.4-4.4h67.8c2.5,0,4.4,2,4.4,4.4v6.7 C114,36,112,38,109.6,38z M41.7,25.5c-0.8,0-1.5,0.7-1.5,1.5v6.7c0,0.8,0.7,1.5,1.5,1.5h67.8c0.8,0,1.5-0.7,1.5-1.5V27 c0-0.8-0.7-1.5-1.5-1.5H41.7z'></path>\n    <path style='fill:#60E2DC;' d='M109.6,59.8H41.7c-2.5,0-4.4-2-4.4-4.4v-6.7c0-2.5,2-4.4,4.4-4.4h67.8c2.5,0,4.4,2,4.4,4.4v6.7 C114,57.8,112,59.8,109.6,59.8z M41.7,47.2c-0.8,0-1.5,0.7-1.5,1.5v6.7c0,0.8,0.7,1.5,1.5,1.5h67.8c0.8,0,1.5-0.7,1.5-1.5v-6.7 c0-0.8-0.7-1.5-1.5-1.5H41.7z'></path>\n    <path style='fill:#60E2DC;' d='M109.6,81.5H41.7c-2.5,0-4.4-2-4.4-4.4v-6.7c0-2.5,2-4.4,4.4-4.4h67.8c2.5,0,4.4,2,4.4,4.4v6.7 C114,79.5,112,81.5,109.6,81.5z M41.7,69c-0.8,0-1.5,0.7-1.5,1.5v6.7c0,0.8,0.7,1.5,1.5,1.5h67.8c0.8,0,1.5-0.7,1.5-1.5v-6.7 c0-0.8-0.7-1.5-1.5-1.5H41.7z'></path>\n  </g>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},tm8m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n("sdTK")),o=l(n("73n1")),a=l(n("Hf0w")),s=l(n("rdLu"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.mcpOptions=o.mcpOptions.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"mcpOptions",value:function(){var e=new o.default(this.pluck("mcpOption"));return e.poll=this.poll,e}},{key:"maxResponseCount",value:function(e){var t;return null==e&&(e={}),null==e.includeNonResponses&&(e.includeNonResponses=!1),(t=this.invoke("responseCount",e)).length?s.default.max(t):void 0}}],[{key:"initClass",value:function(){this.prototype.model=r.default}}]),t}();u.initClass(),t.default=u},twVR:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='my-polls--poll-selector scrollable' js-embed-poll-selector></div>\n<div class='hidden my-polls--splash-overlay' s-hidden></div>\n<div class='my-polls--info-overlay' s-hidden js-toggle-overlay>\n  <h1 class='my-polls--search-message'>No polls found from search results</h1>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},u0WB:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg width='150' height='104' viewBox='0 0 150 104' xmlns='http://www.w3.org/2000/svg'>\n  <title>vote-rp</title>\n  <g fill='none' fill-rule='evenodd'>\n    <path d='M130 33.9H41.6c-3.2 0-5.8-2.6-5.8-5.8v-8.7c0-3.2 2.6-5.8 5.8-5.8H130c3.2 0 5.8 2.6 5.8 5.8v8.7c0 3.2-2.6 5.8-5.8 5.8zM41.6 17.6c-1.1 0-1.9.9-1.9 1.9v8.7c0 1.1.9 1.9 1.9 1.9H130c1.1 0 1.9-.9 1.9-1.9v-8.7c0-1.1-.9-1.9-1.9-1.9H41.6zM130 62.3H41.6c-3.2 0-5.8-2.6-5.8-5.8v-8.7c0-3.2 2.6-5.8 5.8-5.8H130c3.2 0 5.8 2.6 5.8 5.8v8.7c0 3.2-2.6 5.8-5.8 5.8zM41.6 45.9c-1.1 0-1.9.9-1.9 1.9v8.7c0 1.1.9 1.9 1.9 1.9H130c1.1 0 1.9-.9 1.9-1.9v-8.7c0-1.1-.9-1.9-1.9-1.9H41.6zM130 90.6H41.6c-3.2 0-5.8-2.6-5.8-5.8v-8.7c0-3.2 2.6-5.8 5.8-5.8H130c3.2 0 5.8 2.6 5.8 5.8v8.7c0 3.2-2.6 5.8-5.8 5.8zM41.6 74.3c-1.1 0-1.9.9-1.9 1.9v8.7c0 1.1.9 1.9 1.9 1.9H130c1.1 0 1.9-.9 1.9-1.9v-8.7c0-1.1-.9-1.9-1.9-1.9H41.6z' fill='#60E2DC'></path>\n    <path d='M16.6 31.1h3.5V19.9h-2.8v-1.3c1.4-.2 2.4-.6 3.2-1.1H22v13.6h3.2v1.6h-8.6v-1.6zM15.6 59.4c4.6-4.6 7.2-7.3 7.2-9.8 0-1.7-1-3-2.9-3-1.3 0-2.4.8-3.3 1.8l-1.1-1.1c1.3-1.4 2.6-2.3 4.6-2.3 2.8 0 4.6 1.8 4.6 4.5 0 2.9-2.6 5.7-6.2 9.5.8-.1 1.8-.1 2.6-.1h4.4v1.7h-9.8v-1.2h-.1zM15.3 87.5l1-1.3c.9 1 2.1 1.8 3.9 1.8 1.8 0 3.2-1.1 3.2-2.8 0-1.8-1.2-3-4.9-3v-1.5c3.3 0 4.3-1.2 4.3-2.8 0-1.5-1-2.4-2.6-2.4-1.3 0-2.3.6-3.3 1.6l-1.1-1.2c1.2-1.1 2.6-1.9 4.4-1.9 2.7 0 4.6 1.4 4.6 3.9 0 1.8-1.1 3-2.8 3.6v.1c1.8.4 3.3 1.8 3.3 3.9 0 2.7-2.2 4.4-5 4.4-2.4-.2-4-1.2-5-2.4z' fill='#4F4F4F'></path>\n  </g>\n</svg>"),e.join("\n")}.call(e)}}.call(this)},uD56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("JXib")),r=n("SXII"),o=a(n("rdLu"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return void 0!==e&&null!==e?t(e):void 0}t.default=function(e){return{isImage:function(){var t=e.attributes.value;return t&&r.IMAGE_REGEX.test(t)},isImageProxyImage:function(){return e.get("value").match(r.UPLOADED_IMAGE_REGEX)},imageUrl:function(t){return o.default.isString(t)&&(t={}),e.isImage()?(t||(t={}),t.width&&(t.w=t.width,delete t.width),t.height&&(t.h=t.height,delete t.height),o.default.defaults(t,{w:300,h:150}),(0,r.proxiedImageUrl)(e.get("value"),t).toString()):null},isLatex:function(){var t=e.attributes.value;return t&&i.default.isLatex(t)},latexEquation:function(){return e.isLatex()?i.default.getText(e.get("value")):""},isText:function(){return!(e.isImage()||e.isLatex())},isClickableRegion:function(){return s(s(e.get("value"),function(e){return e.match(r.CLICKABLE_REGION_REGEX)}),function(e){return e.length})>3},relativeX:function(){if(null==e.regionMatches&&(e.regionMatches=s(e.get("value"),function(e){return e.match(r.CLICKABLE_REGION_REGEX)})),(null!=e.regionMatches?e.regionMatches.length:void 0)>1)return parseFloat(e.regionMatches[1])},relativeY:function(){if(null==e.regionMatches&&(e.regionMatches=s(e.get("value"),function(e){return e.match(r.CLICKABLE_REGION_REGEX)})),(null!=e.regionMatches?e.regionMatches.length:void 0)>2)return parseFloat(e.regionMatches[2])}}}},uEdx:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>\n  <filter id='grayscale'>\n    <feColorMatrix type='saturate' values='0'></feColorMatrix>\n  </filter>\n  <image class='svg-image bw' filter='url(#grayscale)' width='100%' height='100%' xlink:href=''></image>\n  <image class='svg-image original' width='100%' height='100%' xlink:href=''></image>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},uYzY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n("SXII"),a=u(n("Hf0w")),s=u(n("82hR")),l=u(n("rdLu"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){for(var n=t,i=0;i<=2;i++)if(n){var r=n.get("next_group_id");n=e.get(r)}return n},p=function(e){var t=[],n=[];if(e.each(function(e){if(e.isRealGroup())return n.push(e.get("next_group_id"))}),n.length>0)for(var i=void 0,r=void 0,o=i=r=-1===l.default.indexOf(n,null)?e.find(function(e){return e.id!==s.default.defaultId}):e.find(function(e){return e.id!==s.default.defaultId&&-1===l.default.indexOf(n,e.id)});o;){i=c(e,i);var a=o;t.push(a);var u=a.get("next_group_id");if(void 0===(o=e.get(u)))break;if(null===u)break;var p=u===r.id,d=(null!=i?i.id:void 0)===o.id;if(p||d)break}return t.splice.apply(t,[0,0].concat(function(e,t){return e.filter(function(e){return e.id!==s.default.defaultId&&void 0===l.default.find(t,function(t){return t.id===e.id})})}(e,t).reverse())),t.splice(0,0,e.ungrouped()),(t=l.default.compact(t)).forEach(function(e,t){return e.set({sequence:t},{silent:!0})}),t},d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.sort=o.sort.bind(o),o.checked=o.checked.bind(o),o.checkedPolls=o.checkedPolls.bind(o),o.clearChecked=o.clearChecked.bind(o),o.ungrouped=o.ungrouped.bind(o),o.search=o.search.bind(o),o.fetch=o.fetch.bind(o),o.fetchWithPolls=o.fetchWithPolls.bind(o),o.sortGroups=o.sortGroups.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"sort",value:function(){return"sequence"===this.comparator&&p(this),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sort",this).apply(this,arguments)}},{key:"comparator",value:function(e){return e.id}},{key:"checked",value:function(){return this.where({checked:!0})}},{key:"checkedPolls",value:function(){return this.reduce(function(e,t){return t.polls().each(function(t){if(t.get("checked"))return e.push(t)}),e},[])}},{key:"clearChecked",value:function(){return this.each(function(e){return e.set({checked:!1,indeterminate:!1}),e.polls().each(function(e){return e.set({checked:!1})})})}},{key:"ungrouped",value:function(){return this.get(s.default.defaultId)}},{key:"search",value:function(e){var t=(0,o.regexSearch)(e);return this.filter(function(e){return t.test(e.get("name"))})}},{key:"fetch",value:function(e){return null==e&&(e={}),null==e.data&&(e.data={}),l.default.defaults(e.data,{is_survey:!1}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)}},{key:"fetchWithPolls",value:function(){var e=this;return this.fetch({data:{include_polls:!0}}).then(function(){return e.invoke("markAsLoaded")})}},{key:"sortGroups",value:function(){return p(this)}}],[{key:"initClass",value:function(){this.prototype.model=s.default,this.prototype.url="/api/groups",this.prototype.states={}}}]),t}();d.initClass(),t.default=d},"ui+V":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("+B0W")),o=n("SXII"),a=s(n("uD56"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.toJSON=o.toJSON.bind(o),o.poll=o.poll.bind(o),o.isArchived=o.isArchived.bind(o),o.approve=o.approve.bind(o),o.reject=o.reject.bind(o),o.isApproved=o.isApproved.bind(o),o.isRejected=o.isRejected.bind(o),o.isUnmoderated=o.isUnmoderated.bind(o),o.cleanValue=o.cleanValue.bind(o),o.moderationState=o.moderationState.bind(o),o.shouldBeDisplayed=o.shouldBeDisplayed.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.include(a.default)}},{key:"parse",value:function(e){return(0,o.popRootKey)(e)}},{key:"toJSON",value:function(){return{result:this.attributes}}},{key:"poll",value:function(){return this.collection.poll}},{key:"isArchived",value:function(){return this.get("archive_id")||!1}},{key:"approve",value:function(){return this.save({approved:!0})}},{key:"reject",value:function(){return this.save({approved:!1})}},{key:"isApproved",value:function(){return!0===this.get("approved")}},{key:"isRejected",value:function(){return!1===this.get("approved")}},{key:"isUnmoderated",value:function(){return null===this.get("approved")}},{key:"isDeleted",value:function(){return!!this.get("deleted_at")}},{key:"cleanValue",value:function(){return(0,o.cleanString)(this.get("value"))}},{key:"moderationState",value:function(){switch(this.get("approved")){case!0:return"approved";case!1:return"rejected";default:return"pending"}}},{key:"shouldBeDisplayed",value:function(){return!this.isRejected()&&!this.isDeleted()&&(!this.poll().get("moderation_enabled")||!this.isUnmoderated())}}]),t}();t.default=l},ujcs:function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?r-1:0,d=n?-1:1,f=e[t+p];for(p+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+p],p+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+p],p+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=u}return(f?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,p=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,h=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*l-1)*Math.pow(2,r),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=h,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+f]=255&a,f+=h,a/=256,u-=8);e[n+f-h]|=128*v}},uqiE:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("FssR");var a,s=n("vWcp"),l=(a=s)&&a.__esModule?a:{default:a};var u=function(e,t){return e/t*100},c=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),o(n,[{key:"events",value:function(){return{pointerdown:"pointerDown","pointerdown .dragger":"sizerPointerDown","pointerdown .remove":"delete","click .points-open":"editPoints","click .points-close":"closePoints","pointerdown .points-edit":"stopPropagation","click .points-edit":"stopPropagation","click .region--rename":"renameRegion"}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$container=e.container,this.collection=this.model.collection,this.poll=this.collection.poll,this.weightedGradingEnabled=e.weightedGradingEnabled,this._bindEvents(),this.flashOptions=this.collection&&this.collection.poll&&this.collection.poll.flashOptions(),e.readOnly&&this.undelegateEvents(),this.lastValidPosition=this.model.get("value"),this.model.resolveOverlaps(this.collection.collidableRegions(this.model))}},{key:"_bindEvents",value:function(){var e=this;this.listenTo(this.model,"remove",this.remove.bind(this)),this.listenTo(this.model,"reposition",this.positionRegion.bind(this)),this.listenTo(this.model,"rename",this.renderName.bind(this)),this.listenTo(this.model,"change:points",this.updatePoints.bind(this)),this.poll&&(this.listenTo(this.poll,"weightedGrading:enabled",function(){return e.toggleWeightedGradingOptionVisibility(!0)}),this.listenTo(this.poll,"weightedGrading:disabled",function(){return e.toggleWeightedGradingOptionVisibility(!1)}))}},{key:"stopPropagation",value:function(e){e&&e.stopPropagation()}},{key:"pointerDown",value:function(e){var t=this;return!i(e.target).hasClass("region--rename")&&(this.lastValidPosition=this.model.get("value"),this.downEvent=e,e.offsetX||(e.offsetX=e.pageX-i(e.target).offset().left),e.offsetY||(e.offsetY=e.pageY-i(e.target).offset().top),i(document).on("pointermove",function(e){return t.drag(e)}),i(document).one("pointerup",function(e){return t.pointerUp(e)}),this.$el.one("click",function(e){return!1}),this.$el.removeClass("error"),this.$el.addClass("dragging"),!1)}},{key:"delete",value:function(e){return null==e&&(e={}),"function"==typeof e.stopPropagation&&e.stopPropagation(),this.model.isNew()?null!=this.model.collection&&this.model.collection.remove(this.model):(this.model.set({_destroy:1}),this.remove()),!1}},{key:"toggleWeightedGradingOptionVisibility",value:function(e){return e?(this.weightedGradingEnabled=!0,this.$el.addClass("weighted-grading-enabled"),null==this.model.get("points")?this.model.set("points",1):void 0):(this.weightedGradingEnabled=!1,this.$el.removeClass("weighted-grading-enabled"),this.model.set("points",null))}},{key:"editPoints",value:function(){var e=this;return this.$(".points-edit").on("keyup",function(t){return function(t){if(13===t.keyCode||27===t.keyCode)return e.closePoints()}(t)}),this.$(".points-edit").on("focusout",function(t){return e.closePoints(t)}),this.$(".points-edit").show().focus().select(),this.$(".points-open").toggleVisibility(!1),this.$(".points-close").toggleVisibility(!0),!1}},{key:"closePoints",value:function(){var e=this.$(".points-edit").val();return null==e.match(/^-?\d{0,3}(\.\d{1,2})?$/)||""===e?(this.$(".points-error").toggleVisibility(!0),this.$(".points-edit").val(this.model.get("points")),!1):(this.$(".points-error").toggleVisibility(!1),this.$(".points-edit").off().hide(),this.$(".points-open").toggleVisibility(!0),this.$(".points-close").toggleVisibility(!1),this.model.set("points",parseFloat(e)),!1)}},{key:"sizerPointerDown",value:function(e){var t=this;this.$el.addClass("resizing");var n={originalPosition:this.$el.position(),originalHeight:this.$el.height(),originalWidth:this.$el.width(),parentOffset:this.$el.parent().offset(),dragger:i(e.currentTarget)};e.offsetX||(e.offsetX=e.pageX-i(e.target).offset().left),e.offsetY||(e.offsetY=e.pageY-i(e.target).offset().top);var o=e.offsetX,a=e.offsetY,s=this.$(".dragger").width()/2;return o<s?o=s-o:o>s&&(o=-(o-s)),a<s?a=s-a:a>s&&(a=-(a-s)),r.extend(n,{sizerStartX:e.clientX+o,sizerStartY:e.clientY+a}),this.$container.one("click",function(e){return!1}),i(document).on("pointermove",function(e){return r.extend(n,{targetX:e.clientX,targetY:e.clientY}),t.dragSizer(n)}),i(document).one("pointerup",function(e){return t.sizerPointerUp(e)}),!1}},{key:"dragSizer",value:function(e){var t=e.parentOffset,n=t.left,o=t.top;e.targetX<n?e.targetX=n:e.targetX>this._containerWidth()+n&&(e.targetX=this._containerWidth()+n),e.targetY<o-i(document).scrollTop()?e.targetY=o-i(document).scrollTop():e.targetY>this._containerHeight()+o-i(document).scrollTop()&&(e.targetY=this._containerHeight()+o-i(document).scrollTop());var a=e.targetX-e.sizerStartX,s=e.targetY-e.sizerStartY,l={};return e.dragger.hasClass("top")&&(l.height=e.originalHeight-s,l.top=e.originalPosition.top+s),e.dragger.hasClass("left")&&(l.width=e.originalWidth-a,l.left=e.originalPosition.left+a),e.dragger.hasClass("right")&&(l.width=e.originalWidth+a),e.dragger.hasClass("bottom")&&(l.height=e.originalHeight+s),l.height<PollEv.Model.ClickableImageRegion.CLICKABLE_REGION_MIN_HEIGHT&&(l=r.omit(l,"height","top")),l.width<PollEv.Model.ClickableImageRegion.CLICKABLE_REGION_MIN_WIDTH&&(l=r.omit(l,"width","left")),this.$el.css(l),l.width&&this.setSlimState(l.width),this.saveCoordinates(),this.model.resolveOverlaps(this.collection.collidableRegions(this.model))}},{key:"sizerPointerUp",value:function(e){e.stopPropagation(),i(document).off("pointermove"),this.model.revertIfInvalid(this.lastValidPosition)&&this.$el.addClass("error"),this.$el.removeClass("resizing")}},{key:"_containerWidth",value:function(){return this.$container.outerWidth()||this.$container.width()}},{key:"_containerHeight",value:function(){return this.$container.outerHeight()||this.$container.height()}},{key:"width",value:function(){return this.$el.outerWidth()||this.$el.width()}},{key:"height",value:function(){return this.$el.outerHeight()||this.$el.height()}},{key:"drag",value:function(e){var t=this.$el.parent().offset(),n=e.clientX-t.left-this.downEvent.offsetX,r=e.clientY-t.top-this.downEvent.offsetY+i(document).scrollTop();return n<0?n=0:n>this._containerWidth()-this.width()&&(n=this._containerWidth()-this.width()),r<0?r=0:r>this._containerHeight()-this.height()&&(r=this._containerHeight()-this.height()),this.$el.css({left:n,top:r}),this.saveCoordinates(),this.model.resolveOverlaps(this.collection.collidableRegions(this.model))}},{key:"renameRegion",value:function(e){var t=this;return this.stopPropagation(e),l.default.prompt("What's the new name?",this.model.getName(),{maxLength:80,validator:/[^<>]+/}).then(function(e){return t.model.setName(e)})}},{key:"renderName",value:function(){return this.$(".region--name").text(this.model.getName())}},{key:"renderClickCount",value:function(){var e=void 0;return e=this._onlyShowPercent()?(Math.round(this.model.percentageOfTotal())||0)+"%":this.model.get("results_count")||0,this.$(".results_count").text(e)}},{key:"_onlyShowPercent",value:function(){return null!=this.flashOptions?this.flashOptions.get("onlyShowPercent"):void 0}},{key:"renderWeightedGrading",value:function(){if(this.$(".points-error").toggleVisibility(!1),this.weightedGradingEnabled)return this.$el.addClass("weighted-grading-enabled"),this.updatePoints()}},{key:"updatePoints",value:function(){if(this.weightedGradingEnabled){var e=this.model.get("points"),t=e+PollEv.Util.pluralize(e,"pt");return this.$el.find(".points-display").text(t),this.$el.find(".points-edit").val(e)}}},{key:"pointerUp",value:function(e){i(document).off("pointermove"),this.model.revertIfInvalid(this.lastValidPosition)&&this.$el.addClass("error"),this.$el.removeClass("dragging")}},{key:"saveCoordinates",value:function(){var e=this.$el.position(),t=e.left,n=e.top;return this.model.updateValue({x:u(t,this._containerWidth()),y:u(n,this._containerHeight()),width:u(this.width(),this._containerWidth()),height:u(this.height(),this._containerHeight())})}},{key:"positionRegion",value:function(e){null==e&&(e={}),r.defaults(e,{width:this._containerWidth(),height:this._containerHeight()});var t,n,i=(t=this.model.relativeWidth(),n=e.width,t/100*n);return this.$el.css({left:this.model.relativeX()+"%",top:this.model.relativeY()+"%",width:this.model.relativeWidth()+"%",height:this.model.relativeHeight()+"%"}),this.setSlimState(i)}},{key:"setSlimState",value:function(e){var t=e<50;return t&&!this.$el.hasClass("slim")&&this.$el.trigger("region:slim"),this.$el.toggleClass("slim",t)}},{key:"centerCoordinates",value:function(){var e=this.$el.offset(),t=e.top,n=e.left;return[n+=this.model.relativeWidth()/100*this._containerWidth()/2,t+=this.model.relativeHeight()/100*this._containerHeight()/2]}},{key:"className",get:function(){return"region"}},{key:"attributes",get:function(){return{"touch-action":"none"}}}]),n}();t.default=c}).call(t,n("32HH"),n("7t+N"),n("rdLu"))},vWcp:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},l=n("NG+q"),u=(o=l)&&o.__esModule?o:{default:o};var c=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),a(n,[{key:"initialize",value:function(e){this.boundKeyAction=this._keyAction.bind(this),s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments),this.options=i.extend(!0,{},this.defaults,e),this.isOpen=!1,!0===this.options.actions.cancel&&(this.options.actions.cancel="Cancel"),this.render(),this.options.content&&this.setContent(this.options.content)}},{key:"reconfigure",value:function(e){return this.options=i.extend(!0,this.options,e),this._setState(),this}},{key:"render",value:function(){return s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).apply(this,arguments),this.$el.html((0,u.default)()),this._setState(),this.$el.appendTo(document.body),this}},{key:"remove",value:function(){var e=s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this),t=function(){this._clearContent(),e.call(this)}.bind(this);this.isOpen?(this.once("close:complete",t),this.close()):t()}},{key:"setContent",value:function(t){var n=this.$(".modal-dialog--body");return this._clearContent(),"string"==typeof t?n.html(t):t instanceof i?n.append(t):t instanceof e.View&&(this.subView=t.render(),n.append(this.subView.$el)),this}},{key:"open",value:function(){var e=this;return this.isOpen||(r(document).on("keydown",this.boundKeyAction),r(document.body).toggleClass("s-open-modal",!0),this.isOpen=!0,this.$el.fadeIn().promise().then(function(){if(e.isOpen)return e.trigger("open:complete")}),this.trigger("open")),this}},{key:"close",value:function(){var e=this;return this.isOpen&&(r(document).off("keydown",this.boundKeyAction),r(document.body).toggleClass("s-open-modal",!1),this.isOpen=!1,this.$el.fadeOut().promise().then(function(){if(!e.isOpen)return e.trigger("close:complete")}),this.trigger("close")),this}},{key:"_clearContent",value:function(){null!=this.subView&&this.subView.remove(),this.$(".modal-dialog--body").empty()}},{key:"_setState",value:function(){var e=this;this.$el.removeClass("s-x-small s-small s-medium s-large"),this.$el.toggleClass("s-"+this.options.size,!0),this.$(".modal-dialog--header").toggleClass("hidden",!(this.options.header.show||this.options.header.title)),this.$(".modal-dialog--footer").toggleClass("hidden",!this.options.footer.show),this.options.footer.show&&["primary","secondary","cancel"].forEach(function(t){var n=e.$(".modal-dialog--"+t);n.toggleClass("hidden",!e.options.actions[t]),e.options.actions[t]&&n.text(e.options.actions[t])}),this.options.header.title?this.$(".modal-dialog--title").toggleClass("hidden",!1).text(this.options.header.title):this.$(".modal-dialog--title").toggleClass("hidden",!0)}},{key:"_clickPrimary",value:function(){this.trigger("click:primary")}},{key:"_clickSecondary",value:function(){this.trigger("click:secondary")}},{key:"_clickCancel",value:function(){this.trigger("click:cancel"),this.close()}},{key:"_clickClose",value:function(){this.trigger("click:close"),this.close()}},{key:"_clickBackdrop",value:function(){this.trigger("click:backdrop"),this.options.ignoreCloseOn.backdrop||this.close()}},{key:"_keyAction",value:function(e){27===e.which&&(this.trigger("click:escape"),this.options.ignoreCloseOn.escape||this.close())}},{key:"className",get:function(){return"modal-dialog"}},{key:"elementTpl",get:function(){return u.default}},{key:"defaults",get:function(){return{size:"medium",content:"",header:{show:!1,title:""},footer:{show:!0},actions:{primary:"OK",secondary:!1,cancel:!1},ignoreCloseOn:{backdrop:!1,escape:!1}}}},{key:"events",get:function(){return{"click .modal-dialog--primary":"_clickPrimary","click .modal-dialog--secondary":"_clickSecondary","click .modal-dialog--cancel":"_clickCancel","click .modal-dialog--close":"_clickClose","click .modal-dialog--backdrop":"_clickBackdrop"}}}]),n}();t.default=c}).call(t,n("32HH"),n("7t+N"),n("7t+N"))},vdAi:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-element-text-field__input-row'>\n  <input class='component-element-text-field__input'>\n</div>\n<div class='component-element-text-field__error'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},vdSn:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<img>\n  <input class='component-editor-title__image-alt' title='Alternative text' placeholder='Alternative text' name='option-description' maxlength='255'>\n  <button class='component-editor-title__image-delete'>Delete</button>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},vkc6:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("oEzV")),o=s(n("EzR1")),a=s(n("OkFH"));function s(e){return e&&e.__esModule?e:{default:e}}var l=["terms","privacy"],u=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.render=o.render.bind(o),o.navigateToPrev=o.navigateToPrev.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),i(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===e.type||void 0===e.type)throw new Error("Term type must be defined.");if(-1===l.indexOf(e.type))throw new Error('term type "'+e.type+'" is not known.');this.options=e}},{key:"render",value:function(){return this.$el.html(this.template()),this.$(".legal-docs--main").html(this[this.options.type+"Tpl"]()),this}},{key:"navigateToPrev",value:function(){this.trigger("navigate:back")}},{key:"className",get:function(){return"legal-docs scrollable"}},{key:"template",get:function(){return r.default}},{key:"termsTpl",get:function(){return o.default}},{key:"privacyTpl",get:function(){return a.default}},{key:"events",get:function(){return{"click [js-back]":"navigateToPrev"}}}]),n}();t.default=u}).call(t,n("32HH"))},vpEg:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("geHz");var o,a=n("gFIx"),s=(o=a)&&o.__esModule?o:{default:o};var l=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.View),r(n,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.defaults(e,{listenToAppEvent:!0}),e.listenToAppEvent&&("undefined"!=typeof PollEv&&PollEv.app?(this.listenTo(PollEv.app,"spinner:hide",this.hide),this.listenTo(PollEv.app,"spinner:show",this.show)):void 0!==this.app&&(this.listenTo(this.app,"spinner:hide",this.hide),this.listenTo(this.app,"spinner:show",this.show)))}},{key:"render",value:function(){return this.$el.append((new s.default).spin().el),this}},{key:"hide",value:function(){this.$el.toggleVisibility(!1)}},{key:"show",value:function(){this.$el.toggleVisibility(!0)}},{key:"className",get:function(){return"spinner-container hidden"}}]),n}();t.default=l}).call(t,n("32HH"),n("rdLu"))},vrNa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n("RI/6")),r=u(n("zb4P")),o=u(n("aipb")),a=u(n("9szz")),s=u(n("BlD9")),l=u(n("JXki"));function u(e){return e&&e.__esModule?e:{default:e}}var c={User:i.default,Search:r.default,Group:o.default,Groups:a.default,Survey:s.default,PositionManager:l.default};t.default=c},wQTK:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg id='Layer_1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='151.3px' height='104px' viewBox='0 0 151.3 104' xml:space='preserve'>\n  <title>vote-oep</title>\n  <g>\n    <path style='opacity:0.7;fill:#4F4F4F;' d='M111.5,49.3H39.7c-0.9,0-1.7-0.8-1.7-1.7s0.8-1.7,1.7-1.7h71.8c0.9,0,1.7,0.8,1.7,1.7 C113.2,48.5,112.4,49.3,111.5,49.3z'></path>\n    <path style='opacity:0.7;fill:#4F4F4F;' d='M104.7,57h-65c-0.9,0-1.7-0.8-1.7-1.7s0.8-1.7,1.7-1.7h65c0.9,0,1.7,0.8,1.7,1.7S105.6,57,104.7,57z'></path>\n    <path style='fill:#60E2DC;' d='M119.8,37H31.5c-3.2,0-5.8,2.6-5.8,5.8v17.6c0,3.2,2.6,5.8,5.8,5.8H32v8.4c0,0.1,0,0.1,0,0.2 c0,0.5,0.1,1.1,0.5,1.5s0.9,0.6,1.4,0.6s1-0.2,1.4-0.6l10.1-10.1h74.5c3.2,0,5.8-2.6,5.8-5.8V42.8C125.6,39.6,123,37,119.8,37z M121.7,60.4c0,1.1-0.9,1.9-1.9,1.9H44.6l0,0c-0.5,0-1,0.1-1.4,0.5l-7.4,7.4v-6c0-1.1-0.9-1.9-1.9-1.9l0,0h-2.4 c-1.1,0-1.9-0.9-1.9-1.9V42.8c0-1.1,0.9-1.9,1.9-1.9H120c1.1,0,1.9,0.9,1.9,1.9v17.6H121.7z'></path>\n  </g>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},wZev:function(e,t,n){"use strict";(function(e,n,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(t){function n(){return o(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,e.Collection),r(n,[{key:"url",get:function(){return"api/opt_ins?context=participant_signup"}}]),n}(),u={overrideLegalLinks:!0},c=function(t){function c(){return o(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return s(c,e.View),r(c,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=n.defaults({},e,u),this.collection=new l,this.whenFetched=this.collection.fetch()}},{key:"handleLink",value:function(e){this.options.overrideLegalLinks&&(e.preventDefault(),this.trigger("link",i(e.target).attr("data-pe-link")))}},{key:"isReady",value:function(){return"resolved"===this.whenFetched.state()}},{key:"isValid",value:function(){var e=this;return!!this.isReady()&&this.collection.map(function(t){var n=e.$("#check-"+t.get("name")),i=!t.get("required")||n.prop("checked");return n.attr("aria-invalid",!i),e.$(".opt-ins__item--"+t.get("name")).toggleClass("opt-ins__item--error",!i),i}).every(function(e){return e})}},{key:"serialize",value:function(){var e=this,t={};return this.collection.each(function(n){e.$("#check-"+n.get("name")).prop("checked")&&(t[n.get("name")]="1")}),{opt_ins:t}}},{key:"render",value:function(){var e=this;return this.$el.html('<span class="opt-ins__loading" title="Loading..."></span>'),this.whenFetched.done(function(t){var n=[];e.collection.each(function(e){var t=e.get("name"),i=e.get("required")?"required":"";n.push('\n          <div class="opt-ins__item opt-ins__item--'+t+'">\n            <input type=checkbox name="'+t+'" id="check-'+t+'" '+i+'>\n            <label for="check-'+t+'">\n              <span>'+e.get("text")+'</span>\n              <div class="opt-ins__required">'+e.get("required_message")+"</div>\n            </label>\n          </div>\n        ")}),e.$el.empty().append(n)}).catch(function(t){e.trigger("error",t),e.$el.html('<div class="opt-ins__failed">Error loading, please reload or contact support@polleverywhere.com</div>')}),this}},{key:"className",get:function(){return"opt-ins"}},{key:"events",get:function(){return{"click a[data-pe-link]":"handleLink"}}}]),c}();t.default=c}).call(t,n("32HH"),n("rdLu"),n("7t+N"))},wlg8:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("Ix/R")),o=m(n("eHe5")),a=m(n("HMkD")),s=m(n("wQTK")),l=m(n("SaVT")),u=m(n("tckz")),c=m(n("u0WB")),p=m(n("KCyg")),d=m(n("0wUT")),f=m(n("KsIo")),h=m(n("pVUE")),v=m(n("x34W")),g=m(n("6fuq")),y=m(n("nQeZ"));function m(e){return e&&e.__esModule?e:{default:e}}var b={"multiple-choice":{normal:a.default,short:o.default},"word-cloud":{normal:h.default,short:f.default},"up-down-vote":{normal:d.default,short:p.default},"rank-order":{normal:c.default,short:u.default},"clickable-image":{normal:r.default,short:r.default},survey:{normal:v.default,short:v.default},competition:{normal:g.default,short:g.default},"open-ended-text":{normal:l.default,short:s.default}},_=function(t){null==t&&(t={}),e.defaults(t,{name:"Activity",defaultElement:"multiple-choice",mode:null,elements:[],activities:{}}),e.defaults(t.activities,{"multiple-choice":!0,"word-cloud":!0,"up-down-vote":!0,"rank-order":!0,"clickable-image":!0,"open-ended-text":!0,survey:!0});var n="short"===t.mode?"short":"normal",r=function(e){var t=b[e][n];return i(t())};return t.activities["multiple-choice"]&&t.elements.push({label:"Multiple choice",identifier:"multiple-choice",image:r("multiple-choice")}),t.activities["word-cloud"]&&t.elements.push({label:"Word cloud",identifier:"word-cloud",image:r("word-cloud"),description:"A colorful animated word cloud displays the most common words in larger text. You can moderate (pre-approve) words before they appear."}),t.activities["up-down-vote"]&&t.elements.push({label:"Q&A",identifier:"up-down-vote",image:r("up-down-vote"),description:"Crowd-sourcing questions results in a compelling, high-impact experience for everyone. Avoid the awkward moments that result from using microphones for Q&A. You can moderate (pre-approve) questions submitted; Most presenters are amazed at how well audiences self-moderate."}),t.activities["rank-order"]&&t.elements.push({label:"Rank order",identifier:"rank-order",image:r("rank-order"),description:"Your audience reorders the options via drag-and-drop. The live chart shows the average rank ordering."}),t.activities["clickable-image"]&&t.elements.push({label:"Clickable image",identifier:"clickable-image",image:r("clickable-image"),description:"Upload any image or pick from our pre-made images. Participants will select a point on the image. We'll display everyone's taps together. You can define regions and mark some as a correct answer."}),t.activities.survey&&t.elements.push({label:"Survey",identifier:"survey",image:r("survey"),description:"A multi-question survey lets participants answer several questions at their own pace. A live updating slide in your presentation shows the audience's collective progress. You can also use surveys outside of a live event. Every survey has a private link you can send to respondents, similar to traditional web survey tools."}),t.activities["open-ended-text"]&&t.elements.push({label:"Open-ended",identifier:"open-ended-text",image:r("open-ended-text")}),t.activities.competition&&t.elements.push({label:"Competitions",identifier:"competition",image:r("competition"),description:"COMPETITIONS DESCRIPTION"}),t};t.default={activity:_,basicQuestions:function(t){null==t&&(t={}),(t=_(t)).name="Basic questions";var n=e.findIndex(t.elements,{identifier:"survey"});t.elements.splice(n,1);var i=e.findIndex(t.elements,{identifier:"survey"});return t.elements.splice(i,1),t},synonyms:function(e){return null==e&&(e={}),(e=_(e)).elements.push({label:"More",identifier:"picker:toggle-drawer",image:i((0,y.default)())}),e.drawer=[{label:"Donut charts",identifier:"donut-chart",description:"A circular statistical graphic which is divided into slices to illustrate numerical proportion."},{label:"Icebreaker",identifier:"icebreaker",description:"An animated word cloud displays the most popular words in larger text. You can moderate (pre-approve) words before they appear."},{label:"Upvote",identifier:"upvote",description:"Participants submit topics, ideas, or reactions and vote on each other's submissions. It directs people's limited time towards more valuable conversations. The upvote activity has been used by many leaders in town hall settings to empower honest conversation. You can moderate (pre-approve) audience submissions before they appear for peer voting."},{label:"Leaderboard",identifier:"leaderboard",description:"Leaderboards show the top few answers when there are many more answers available for voting. For example, if you're hosting a competition for 100 teams, you can use a leaderboard to display the current top 5 teams. Participants mobile devices would still show all 100 teams for voting."},{label:"Emotion scale",identifier:"emotion-scale",description:"Participants can tap or click anywhere on a series of smiling, neutral, or frowning faces. You can display the taps dropping in live, providing a creative way to visualize a group's reactions."},{label:"Self-paced quiz",identifier:"self-paced-quiz",description:"A multi-question quiz lets participants answer several questions at their own pace. An optional live display shows everyone's progress. You can mark answers correct and report on individual grades."},{label:"Spotlight",identifier:"spotlight",description:"Built to encourage more thoughtful, deliberate responses. Each audience submission will scroll past one at a time. You can click to pause scrolling and discuss a response. You can moderate (pre-approve) the items submitted."},{label:"Retrospective",identifier:"retrospective",description:"Start your regualar team meeting with a prompt to reflect on as people arrive."},{label:"Assign teams",identifier:"assign-teams",description:"The segmentation feature allows you to compare how members of each team answered other questions. You can also do this yourself by downloading your results to several questions as a spreadsheet."},{label:"Discussion",identifier:"discussion"},{label:"Brainstorm",identifier:"brainstorm",description:"Crowdsource the best ideas and let people vote on each other's submissions. The brainstorm activity is engaging because it draws out two types of underrepresented ideas: Unconventional ideas people are hesitant to propose, and ideas from people who don't normally speak out. You can moderate (pre-approve) the ideas submitted before they appear for peer voting."},{label:"Priority Ranking",identifier:"priority-ranking"},{label:"Select on map",identifier:"select-on-map",description:"Develop a sense of national or international community by having your audience select on a map where they've come from. You can display the large map as placemarkers drop in live."},{label:"Short answer",identifier:"short-answer",description:"Popular for digital signage, each audience submission will scroll past one at a time. You can moderate (pre-approve) the items submitted."},{label:"Bulletin board",identifier:"bulletin-board",description:"Audience submissions will be shown in a cluster of individual message bubbles. Click to feature a response in large font. Popular for both live presentations and digital signage. You can moderate (pre-approve) the items submitted."},{label:"2x2 matrix",identifier:"2x2-matrix",description:"Participants rate something on two dimensions by selecting a point on a plane. Dimensions presenters have used include importance vs. urgency, impact vs. effort, and speed vs. quality. Some people are familliar with Gartner's Magic Quadrant methodology which rates completeness of vision vs. ability to execute."}],e}}}).call(t,n("rdLu"),n("7t+N"))},"x+VU":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n("+B0W")),o=u(n("9xp/")),a=u(n("rdLu")),s=u(n("7t+N")),l=u(n("hBlz"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.url=o.url.bind(o),o.updateLogin=o.updateLogin.bind(o),o.fetch=o.fetch.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(e){var t=this;return this.registrationInfo=new o.default(e),this.on("change:login",function(e,n){return t.updateLogin(n)})}},{key:"url",value:function(){return(0,l.default)("/api/users").segment(this.get("login")).toString()}},{key:"updateLogin",value:function(e){return this.registrationInfo.clear(),this.registrationInfo.set({login:e})}},{key:"fetch",value:function(e){return null==e&&(e={}),this.updateLogin(this.get("login")),a.default.defaults(e,{cache:!1}),s.default.when(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e),this.registrationInfo.fetch(e))}}]),t}();t.default=c},x34W:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<svg id='Layer_1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='151.3px' height='104px' viewBox='0 0 151.3 104' xml:space='preserve'>\n  <g>\n    <path fill='#60E2DC' d='M93.5,41.9H57c-0.9,0-1.7-0.8-1.7-1.7c0-0.9,0.8-1.7,1.7-1.7c0,0,0,0,0,0h36.5c0.9,0,1.7,0.8,1.7,1.7 C95.2,41.1,94.5,41.9,93.5,41.9z'></path>\n    <path fill='#60E2DC' d='M93.5,51.8H57c-0.9,0-1.7-0.8-1.7-1.7c0-0.9,0.8-1.7,1.7-1.7c0,0,0,0,0,0h36.5c0.9,0,1.7,0.8,1.7,1.7 C95.2,51,94.5,51.8,93.5,51.8z'></path>\n    <path fill='#60E2DC' d='M93.5,61.7H57c-0.9,0-1.7-0.8-1.7-1.7c0-0.9,0.8-1.7,1.7-1.7c0,0,0,0,0,0h36.5c0.9,0,1.7,0.8,1.7,1.7 C95.2,60.9,94.5,61.7,93.5,61.7z'></path>\n    <path fill='#60E2DC' d='M89.9,68.1H57c0,0,0,0,0,0c-0.9,0-1.7,0.8-1.7,1.7c0,0.9,0.8,1.7,1.7,1.7h30.7c0.4-1.1,1-2.3,1.8-3L89.9,68.1z'></path>\n    <path fill='#60E2DC' d='M85.5,79.9L86,78H57c0,0,0,0,0,0c-0.9,0-1.7,0.8-1.7,1.7c0,0.9,0.8,1.7,1.7,1.7h28.3 C85.3,80.9,85.4,80.4,85.5,79.9z'></path>\n  </g>\n  <circle cx='75' cy='20.2' r='1.7'></circle>\n  <path fill='#4f4f4f' d='M102,54.3c0,0.1,0,0.3,0.1,0.4l3.4-3.4v-30c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2c-0.1-0.3-0.2-0.6-0.4-0.8c0,0,0,0,0,0 c-0.2-0.2-0.5-0.4-0.9-0.5c-0.1,0-0.2,0-0.3,0H92.4c0-0.7,0-1.2,0-1.2c0-3.2-1.9-4.8-4.2-5.1c-0.1,0-0.3,0-0.5,0c0,0-0.1,0-0.1,0v0 c-0.1,0-0.2,0-0.3,0h-6.6l0-0.1c0-3.1-2.6-5.7-5.7-5.7s-5.7,2.6-5.7,5.7l0,0.1h-5.8c-0.1,0-0.2,0-0.3,0v0c0,0-0.1,0-0.1,0 c-0.2,0-0.4,0-0.5,0c-2.1,0.2-3.9,1.7-4.1,4.5c0,0.1,0,0.2,0,0.4v1.4H46.9c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0c0,0-0.1,0-0.1,0 c-0.1,0-0.1,0-0.2,0.1c0,0-0.1,0-0.1,0c-0.1,0-0.1,0.1-0.2,0.1c0,0-0.1,0-0.1,0c-0.1,0-0.1,0.1-0.2,0.1c0,0-0.1,0.1-0.1,0.1 c0,0-0.1,0.1-0.1,0.1c0,0.1-0.1,0.1-0.1,0.2c0,0,0,0.1,0,0.1c0,0.1-0.1,0.1-0.1,0.2c0,0,0,0.1,0,0.1c0,0.1-0.1,0.1-0.1,0.2 c0,0,0,0,0,0.1c0,0.1,0,0.2,0,0.3v73.1c0,0,0,0,0,0c0,0.4,0.1,0.7,0.3,1c0.1,0.1,0.1,0.2,0.2,0.3c0.3,0.3,0.7,0.5,1.2,0.5h56.8h0 c0,0,0,0,0,0c0.2,0,0.4,0,0.6-0.1c0.4-0.2,0.7-0.5,0.9-0.9c0,0,0,0,0,0c0.1-0.2,0.1-0.4,0.1-0.6c0,0,0-0.1,0-0.1c0,0,0,0,0,0 s0,0,0,0V81.9c0-0.1,0-0.1,0-0.2l-3.4,3.4v7.7H48.6V23h9.8v2.4v0c0,0,0,0,0,0c0,0.2,0,0.4,0.1,0.6c0.2,0.4,0.5,0.7,0.9,0.9 c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0.1,0,0.1,0c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0,0.2,0c0,0,0,0,0,0s0,0,0,0h30.6c0.1,0,0.1,0,0.2,0 c0,0,0.1,0,0.1,0c0.1,0,0.1,0,0.2-0.1c0,0,0.1,0,0.2,0c0,0,0.1,0,0.1,0c0.1,0,0.1-0.1,0.2-0.1c0.1,0,0.1-0.1,0.1-0.1 c0,0,0.1-0.1,0.1-0.1c0,0,0-0.1,0.1-0.1c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.1-0.4,0.1-0.6V23h9.6V54.3C102,54.3,102,54.3,102,54.3z M89,18.4v5.3H61.9v-1.5c0,0,0-2.8,0-4.3l0,0c0-0.7,0.7-1.2,1.3-1.2c0.1,0,0.2,0,0.3,0h5.9c0,0,0,0,0,0l0.1,0h2.2 c0.9,0,1.6-0.8,1.6-1.7c0,0,0,0,0,0s0,0,0,0l0-1.8c0-0.9,0.8-1.7,1.7-1.7s1.7,0.8,1.7,1.7l0,1.7c0,0,0,0,0,0.1c0,0,0,0,0,0.1 c0,0.9,0.8,1.7,1.7,1.7h2.2l0.1,0c0,0,0,0,0,0h6.7c0.1,0,0.2,0,0.3,0c0.7,0,1.3,0.5,1.3,1.2l0,0C89,18.1,89,18.2,89,18.4z'></path>\n  <g opacity='0.7\"style=\"enable-background:new'>\n    <path fill='#4F4F4F' d='M125.1,50.5l-3.2-3.2c-0.8-0.8-1.8-1.2-3-1.2c-1.1,0-2.2,0.4-3,1.2L92.8,70.5c-0.1,0.1-0.2,0.2-0.2,0.3 c-0.1,0.1-0.1,0.2-0.2,0.3c0,0,0,0,0,0c-0.3,0.4-0.5,0.8-0.6,1.2l-2.1,8.1c0,0.1,0,0.3-0.1,0.4c0,0.1,0,0.2,0,0.2v0 c0,0.4,0.1,0.8,0.4,1.1c0.3,0.3,0.6,0.4,1,0.5c0.2,0,0.4,0,0.7-0.1l8.4-1.9c0.6-0.1,1.4-0.6,1.8-1l23.2-23.3c0.8-0.8,1.2-1.8,1.2-3 C126.3,52.3,125.9,51.2,125.1,50.5z M91.3,81.2C91,81.2,91,81,91,81c0-0.1,0-0.2,0-0.3l0.6-2.5l2.4,2.4L91.3,81.2z M100,79.2 c-0.1,0-0.1,0-0.2,0l-4.4,1L92,76.8l1.1-4.2c0-0.1,0-0.1,0.1-0.2l2.6-0.1c0.1,0,0.3,0,0.4,0.1c0.1,0.1,0.1,0.2,0.1,0.4L96,74.5 c-0.1,0.5,0.1,1.1,0.5,1.4c0.4,0.4,0.9,0.5,1.4,0.5l1.6-0.2c0.1,0,0.3,0,0.4,0.1c0.1,0.1,0.1,0.2,0.1,0.4L100,79.2z M101.4,78.2 l0-1.5c0-0.5-0.2-1.1-0.6-1.4c-0.4-0.4-0.9-0.5-1.4-0.5L97.8,75c-0.1,0-0.2,0-0.3-0.1c-0.1-0.1-0.1-0.2-0.1-0.3l0.2-1.6 c0.1-0.5-0.1-1.1-0.5-1.4c-0.4-0.4-0.9-0.6-1.4-0.6l-1,0c0,0,0,0,0,0l-0.5,0l14.7-14.7l7.2,7.2L101.4,78.2z M116.9,62.6l-7.2-7.2 l1.2-1.2l7.2,7.2L116.9,62.6z M119,60.5l-7.2-7.2l1.2-1.2l7.2,7.2L119,60.5z M124.1,55.4l-3,3l-7.2-7.2l3-3c0.5-0.5,1.2-0.8,2-0.8 c0.8,0,1.5,0.3,2,0.8l3.2,3.2c0.5,0.5,0.8,1.2,0.8,2C125,54.2,124.7,54.9,124.1,55.4z'></path>\n    <path fill='#4F4F4F' d='M91.2,82.7c-0.1,0-0.1,0-0.2,0c-0.4,0-0.8-0.2-1.1-0.5c-0.3-0.3-0.5-0.7-0.5-1.2c0-0.1,0-0.2,0-0.2 c0-0.1,0-0.2,0.1-0.4l2.1-8.1c0.1-0.4,0.3-0.8,0.6-1.2c0.1-0.1,0.1-0.2,0.2-0.3c0.1-0.1,0.2-0.2,0.3-0.3l23.2-23.3 c0.8-0.8,1.9-1.3,3-1.3c0,0,0,0,0,0c1.1,0,2.2,0.4,3,1.3l3.2,3.2c0.8,0.8,1.3,1.9,1.3,3c0,1.2-0.4,2.2-1.3,3L102,79.7 c-0.4,0.4-1.2,0.9-1.9,1l-8.4,1.9C91.6,82.6,91.4,82.7,91.2,82.7z M119,46.2C119,46.2,118.9,46.2,119,46.2c-1.1,0-2.1,0.4-2.9,1.2 L92.9,70.6c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.1-0.1,0.2-0.2,0.3c-0.3,0.4-0.5,0.8-0.6,1.2l-2.1,8.1c0,0.1,0,0.3-0.1,0.4 c0,0.1,0,0.2,0,0.2c0,0.4,0.1,0.8,0.4,1c0.2,0.2,0.6,0.4,1,0.4c0.2,0,0.4,0,0.6,0l8.4-1.9c0.6-0.1,1.3-0.5,1.7-1L125,56.3 c0.8-0.8,1.2-1.8,1.2-2.9c0-1.1-0.4-2.1-1.2-2.9l-3.2-3.2C121,46.6,120,46.2,119,46.2z M91.3,81.3c-0.4,0-0.4-0.2-0.4-0.3 c0-0.1,0-0.2,0-0.3l0.7-2.7l2.7,2.7L91.3,81.3C91.3,81.3,91.3,81.3,91.3,81.3z M91.7,78.5l-0.6,2.3c0,0.1,0,0.2,0,0.2 c0,0.1,0,0.1,0.2,0.1l2.5-0.6L91.7,78.5z M95.4,80.4L95.4,80.4l-3.5-3.5l0-0.1l1.1-4.2c0-0.1,0-0.1,0.1-0.2l0-0.1l2.7-0.1 c0.2,0,0.3,0.1,0.5,0.2c0.1,0.1,0.2,0.3,0.1,0.5l-0.2,1.6c-0.1,0.5,0.1,1,0.4,1.3c0.3,0.3,0.8,0.5,1.3,0.4l1.6-0.2 c0.2,0,0.4,0,0.5,0.1c0.1,0.1,0.2,0.3,0.2,0.5l-0.1,2.6l-0.1,0c-0.1,0-0.1,0-0.2,0L95.4,80.4z M92.1,76.8l3.3,3.3l4.3-1 c0,0,0,0,0.1,0l0.1-2.5c0-0.1,0-0.2-0.1-0.3c-0.1-0.1-0.2-0.1-0.3-0.1l-1.6,0.2c-0.6,0.1-1.1-0.1-1.5-0.5c-0.4-0.4-0.6-1-0.5-1.5 l0.2-1.6c0-0.1,0-0.2-0.1-0.3c-0.1-0.1-0.1-0.1-0.2-0.1c0,0,0,0,0,0l-2.5,0.1c0,0,0,0.1,0,0.1L92.1,76.8z M101.2,78.5l0-1.8 c0-0.5-0.2-1-0.5-1.3s-0.8-0.5-1.4-0.4l-1.6,0.2c-0.2,0-0.3,0-0.4-0.1c-0.1-0.1-0.1-0.2-0.1-0.4l0.2-1.6c0.1-0.5-0.1-1-0.4-1.3 c-0.3-0.4-0.8-0.5-1.3-0.5l-1.8,0l0.2-0.2l14.8-14.8l7.4,7.4l-0.1,0.1L101.2,78.5z M99.6,74.7c0.5,0,1,0.2,1.3,0.5 c0.4,0.4,0.6,0.9,0.6,1.5l0,1.2l14.4-14.4l-7-7L94.5,70.9l1.2,0c0,0,0,0,0,0c0.6,0,1.1,0.2,1.5,0.6c0.4,0.4,0.6,1,0.5,1.5l-0.2,1.6 c0,0.1,0,0.2,0.1,0.2c0,0,0.1,0.1,0.2,0.1l1.6-0.2C99.4,74.7,99.5,74.7,99.6,74.7z M116.9,62.8l-7.4-7.4l1.4-1.4l7.4,7.4 L116.9,62.8z M109.9,55.5l7,7l1-1l-7-7L109.9,55.5z M119,60.7l-7.4-7.4L113,52l7.4,7.4L119,60.7z M112,53.4l7,7l1-1l-7-7L112,53.4z M121.2,58.5l-7.4-7.4l3.1-3.1c0.6-0.6,1.3-0.9,2.1-0.9c0,0,0,0,0,0c0.8,0,1.5,0.3,2.1,0.9l3.2,3.2c0.6,0.6,0.9,1.3,0.9,2.1 c0,0.8-0.3,1.5-0.9,2.1L121.2,58.5z M114.2,51.2l7,7l2.9-2.9c0.5-0.5,0.8-1.2,0.8-1.9c0-0.7-0.3-1.4-0.8-1.9l-3.2-3.2 c-0.5-0.5-1.2-0.8-1.9-0.8c0,0,0,0,0,0c-0.7,0-1.4,0.3-1.9,0.8L114.2,51.2z'></path>\n  </g>\n</svg>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},x4Pe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{$_element:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.className+"__"+t;n&&(i+="--"+n);var r=e.$("."+i);return r.className=i,r},$_toggleModifier:function(t,n,i,r){var o=n+"--"+i;return t?t.find("."+n).toggleClass(o,r):e.$el.toggleClass(o,r)},$_hasModifier:function(t,n,i){var r=n+"--"+i;return t?t.find("."+n).hasClass(r):e.$el.hasClass(r)}}}},xB7D:function(e,t,n){"use strict";(function(e,i,r,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=p(n("x4Pe")),l=p(n("wlg8")),u=p(n("p1Pd")),c=p(n("uEdx"));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(t,n){var i=void 0,r=e(t.elementTpl());if(t.compatibilityMode)i=f(n.image[0]);else if("string"==typeof n.image){var o=PollEv.Util.proxiedImageUrl(n.image,{w:300,h:200});i=e("<img />").attr("src",o.toString()).attr("alt","Select "+n.label)}else n.image&&(i=n.image.clone());return r.attr("data-identifier",n.identifier),r.find("."+t.className+"__title").text(n.label),n.image?r.find("."+t.className+"__image").replaceWith(i.addClass(t.className+"__image")):r.find("."+t.className+"__image-container").remove(),r},f=function(t){var n=e((0,c.default)());try{var i=new XMLSerializer,r="data:image/svg+xml;base64,"+window.btoa(i.serializeToString(t));n.find(".original, .bw").attr("xlink:href",r)}catch(e){}return n},h=function(t,n){return n.preventDefault(),t.select(e(n.currentTarget).data("identifier"))},v=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),a(n,[{key:"initialize",value:function(e){if(null==(null!=e?e.elements:void 0))throw new Error("`options.elements` cannot be empty.");var t,n;if(o.extend(this,(0,s.default)(this)),o.defaults(e,{showLabel:!0,compatibilityMode:!1,showArrows:!0,defaultElement:null,mode:null,drawer:null}),this.elements=e.elements,this.name=e.name,this.compatibilityMode=e.compatibilityMode,this.showLabel=e.showLabel,this.showArrows=e.showArrows,this.defaultElement=e.defaultElement,this.mode=e.mode,this.drawer=e.drawer,this.customClassName=(t=this,n=this.name,t.className+"--"+i.slugify(n)),this.showLabel||this.$el.addClass(this.className+"--hide-label"),this.showArrows||this.$el.addClass(this.className+"--no-arrows"),null!=this.mode)return this.$el.addClass(this.className+"--"+this.mode)}},{key:"getSelected",value:function(){var e=this.$("."+this.className+"__btn--active").data("identifier");if("picker:toggle-drawer"===e){var t=void 0;(t=this.$drawer.find("."+this.className+"__btn--active"))&&t.length&&(e=t.data("identifier"))}return e}},{key:"hasSelected",value:function(){return!(!this.getSelected()||"picker:toggle-drawer"===this.getSelected())}},{key:"unselect",value:function(){return this.$("."+this.className+"__btn").removeClass(this.className+"__btn--active"),this.$_toggleModifier(null,this.className,"expanded",!1)}},{key:"select",value:function(e,t){var n=void 0;null==t&&(t={}),this.unselect();var i=this.$("[data-identifier='"+e+"']").addClass(this.className+"__btn--active"),r=o.findWhere(o.flatten(this.elements),{identifier:e});if("picker:toggle-drawer"===e?this.$_toggleModifier(null,this.className,"expanded",!0):(n=i.parent().is(this.$drawer))?(r=o.find(this.drawer,{identifier:e}),this.$("[data-identifier='picker:toggle-drawer']").addClass(this.className+"__btn--active"),this.$_toggleModifier(null,this.className,"expanded",!0)):(r=o.findWhere(o.flatten(this.elements),{identifier:e}),this.$_toggleModifier(null,this.className,"expanded",!1)),!t.silent)return this.trigger("select",r,n?{placement:"drawer"}:void 0),this.trigger("view:action","select",{identifier:e},n?{placement:"drawer"}:void 0)}},{key:"render",value:function(){var t;return this.$el.addClass(this.customClassName),this.$el.html((t=this).elements.map(function(e){return d(t,e)})),function(t){if(t.drawer){var n=t.drawer.map(function(n){return e(t.elementTpl()).attr("data-identifier",n.identifier).find("."+t.className+"__title").text(n.label).end().remove("."+t.className+"__image")});t.$drawer=e("<div class=component-picker__more>").append(n),t.$el.append(t.$drawer)}}(this),this.select(this.defaultElement,{silent:!0}),this}},{key:"className",get:function(){return"component-picker"}},{key:"elementTpl",get:function(){return u.default}},{key:"events",get:function(){return{"click .js-select":function(e){return h(this,e)},"keyup .js-select":function(e){return function(e,t){if(32===t.keyCode&&!t.metaKey)return h(e,t)}(this,e)}}}}]),n}();v.PRESETS=l.default,t.default=v}).call(t,n("7t+N"),n("xok8"),n("32HH"),n("rdLu"))},xUp4:function(e,t,n){"use strict";(function(e){var t;(t=e).fn.toggleDisabled=function(e){var n=function(e,t){return e.prop("disabled",t)};return this.each(function(i){var r=t(this);if(null!=e)return n(r,e);var o=r.prop("disabled");return n(r,!o)})}}).call(t,n("7t+N"))},xrTZ:function(e,t,n){(function(i){var r;!function(t,n){e.exports=n(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:this,function(i){"use strict";var o,a=i.Base64;if(void 0!==e&&e.exports)try{o=n("EuP9").Buffer}catch(e){}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=function(e){for(var t={},n=0,i=e.length;n<i;n++)t[e.charAt(n)]=n;return t}(s),u=String.fromCharCode,c=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},p=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(p,c)},f=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[s.charAt(n>>>18),s.charAt(n>>>12&63),t>=2?"=":s.charAt(n>>>6&63),t>=1?"=":s.charAt(63&n)].join("")},h=i.btoa?function(e){return i.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,f)},v=o?o.from&&o.from!==Uint8Array.from?function(e){return(e.constructor===o.constructor?e:o.from(e)).toString("base64")}:function(e){return(e.constructor===o.constructor?e:new o(e)).toString("base64")}:function(e){return h(d(e))},g=function(e,t){return t?v(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):v(String(e))},y=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),m=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return u(55296+(t>>>10))+u(56320+(1023&t));case 3:return u((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return u((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},b=function(e){return e.replace(y,m)},_=function(e){var t=e.length,n=t%4,i=(t>0?l[e.charAt(0)]<<18:0)|(t>1?l[e.charAt(1)]<<12:0)|(t>2?l[e.charAt(2)]<<6:0)|(t>3?l[e.charAt(3)]:0),r=[u(i>>>16),u(i>>>8&255),u(255&i)];return r.length-=[0,0,2,1][n],r.join("")},w=i.atob?function(e){return i.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,_)},k=o?o.from&&o.from!==Uint8Array.from?function(e){return(e.constructor===o.constructor?e:o.from(e,"base64")).toString()}:function(e){return(e.constructor===o.constructor?e:new o(e,"base64")).toString()}:function(e){return b(w(e))},O=function(e){return k(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};if(i.Base64={VERSION:"2.4.3",atob:w,btoa:h,fromBase64:O,toBase64:g,utob:d,encode:g,encodeURI:function(e){return g(e,!0)},btou:b,decode:O,noConflict:function(){var e=i.Base64;return i.Base64=a,e}},"function"==typeof Object.defineProperty){var P=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};i.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",P(function(){return O(this)})),Object.defineProperty(String.prototype,"toBase64",P(function(e){return g(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",P(function(){return g(this,!0)}))}}return i.Meteor&&(Base64=i.Base64),void 0!==e&&e.exports?e.exports.Base64=i.Base64:void 0===(r=function(){return i.Base64}.apply(t,[]))||(e.exports=r),{Base64:i.Base64}})}).call(t,n("DuR2"))},xzKA:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n("x4Pe")),a=c(n("PKfJ")),s=c(n("iMry")),l=c(n("H7Wu")),u=c(n("fxyI"));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0===t?(e.footer.toggleAction(!1),e.footer.renderActionLabel("Insert activity")):(e.footer.toggleAction(!0),e.footer.renderActionLabel("Insert activity ("+t+" slide"+(t>1?"s":"")+")"))}var d=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.View),r(n,[{key:"initialize",value:function(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,(0,o.default)(this)),this.footer=r.footer,this.header=r.header,this.header.renderNav(s.default),this.header.showFilterPolls(!1),p(this),this.cards=new i.Collection([{selected:!1,title:"Instructions slide",activityQuery:{display_state:"instructions",activity_state:"opened",state:"opened"},image:{hide:t=["instructions","empty_ftp_notice","correctness","clickable_image_regions","keywords"]}},{selected:!1,title:"Chart slide",activityQuery:{display_state:"chart",activity_state:"opened",state:"opened"},image:{hide:t}},{selected:!1,title:"Locked slide",activityQuery:{display_state:"chart",activity_state:"closed",state:"closed"},image:{hide:e.without(t,"instructions")}}]),this.list=new u.default({attributes:{"aria-role":"listbox"},collection:this.cards,viewClass:function(){return l.default},viewOptions:function(){return{activity:n.model}}}),this.listenTo(this.footer,"action",function(){var t=n.cards.where({selected:!0}).map(function(t){return{queryForPresenting:t.get("activityQuery"),queryForPlaceholder:e.extend({},t.get("activityQuery"),{hide:t.get("image").hide.join(",")})}});n.trigger("select",n.model,t)}),this.listenTo(this.footer,"cancel",function(){n.trigger("cancel")}),this.cards.on("change:selected",function(){var e=n.cards.where({selected:!0});p(n,e.length)})}},{key:"render",value:function(){return this.$el.html(a.default),this.$el.append(this.list.render().$el),this}},{key:"remove",value:function(){this.list.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"state-selector"}}]),n}();t.default=d}).call(t,n("rdLu"),n("32HH"))},yQzB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("UA47")),o=s(n("MBh1")),a=s(n("hBlz"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.responseUrl=o.responseUrl.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"initialize",value:function(e){null==e&&(e={}),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).apply(this,arguments),this.include(o.default),this.model_type=this.type()}},{key:"summaryTableUrl",value:function(){}},{key:"responseUrl",value:function(){var e=this.get("permalink");return(0,a.default)("/").segment(this.type()+"s").segment(e).segment("results.json").toString()}},{key:"sendToListUrl",value:function(){}}],[{key:"initClass",value:function(){this.prototype.defaultType="ranking_poll"}}]),t}();l.initClass(),t.default=l},yUJD:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=l(n("x4Pe")),a=l(n("Nz7a")),s=l(n("uqiE"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){e.$_element("id").text(e.model.get("label"))},c=function(e,t){e.$_toggleModifier(null,e.className,"selected",e.model===t)},p=function(e,t){d(e),e.pointerDown(t)},d=function(e){e.model.collection.trigger("select",e.model)},f=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),i(n,[{key:"events",value:function(){var t=r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"events",this).call(this);return t.pointerdown=e.partial(p,this),t}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).call(this,t),e.extend(this,(0,o.default)(this)),e.defaults(t,{showGrading:!1}),this.showGrading=t.showGrading,this.listenTo(this.model,"change:label",e.partial(u,this)),this.listenTo(this.model,"change:_destroy",this.remove),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model.collection,"select",e.partial(c,this))}},{key:"render",value:function(){return this.$el.html(this.template()),this.positionRegion(),u(this),this}},{key:"renderName",value:function(){return!1}},{key:"className",get:function(){return"component-editor-clickable-image__builder__region"}},{key:"template",get:function(){return a.default}}]),n}();t.default=f}).call(t,n("rdLu"))},ypuQ:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n("Hf0w")),a=s(n("6MBy"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(t){function n(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i)));return o.fetch=o.fetch.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"initialize",value:function(e,t){null==t&&(t={});var i=t;this.group_id=i.group_id,this.user_id=i.user_id,r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"initialize",this).apply(this,arguments)}},{key:"fetch",value:function(t){return null==t&&(t={}),t.data||(t.data={}),t.data=e.defaults(t.data,{group_id:this.group_id,user_id:this.user_id}),r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"fetch",this).call(this,t)}},{key:"model",value:function(e,t){return(0,a.default)(e,t)}},{key:"modelId",value:function(e){var t=e.id,n=e.type;return t&&n?n+"_"+t:null}},{key:"get",value:function(e,t){return null!=t?this.findWhere({type:t,id:e}):r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"get",this).apply(this,arguments)}}],[{key:"initClass",value:function(){this.prototype.url="/api/activities",this.prototype.comparator="position"}}]),n}();l.initClass(),t.default=l}).call(t,n("rdLu"))},zYjR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=f(n("+B0W")),a=f(n("a2bv")),s=f(n("hBlz")),l=f(n("82hR")),u=f(n("rdLu")),c=f(n("32HH")),p=f(n("sFe/")),d=f(n("7t+N"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.toJSON=o.toJSON.bind(o),o.defaultName=o.defaultName.bind(o),o.typeName=o.typeName.bind(o),o.description=o.description.bind(o),o.createdAt=o.createdAt.bind(o),o.startedAt=o.startedAt.bind(o),o.finishedAt=o.finishedAt.bind(o),o.resultsUrl=o.resultsUrl.bind(o),o.fetchResults=o.fetchResults.bind(o),o.fetch=o.fetch.bind(o),o.save=o.save.bind(o),o.rerun=o.rerun.bind(o),o.state=o.state.bind(o),o.type=o.type.bind(o),o.options=o.options.bind(o),o.filters=o.filters.bind(o),o.results=o.results.bind(o),o.isRunning=o.isRunning.bind(o),o.hasFinished=o.hasFinished.bind(o),o.pollForUpdates=o.pollForUpdates.bind(o),o.setOptions=o.setOptions.bind(o),o.saveOptions=o.saveOptions.bind(o),o.setFilters=o.setFilters.bind(o),o.saveFilters=o.saveFilters.bind(o),o.saveHash=o.saveHash.bind(o),o.setHash=o.setHash.bind(o),o.triggerEvents=o.triggerEvents.bind(o),o.buildOptionsHash=o.buildOptionsHash.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"initialize",value:function(){this.polls=new a.default}},{key:"toJSON",value:function(){var e=this.pick(this.modelProperties);return e.polls=this.polls.pluck("permalink"),e}},{key:"defaultName",value:function(e){var t=void 0,n=u.default.unique(this.polls.map(function(e){return e.get("group_id")})),i=n[0],r=i===l.default.defaultId;return 1===this.polls.length?this.polls.at(0).cleanTitle({emoji:"strip"}):1===n.length&&!r&&(t=e.get(i))?t.get("name"):"Untitled"}},{key:"typeName",value:function(){switch(this.type()){case"summary":return"Executive summary";case"survey":return"Survey results";case"response_pivot":return"Response pivot table";case"participant":return"Participant response history";case"gradebook":return"Gradebook"}}},{key:"description",value:function(){switch(this.type()){case"summary":return"Visual big-picture overview. Shows engagement, total responses and participants, and each polls screenshot. Useful ROI infographic.";case"survey":return"One section per participant, one line per question. If a group of questions was used as a survey, use this report to view each participants responses in order.";case"response_pivot":return"Full detail table with one row per response, perfect for exporting to Excel pivot tables. Useful for grouping, crosstabs, or computing sums and averages.";case"participant":return"One section per participant, one line per response. Shows when and how each individual response was submitted.";case"gradebook":return"Compact table with participants listed down the left and questions across the columns. Shows scores, participation, and attendance. Sort by rank to use as a leaderboard."}}},{key:"createdAt",value:function(){return(0,p.default)(this.get("created_at")).toString("MM/dd/yyyy h:mm:sstt")}},{key:"startedAt",value:function(){return(0,p.default)(this.get("started_at")).toString("MM/dd/yyyy h:mm:sstt")}},{key:"finishedAt",value:function(){return(0,p.default)(this.get("finished_at")).toString("MM/dd/yyyy h:mm:sstt")}},{key:"resultsUrl",value:function(){return this.url()+"/results"}},{key:"fetchResults",value:function(){var e=this,t=d.default.support.cors?this.get("results_url"):this.resultsUrl();return c.default.ajax({url:t}).done(function(t){return e.polls.set(t.polls,{parse:!0,merge:!0}),e.unset("results",{silent:!0}),e.set("results",t)})}},{key:"fetch",value:function(e){if(null==e&&(e={}),!this.isNew())return e.results?(e.data||(e.data={}),e.data.include="results_url",r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).call(this,e)):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetch",this).apply(this,arguments)}},{key:"save",value:function(e,n){return null==n&&(n={}),n.rerun&&(n.url=(0,s.default)(this.url()).addQuery({rerun:!0}).toString()),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"save",this).call(this,e,n)}},{key:"rerun",value:function(){return this.save({},{rerun:!0})}},{key:"state",value:function(){return this.get("state")}},{key:"type",value:function(){return this.get("report_type")}},{key:"options",value:function(){return this.get("options")}},{key:"filters",value:function(){return this.get("filters")}},{key:"results",value:function(){return this.get("results")}},{key:"isRunning",value:function(){var e=this.state();return["queued","started"].includes(e)}},{key:"hasFinished",value:function(){var e=this.state();return["finished","failed"].includes(e)}},{key:"pollForUpdates",value:function(){var e=this,t=d.default.Deferred();return setTimeout(function n(){return e.fetch({cache:!1,results:!0}).done(function(){switch(e.state()){case"finished":return e.checkInterval=null,t.resolve();case"failed":return e.checkInterval=null,t.reject(e.get("error"));default:e.checkInterval=setTimeout(n,3e3)}}).fail(function(){return t.reject.apply(t,arguments)})},1e3),t.promise()}},{key:"setOptions",value:function(e){return null==e&&(e={}),this.setHash("options",e)}},{key:"saveOptions",value:function(e,t){return null==e&&(e={}),null==t&&(t={}),this.saveHash("options",e,t)}},{key:"setFilters",value:function(e,t){return null==e&&(e={}),null==t&&(t={}),this.setHash("filters",e,t)}},{key:"saveFilters",value:function(e,t){return null==e&&(e={}),null==t&&(t={}),this.saveHash("filters",e,t)}},{key:"saveHash",value:function(e,t,n){var i=this;null==t&&(t={}),null==n&&(n={});var r=this.buildOptionsHash(e,t,n),o=r.hash,a=r.changeEvents;if(!u.default.isEmpty(a)){var s={};s[e]=o;var l=this.save(s,n);if(n.wait)return l.done(function(){return i.triggerEvents(a)});if(!n.silent)return this.triggerEvents(a)}}},{key:"setHash",value:function(e,t,n){null==t&&(t={}),null==n&&(n={});var i=this.buildOptionsHash(e,t,n),r=i.hash,o=i.changeEvents;if(!u.default.isEmpty(o)){var a={};if(a[e]=r,this.set(a,n),!n.silent)return this.triggerEvents(o)}}},{key:"triggerEvents",value:function(e){var t=this;return u.default.each(e,function(e,n){return t.trigger(n,e)})}},{key:"buildOptionsHash",value:function(e,t){null==t&&(t={});var n=this.get(e),i={},r=!1;return u.default.each(t,function(t,o){n[o]!==t&&(r=!0,n[o]=t,i["change:"+e+":"+o]=t)}),r&&(i["change:"+e]=n),{hash:n,changeEvents:i}}}],[{key:"initClass",value:function(){this.prototype.urlRoot="/api/reports",this.prototype.modelProperties=["filters","options","name","audience_size","report_type"]}},{key:"types",value:function(){return["summary","survey","response_pivot","participant","gradebook"]}}]),t}();h.initClass(),t.default=h},zb4P:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n("fxyI")),s=c(n("x4Pe")),l=c(n("RI/6")),u=c(n("HLe7"));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=void 0,n=e.groups.findWhere({group_id:-1});return n||(n=new PollEv.Model.Group({id:-1,name:"Ungrouped",owner_id:e.id}),e.groups.add(n),(t=e.groups.get(-1)).activities||(t.activities=new PollEv.Model.ActivityCollection)),n}var d=void 0,f=function(t,n){r.ajax("/my/polls/search",{method:"POST",data:{term:n}}).then(function(i){var r=i.groups.map(function(t){return t=PollEv.Util.popRootKey(t),e.extend(t,{collapsed:!1,id:t.id||-1})}),o=i.competitions.map(function(t){return t=PollEv.Util.popRootKey(t),e.extend(t,{group_id:t.group_id||-1})}),s=i.surveys.map(function(t){return t=PollEv.Util.popRootKey(t),e.extend(t,{collapsed:!1,group_id:t.group_id||-1})}),u=i.polls.map(function(t){return t=PollEv.Util.popRootKey(t),e.extend(t,{group_id:t.group_id||-1})}),c=new PollEv.Model.Users,d=e.intersection(t.users.pluck("id"),e.pluck(PollEv.Util.popRootKeys(u),"owner_id")),f=e.compact(d.map(function(e){return PollEv.Util.popRootKey(t.users.get(e).toJSON())}));c.add(f),c.map(function(t){var n=e.uniq(e.compact(e.filter(r,function(e){return e.owner_id===t.id})));t.groups.comparator="sequence",t.groups.add(n),t.groups.models.forEach(function(e){return e.activities||(e.activities=new PollEv.Model.ActivityCollection)}),e.uniq(e.compact(e.filter(o,function(e){return e.owner_id===t.id}))).map(function(e){return-1===e.group_id&&p(t),t.groups.get(e.group_id).activities.add(e)}),e.uniq(e.compact(e.filter(s,function(e){return e.owner_id===t.id}))).map(function(e){return-1===e.group_id&&p(t),t.groups.get(e.group_id).activities.add(e)});var i=e.uniq(e.compact(e.filter(u,function(e){return e.owner_id===t.id}))),a=e.filter(i,function(e){return e.survey_id}),l=e.filter(i,function(e){return null===e.survey_id});return a.map(function(n){var i=e.flatten(t.groups.map(function(e){return e.activities.filter(function(e){return e instanceof PollEv.Model.Survey})}));return e.find(i,function(e){return n.survey_id===e.id}).polls.add(n)}),l.map(function(e){if(-1===e.group_id){var n=void 0;t.groups.add(new PollEv.Model.Group({id:-1,name:"Ungrouped",owner_id:t.id})),(n=t.groups.get(-1)).activities||(n.activities=new PollEv.Model.ActivityCollection)}return t.groups.get(e.group_id).activities.add(e)})}),c.length?(!function(t,n){t.list&&t.list.remove(),t.list=new a.default({collection:n,viewClass:function(){return l.default},viewOptions:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0;return r="function"==typeof t.options.user?t.options.user(n):t.options.user,e.defaults(i,{collection:n.groups,collapsible:t.users.length>1},r)}}),t.listenTo(t.list,"reset",function(e){e.forEach(function(e){return t.listenTo(e,"all",t.trigger)})}),t.$el.html(t.list.render().$el)}(t,c),t.$_toggleModifier(null,t.className,"empty",!1)):(h(t,n),t.$_toggleModifier(null,t.className,"empty",!0)),t.trigger("done")}).fail(function(e){return t.trigger("error",e)})},h=function(e,t){e.$el.html((0,u.default)()),e.$_element("term").text(t)},v=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r.View),o(n,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,(0,s.default)(this)),this.options=e.defaults(t,this.defaults),this.users=new PollEv.Model.Users(e.invoke(t.users,"toJSON"),{parse:!0}),this.search=e.debounce(e.partial(f,this),300)}},{key:"getSelected",value:function(){var t=e.map(this.$("[type='checkbox']:checked"),function(e){return i(e).closest("[data-type='poll'], [data-type='survey'], [data-type='group']").data("model")});return e.compact(t)}},{key:"clearSelected",value:function(){return this.$("[type='checkbox']:checked").prop("checked",!1)}},{key:"setSelected",value:function(e){var t=this;this.clearSelected(),e.forEach(function(e){var n=void 0;if(e instanceof PollEv.Model.Group)n=t.$(".component-activity-selector__group[data-id='"+e.get("id")+"'][data-user-id='"+e.get("owner_id")+"'] .component-activity-selector__group__header input:checkbox");else if(e instanceof PollEv.Model.Survey)n=t.$(".component-activity-selector__survey[data-id='"+e.get("id")+"'] .component-activity-selector__survey__header input:checkbox");else{var i=t.$(".component-activity-selector__poll[data-id='"+e.get("id")+"']").closest(".component-activity-selector__survey");i.is(".component-activity-selector__survey--expanded")||i.find(".component-activity-selector__survey__arrow-icon").click(),n=t.$(".component-activity-selector__poll[data-id='"+e.get("id")+"'] input:checkbox")}n.is(":checked")||n.click()})}},{key:"clear",value:function(){this.list&&this.list.remove()}},{key:"remove",value:function(){this.clear(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-activity-selector__search"}},{key:"events",get:function(){return{"click [type='checkbox']":function(t){!function(t,n){var r=i(n.target).is(":checked");if(d||(d=i(n.target)),n.shiftKey){var o=i("[type='checkbox']").index(i(n.target)),a=i("[type='checkbox']").index(d),s=e.sortBy([o,a]);i("[type='checkbox']").slice(s[0],s[1]+1).prop("checked",r).change()}d=i(n.target),t.trigger("check",t.getSelected())}(this,t)}}}},{key:"defaults",get:function(){return{users:[],user:function(){return{}}}}}]),n}();t.default=v}).call(t,n("rdLu"),n("7t+N"),n("32HH"))},znFP:function(e,t,n){"use strict";(function(e,i,r){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n("x4Pe")),s=u(n("xB7D")),l=u(n("8SBv"));function u(e){return e&&e.__esModule?e:{default:e}}var c=[{label:"Upload image",identifier:"image-upload",image:e((0,u(n("seBF")).default)())},{label:"World Map",identifier:"world-map",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/world_map.png"},{label:"U.S.A Map",identifier:"usa-map",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/usa_map.png"},{label:"XY coordinates",identifier:"xy-coord",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/x-y.png"},{label:"Smiles",identifier:"smiles",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/smiles.png"},{label:"Colors",identifier:"colors",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/colors.jpg"},{label:"Periodic table",identifier:"periodic-table",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/periodic_table.png"},{label:"Anatomy (male)",identifier:"male-anatomy",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/anatomy_male.png"},{label:"Anatomy (female)",identifier:"female-anatomy",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/anatomy_female.png"},{label:"Human teeth",identifier:"human-teeth",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/teeth.png"},{label:"Car parts",identifier:"car-parts",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/car_parts.png"},{label:"N. Hemisphere",identifier:"northern-stars",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/constellations_north.png"},{label:"S. hemisphere",identifier:"southern-stars",image:"https://www.polleverywhere.com/images/clickable_image_gallery/backgrounds/constellations_south.png"}],p=function(e,t){return h(e,t.name,t.url)},d=function(e,t){e.model.trigger("error",t.message,e.model)},f=function(e){return e.uploader.$el.show()},h=function(e,t,n){return e.model.setTypeOption("imageUrl",n)},v=function(e,t){return"image-upload"===t.identifier?(e.picker.unselect(),e.uploader.selectFile()):h(e,t.identifier,t.image)},g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.View),o(t,[{key:"initialize",value:function(e){null==e&&(e={}),i.extend(this,(0,a.default)(this)),i.defaults(e,{showUpload:!0}),this.showUpload=e.showUpload}},{key:"render",value:function(){var e,t;return t=void 0,t=(e=this).showUpload?c:i.reject(c,function(e){return"image-upload"===e.identifier}),e.picker=new s.default({name:"Clickable Image",showLabel:!1,elements:t.slice(0,12)}),e.listenTo(e.picker,"view:action",function(t,n){null==n&&(n={}),e.trigger("view:action","picker:"+t,n)}),e.$el.html(e.picker.render().$el),e.listenTo(e.picker,"select",i.partial(v,e)),this.$el.append(function(e){return e.uploader=new l.default({endpoint:PollEv.env.get("image_bucket_url"),allowedExtensions:["image/*"]}).render(),e.listenTo(e.uploader,"success",i.partial(p,e)),e.listenTo(e.uploader,"error",i.partial(d,e)),e.listenTo(e.uploader,"progress",i.partial(f,e)),e.uploader}(this).$el.hide()),this}},{key:"remove",value:function(){null!=this.uploader&&this.uploader.remove(),null!=this.picker&&this.picker.remove(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"className",get:function(){return"component-editor-clickable-image__selector"}}]),t}();t.default=g}).call(t,n("7t+N"),n("rdLu"),n("32HH"))},zs4c:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.STATES=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("xUp4"),n("geHz"),n("frds");var o=c(n("40hA")),a=c(n("GGcf")),s=c(n("BWO0")),l=c(n("tKiV")),u=c(n("wZev"));function c(e){return e&&e.__esModule?e:{default:e}}var p={LOGIN:"login",SIGNUP:"signup"},d={registration:!0,jumpRoute:!1,userRequired:!0,showPasswordReset:!0,samlCheckEnabled:!1,showLogo:!0,showFormIcons:!1,registerParticipant:!1,alwaysShowPasswordReset:!1,showAsTabs:!1,disableSignup:!1,initialState:p.LOGIN,overrideLegalLinks:!0},f=function(e,t,n){return e.clearErrors(),t===p.SIGNUP?e.showCreateAccountFields():e.showLoginFields(),n&&e.app.trigger("view:action","login:switchTab",{tab:t,initiator:n}),e.trigger("autofocus"),e.activeState=t===p.SIGNUP?p.SIGNUP:p.LOGIN,i.each(p,function(n){return e.$("[js-tab-"+n+"]").toggleClass("active",t===n).attr("aria-pressed",t===n?"true":"false")})},h=function(e){var t=null,n=e.$(".login--tab-container input:visible").toArray();(t=n.find(function(e){return!e.value.trim()}))||(t=n.pop()),e.$(t).focus()};t.STATES=p;var v=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"preinitialize",value:function(){this.bodyClass="login",this.className="login",this.title="Log in or create an account",this.events={"click .create-session":"handleLoginClick","click .create-account":"handleSignupClick","click .reset-password":"resetPassword","submit form":"handleFormSubmit","click [js-see-terms]":"handleLink","click [js-see-privacy-policy]":"handleLink","click [js-tab-login]":function(){f(this,p.LOGIN,"click")},"click [js-tab-signup]":function(){f(this,p.SIGNUP,"click")}}}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.model||(this.model=new PollEv.Model.User),this.features=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.registerParticipant&&(e.initialState=p.SIGNUP),void 0!==e.registration&&(e.disableSignup=!(e.registerParticipant||e.registration)),i.defaults(e,d)}(t.features),this.authorization=t.authorization,this.features.disableSignup||(this.optIns=new u.default({overrideLegalLinks:this.features.overrideLegalLinks}),this.listenTo(this.optIns,"link",function(t){e.app.trigger("signup:seeTerms",t)})),this.listenTo(this,"autofocus",i.partial(h,this))}},{key:"remove",value:function(){for(var e in this.inputFields)this.inputFields[e].remove();(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this)}},{key:"handleLink",value:function(t){this.features.overrideLegalLinks&&(t.preventDefault(),this.app.trigger("signup:seeTerms",e(t.target).attr("data-pe-link")))}},{key:"handleFormSubmit",value:function(e){this.activeState===p.LOGIN?this.submitSession():this.submitCreate()}},{key:"handleLoginClick",value:function(e){null!=e&&e.preventDefault(),this.submitSession()}},{key:"handleSignupClick",value:function(e){null!=e&&e.preventDefault(),this.submitCreate()}},{key:"accountCreateFields",value:function(){return this.$(".account-creation")}},{key:"validateAccountCreation",value:function(){this.clearErrors(),this.validateFields("username","password","first-name","last-name","opt_ins"),this.focusFirstInvalidField()}},{key:"emailPopulated",value:function(){var e=this.serializeForm().email;return e&&PollEv.Util.EMAIL_REGEXP.test(e)}},{key:"testUsername",value:function(){var e=this;return this.$(".login--sso").toggleVisibility(!1),this.serializeForm().email.length<3?(this.$(".form-field-container:not(.account-creation)").toggleVisibility(!0),void this.$(".login--buttons").toggleVisibility(!0)):(this.$(".create-session, .password").prop("disabled",!1),this.features.samlCheckEnabled?this.checkSaml().then().always(function(t){t.has_saml_hint||e.checkUserExistence()}):this.checkUserExistence())}},{key:"checkSaml",value:function(){var t=this;return PollEv.Model.User.samlAjax(this.serializeForm().email).done(function(n){n.has_saml_hint?(!function(t,n){var i=e("<p />").append(n.user_msg);if(t.$(".create-account").prop("disabled",!0),t.$(".login--sso").toggleVisibility(!0).html(i),n.force_saml)t.$(".create-session, .password").prop("disabled",!0)}(t,n),t.accountIsValid=!0):t.accountIsValid=!1})}},{key:"renderAccountFound",value:function(){if(this.$(".create-account").toggleDisabled(!0),this.activeState===p.SIGNUP){this.inputFields.username.toggleError("Account already exists."),this.focusFirstInvalidField(),this.accountIsValid=!1}else this.accountIsValid=!0}},{key:"renderAccountNotFound",value:function(e){if(this.$(".create-account").toggleDisabled(!1),this.activeState===p.LOGIN){this.inputFields.username.toggleError("Account does not exist."),this.focusFirstInvalidField(),this.accountIsValid=!1}else this.accountIsValid=!0}},{key:"checkUserExistence",value:function(){var e=this.serializeForm().email;return PollEv.Model.User.checkForExistence(e).done(this.renderAccountFound.bind(this)).fail(this.renderAccountNotFound.bind(this))}},{key:"invalidateLoginFields",value:function(){this.clearErrors(),this.features.showPasswordReset&&this.$("[js-forgot-password]").toggleVisibility(!0),this.focusFirstInvalidField()}},{key:"clearErrors",value:function(){for(var e in this.$(".inline-errors p").toggleVisibility(!1),this.$(".login--errors").empty().toggleVisibility(!1),this.inputFields)this.inputFields[e].toggleError()}},{key:"showLoginFields",value:function(){this.clearErrors(),this.accountCreateFields().toggleVisibility(!1),this.$(".account-login").toggleVisibility(!0),this.$("button.create-session").text("Log in").attr("type","submit").toggleVisibility(!0),this.$("button.create-account").attr("type","button").toggleVisibility(!1),this.$(".username--prompt").text("Email or Username"),this.inputFields.username.$input.prop("type","text"),this.inputFields.username.$input.prop("name","username"),this.$("#js-username-validation-message").toggleVisibility(!0)}},{key:"showCreateAccountFields",value:function(){this.features.disableSignup||(this.clearErrors(),this.accountCreateFields().toggleVisibility(!0),this.$(".account-login").toggleVisibility(!1),this.$("button.create-session").attr("type","button").toggleVisibility(!1),this.$("button.create-account").attr("type","submit").toggleVisibility(!0),this.$(".username--prompt").text("Email"),this.inputFields.username.$input.prop("type","email"),this.inputFields.username.$input.prop("name","email"),this.$("#js-username-validation-message").toggleVisibility(!1))}},{key:"renderHeader",value:function(){this.app.title(this.pageTitle())}},{key:"renderLogo",value:function(){!1===this.features.showLogo&&this.$(".polleverywhere-logo").remove()}},{key:"renderFormIcons",value:function(){this.$("[js-icon]").toggleVisibility(this.features.showFormIcons)}},{key:"renderSuccess",value:function(){var e="function"==typeof this.features.jumpRoute?this.features.jumpRoute():void 0,t=PollEv.Util.params(location.href).return_to_success||PollEv.env.get("root_url").path(e)||PollEv.env.get("root_url");this.$(".success").attr({value:t})}},{key:"renderFailed",value:function(){this.$(".failed").attr({value:PollEv.env.get("root_url").path("failed")})}},{key:"renderSuspended",value:function(){this.$(".suspended").attr({value:PollEv.env.get("root_url").path("suspended")})}},{key:"renderOptIns",value:function(){this.features.disableSignup||this.$(".login__opt-ins").append(this.optIns.render().$el)}},{key:"render",value:function(){var e=this;return this.renderTemplate(),this.submitting=!1,this.accountIsValid=!0,this.inputFields={},this.$('.form-field-container input[type="text"], .form-field-container input[type="password"]').each(function(t,n){var i=new a.default({el:n});i.validateOn("change"),e.inputFields[n.name]=i}),this.listenTo(this.inputFields.username,"valid",function(){e.submitting||e.testUsername()}),this.$el.toggleModifier("m-tabbed",!0),this.renderLogo(),this.renderFormIcons(),this.renderSuccess(),this.renderFailed(),this.renderSuspended(),this.renderPrompt(),this.renderOptIns(),this.features.disableSignup&&this.disableSignup(),f(this,this.features.initialState,!1),this.features.alwaysShowPasswordReset&&this.$("[js-forgot-password]").toggleVisibility(!0),this.app.trigger("spinner:hide"),this}},{key:"focusFirstInvalidField",value:function(){this.$('input[aria-invalid="true"]').first().focus()}},{key:"resetPassword",value:function(){this.emailPopulated()?this.app.navigate("reset_password?email="+encodeURIComponent(this.serializeForm().email)):this.app.navigate("reset_password")}},{key:"serializeForm",value:function(){return{email:this.$(".username").val().trim(),password:this.$(".password").val().trim(),first_name:this.$(".first-name").val().trim(),last_name:this.$(".last-name").val().trim()}}},{key:"loginSuccess",value:function(){this.app.trigger("spinner:hide"),this.features.userRequired&&this.authorization.resolve(),this.app.trigger("notification:hide"),this.trigger("login:complete")}},{key:"loginFailure",value:function(){this.app.trigger("spinner:hide"),this.invalidateLoginFields(),this.inputFields.password.toggleError("Password is incorrect.")}},{key:"validateFields",value:function(){for(var e=this,t=!0,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach(function(n){"opt_ins"===n?t&=e.optIns.isValid():n in e.inputFields&&(t&=e.inputFields[n].validate())}),t}},{key:"submitSession",value:function(){var e=this;if(this.submitting=!0,!this.accountIsValid||!this.validateFields("username","password"))return this.focusFirstInvalidField(),void(this.submitting=!1);var t=this.serializeForm(),n=t.email,i=t.password;return this.$("button.create-session").toggleDisabled(!0),this.app.trigger("spinner:show"),this.app.session.authenticate(n,i).done(this.loginSuccess.bind(this)).fail(this.loginFailure.bind(this)).always(function(){e.$("button.create-session").toggleDisabled(!1),e.submitting=!1})}},{key:"createSuccess",value:function(){var e=this;return this.listenToOnce(this.app.session,"session:started",function(){e.trigger("login:create"),e.trigger("login:complete"),e.features.userRequired&&e.authorization.resolve()}),this.app.session.start()}},{key:"createFailure",value:function(t){if(t.responseJSON){var n=t.responseJSON.error;/email.+(invalid|taken|too long)/i.test(n)?(this.$("#js-username-validation-message").text(n).toggleVisibility(!0),this.$(".username").addClass("invalid").attr("aria-invalid",!0)):this.$(".login--errors").append(e("<p>").text(n)).toggleVisibility(!0)}}},{key:"submitCreate",value:function(){var t=this;if(this.submitting=!0,this.clearErrors(),this.optIns.isReady()){if(!this.validateFields("username","password","first-name","last-name","opt_ins")||!this.accountIsValid)return this.focusFirstInvalidField(),void(this.submitting=!1);var n=this.serializeForm(),r=this.model.toJSON.bind(this.model);this.model.toJSON=function(){return i.extend({},r(),t.optIns.serialize())},this.app.trigger("spinner:show"),this.model.set(n),this.model.save().done(this.createSuccess.bind(this)).fail(this.createFailure.bind(this)).always(function(){t.model.toJSON=r,t.app.trigger("spinner:hide"),t.$("button.create-account").toggleDisabled(!1),t.submitting=!1})}else this.$(".login--errors").append(e("<p>").text("Please wait for above content to load")).toggleVisibility(!0)}},{key:"disableSignup",value:function(){f(this,p.LOGIN,!1),this.$(".login--tabs").hide(),this.title="Log in",this.renderTitle()}},{key:"renderPrompt",value:function(e){if(this._cookiesEnabled())e=e||this.features.prompt||"",this.$("[js-login-prompt]").text(e);else{this.$("[js-login-prompt]").addClass("error").html('You need to <a href="http://www.google.com/cookies.html">enable your browser\'s cookies</a> to login'),this.$("input, button").toggleDisabled(!0)}}},{key:"_cookiesEnabled",value:function(){return document.cookie="testcookie",-1!==document.cookie.indexOf("testcookie")}},{key:"template",get:function(){return this._template||function(){return(0,l.default)({LogoTpl:s.default})}},set:function(e){this._template=e}}]),n}();t.default=v}).call(t,n("7t+N"),n("rdLu"))}},[0]);
//# sourceMappingURL=native.cec7b186a8d3140058f5.js.map